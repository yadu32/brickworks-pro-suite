var X8=Object.defineProperty;var P5=e=>{throw TypeError(e)};var Z8=(e,t,r)=>t in e?X8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Qt=(e,t,r)=>Z8(e,typeof t!="symbol"?t+"":t,r),rv=(e,t,r)=>t.has(e)||P5("Cannot "+r);var Ce=(e,t,r)=>(rv(e,t,"read from private field"),r?r.call(e):t.get(e)),Bt=(e,t,r)=>t.has(e)?P5("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),_t=(e,t,r,n)=>(rv(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),kn=(e,t,r)=>(rv(e,t,"access private method"),r);var Fp=(e,t,r,n)=>({set _(s){_t(e,t,s,r)},get _(){return Ce(e,t,n)}});function sE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ah(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var iE={exports:{}},h0={},oE={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch=Symbol.for("react.element"),eL=Symbol.for("react.portal"),tL=Symbol.for("react.fragment"),rL=Symbol.for("react.strict_mode"),nL=Symbol.for("react.profiler"),sL=Symbol.for("react.provider"),iL=Symbol.for("react.context"),oL=Symbol.for("react.forward_ref"),aL=Symbol.for("react.suspense"),lL=Symbol.for("react.memo"),cL=Symbol.for("react.lazy"),T5=Symbol.iterator;function uL(e){return e===null||typeof e!="object"?null:(e=T5&&e[T5]||e["@@iterator"],typeof e=="function"?e:null)}var aE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lE=Object.assign,cE={};function vd(e,t,r){this.props=e,this.context=t,this.refs=cE,this.updater=r||aE}vd.prototype.isReactComponent={};vd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uE(){}uE.prototype=vd.prototype;function Mw(e,t,r){this.props=e,this.context=t,this.refs=cE,this.updater=r||aE}var Fw=Mw.prototype=new uE;Fw.constructor=Mw;lE(Fw,vd.prototype);Fw.isPureReactComponent=!0;var R5=Array.isArray,dE=Object.prototype.hasOwnProperty,Bw={current:null},fE={key:!0,ref:!0,__self:!0,__source:!0};function hE(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)dE.call(t,n)&&!fE.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Ch,type:e,key:i,ref:o,props:s,_owner:Bw.current}}function dL(e,t){return{$$typeof:Ch,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $w(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ch}function fL(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var L5=/\/+/g;function nv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fL(""+e.key):t.toString(36)}function Lm(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ch:case eL:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+nv(o,0):n,R5(s)?(r="",e!=null&&(r=e.replace(L5,"$&/")+"/"),Lm(s,t,r,"",function(u){return u})):s!=null&&($w(s)&&(s=dL(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(L5,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",R5(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+nv(i,a);o+=Lm(i,t,r,l,s)}else if(l=uL(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+nv(i,a++),o+=Lm(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Bp(e,t,r){if(e==null)return e;var n=[],s=0;return Lm(e,n,"","",function(i){return t.call(r,i,s++)}),n}function hL(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xn={current:null},Om={transition:null},pL={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:Om,ReactCurrentOwner:Bw};function pE(){throw Error("act(...) is not supported in production builds of React.")}Mt.Children={map:Bp,forEach:function(e,t,r){Bp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Bp(e,function(){t++}),t},toArray:function(e){return Bp(e,function(t){return t})||[]},only:function(e){if(!$w(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Mt.Component=vd;Mt.Fragment=tL;Mt.Profiler=nL;Mt.PureComponent=Mw;Mt.StrictMode=rL;Mt.Suspense=aL;Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pL;Mt.act=pE;Mt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=lE({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Bw.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)dE.call(t,l)&&!fE.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Ch,type:e.type,key:s,ref:i,props:n,_owner:o}};Mt.createContext=function(e){return e={$$typeof:iL,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sL,_context:e},e.Consumer=e};Mt.createElement=hE;Mt.createFactory=function(e){var t=hE.bind(null,e);return t.type=e,t};Mt.createRef=function(){return{current:null}};Mt.forwardRef=function(e){return{$$typeof:oL,render:e}};Mt.isValidElement=$w;Mt.lazy=function(e){return{$$typeof:cL,_payload:{_status:-1,_result:e},_init:hL}};Mt.memo=function(e,t){return{$$typeof:lL,type:e,compare:t===void 0?null:t}};Mt.startTransition=function(e){var t=Om.transition;Om.transition={};try{e()}finally{Om.transition=t}};Mt.unstable_act=pE;Mt.useCallback=function(e,t){return Xn.current.useCallback(e,t)};Mt.useContext=function(e){return Xn.current.useContext(e)};Mt.useDebugValue=function(){};Mt.useDeferredValue=function(e){return Xn.current.useDeferredValue(e)};Mt.useEffect=function(e,t){return Xn.current.useEffect(e,t)};Mt.useId=function(){return Xn.current.useId()};Mt.useImperativeHandle=function(e,t,r){return Xn.current.useImperativeHandle(e,t,r)};Mt.useInsertionEffect=function(e,t){return Xn.current.useInsertionEffect(e,t)};Mt.useLayoutEffect=function(e,t){return Xn.current.useLayoutEffect(e,t)};Mt.useMemo=function(e,t){return Xn.current.useMemo(e,t)};Mt.useReducer=function(e,t,r){return Xn.current.useReducer(e,t,r)};Mt.useRef=function(e){return Xn.current.useRef(e)};Mt.useState=function(e){return Xn.current.useState(e)};Mt.useSyncExternalStore=function(e,t,r){return Xn.current.useSyncExternalStore(e,t,r)};Mt.useTransition=function(){return Xn.current.useTransition()};Mt.version="18.3.1";oE.exports=Mt;var x=oE.exports;const qe=Dw(x),p0=sE({__proto__:null,default:qe},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mL=x,gL=Symbol.for("react.element"),yL=Symbol.for("react.fragment"),vL=Object.prototype.hasOwnProperty,wL=mL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xL={key:!0,ref:!0,__self:!0,__source:!0};function mE(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)vL.call(t,n)&&!xL.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:gL,type:e,key:i,ref:o,props:s,_owner:wL.current}}h0.Fragment=yL;h0.jsx=mE;h0.jsxs=mE;iE.exports=h0;var c=iE.exports,gE={exports:{}},Ms={},yE={exports:{}},vE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,H){var ae=M.length;M.push(H);e:for(;0<ae;){var de=ae-1>>>1,C=M[de];if(0<s(C,H))M[de]=H,M[ae]=C,ae=de;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var H=M[0],ae=M.pop();if(ae!==H){M[0]=ae;e:for(var de=0,C=M.length,q=C>>>1;de<q;){var V=2*(de+1)-1,Y=M[V],se=V+1,Q=M[se];if(0>s(Y,ae))se<C&&0>s(Q,Y)?(M[de]=Q,M[se]=ae,de=se):(M[de]=Y,M[V]=ae,de=V);else if(se<C&&0>s(Q,ae))M[de]=Q,M[se]=ae,de=se;else break e}}return H}function s(M,H){var ae=M.sortIndex-H.sortIndex;return ae!==0?ae:M.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,m=3,f=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(M){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=M)n(u),H.sortIndex=H.expirationTime,t(l,H);else break;H=r(u)}}function E(M){if(y=!1,_(M),!w)if(r(l)!==null)w=!0,ne(T);else{var H=r(u);H!==null&&ie(E,H.startTime-M)}}function T(M,H){w=!1,y&&(y=!1,v(U),U=-1),f=!0;var ae=m;try{for(_(H),h=r(l);h!==null&&(!(h.expirationTime>H)||M&&!L());){var de=h.callback;if(typeof de=="function"){h.callback=null,m=h.priorityLevel;var C=de(h.expirationTime<=H);H=e.unstable_now(),typeof C=="function"?h.callback=C:h===r(l)&&n(l),_(H)}else n(l);h=r(l)}if(h!==null)var q=!0;else{var V=r(u);V!==null&&ie(E,V.startTime-H),q=!1}return q}finally{h=null,m=ae,f=!1}}var F=!1,D=null,U=-1,B=5,K=-1;function L(){return!(e.unstable_now()-K<B)}function k(){if(D!==null){var M=e.unstable_now();K=M;var H=!0;try{H=D(!0,M)}finally{H?W():(F=!1,D=null)}}else F=!1}var W;if(typeof S=="function")W=function(){S(k)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Z=P.port2;P.port1.onmessage=k,W=function(){Z.postMessage(null)}}else W=function(){b(k,0)};function ne(M){D=M,F||(F=!0,W())}function ie(M,H){U=b(function(){M(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){w||f||(w=!0,ne(T))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var ae=m;m=H;try{return M()}finally{m=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,H){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ae=m;m=M;try{return H()}finally{m=ae}},e.unstable_scheduleCallback=function(M,H,ae){var de=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?de+ae:de):ae=de,M){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ae+C,M={id:d++,callback:H,priorityLevel:M,startTime:ae,expirationTime:C,sortIndex:-1},ae>de?(M.sortIndex=ae,t(u,M),r(l)===null&&M===r(u)&&(y?(v(U),U=-1):y=!0,ie(E,ae-de))):(M.sortIndex=C,t(l,M),w||f||(w=!0,ne(T))),M},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(M){var H=m;return function(){var ae=m;m=H;try{return M.apply(this,arguments)}finally{m=ae}}}})(vE);yE.exports=vE;var bL=yE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _L=x,Ds=bL;function Fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wE=new Set,Wf={};function _c(e,t){Xu(e,t),Xu(e+"Capture",t)}function Xu(e,t){for(Wf[e]=t,e=0;e<t.length;e++)wE.add(t[e])}var Go=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),k1=Object.prototype.hasOwnProperty,SL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O5={},I5={};function NL(e){return k1.call(I5,e)?!0:k1.call(O5,e)?!1:SL.test(e)?I5[e]=!0:(O5[e]=!0,!1)}function EL(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jL(e,t,r,n){if(t===null||typeof t>"u"||EL(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Zn(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){jn[e]=new Zn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];jn[t]=new Zn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){jn[e]=new Zn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){jn[e]=new Zn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){jn[e]=new Zn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){jn[e]=new Zn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){jn[e]=new Zn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){jn[e]=new Zn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){jn[e]=new Zn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uw=/[\-:]([a-z])/g;function qw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uw,qw);jn[t]=new Zn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uw,qw);jn[t]=new Zn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uw,qw);jn[t]=new Zn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){jn[e]=new Zn(e,1,!1,e.toLowerCase(),null,!1,!1)});jn.xlinkHref=new Zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){jn[e]=new Zn(e,1,!1,e.toLowerCase(),null,!0,!0)});function zw(e,t,r,n){var s=jn.hasOwnProperty(t)?jn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jL(t,r,s,n)&&(r=null),n||s===null?NL(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ea=_L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$p=Symbol.for("react.element"),pu=Symbol.for("react.portal"),mu=Symbol.for("react.fragment"),Vw=Symbol.for("react.strict_mode"),P1=Symbol.for("react.profiler"),xE=Symbol.for("react.provider"),bE=Symbol.for("react.context"),Ww=Symbol.for("react.forward_ref"),T1=Symbol.for("react.suspense"),R1=Symbol.for("react.suspense_list"),Hw=Symbol.for("react.memo"),Ca=Symbol.for("react.lazy"),_E=Symbol.for("react.offscreen"),D5=Symbol.iterator;function uf(e){return e===null||typeof e!="object"?null:(e=D5&&e[D5]||e["@@iterator"],typeof e=="function"?e:null)}var _r=Object.assign,sv;function Nf(e){if(sv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);sv=t&&t[1]||""}return`
`+sv+e}var iv=!1;function ov(e,t){if(!e||iv)return"";iv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{iv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Nf(e):""}function AL(e){switch(e.tag){case 5:return Nf(e.type);case 16:return Nf("Lazy");case 13:return Nf("Suspense");case 19:return Nf("SuspenseList");case 0:case 2:case 15:return e=ov(e.type,!1),e;case 11:return e=ov(e.type.render,!1),e;case 1:return e=ov(e.type,!0),e;default:return""}}function L1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mu:return"Fragment";case pu:return"Portal";case P1:return"Profiler";case Vw:return"StrictMode";case T1:return"Suspense";case R1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bE:return(e.displayName||"Context")+".Consumer";case xE:return(e._context.displayName||"Context")+".Provider";case Ww:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hw:return t=e.displayName||null,t!==null?t:L1(e.type)||"Memo";case Ca:t=e._payload,e=e._init;try{return L1(e(t))}catch{}}return null}function CL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L1(t);case 8:return t===Vw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function el(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function SE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kL(e){var t=SE(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Up(e){e._valueTracker||(e._valueTracker=kL(e))}function NE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=SE(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function fg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function O1(e,t){var r=t.checked;return _r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function M5(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=el(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function EE(e,t){t=t.checked,t!=null&&zw(e,"checked",t,!1)}function I1(e,t){EE(e,t);var r=el(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?D1(e,t.type,r):t.hasOwnProperty("defaultValue")&&D1(e,t.type,el(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function F5(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function D1(e,t,r){(t!=="number"||fg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ef=Array.isArray;function Cu(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+el(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function M1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return _r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function B5(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Fe(92));if(Ef(r)){if(1<r.length)throw Error(Fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:el(r)}}function jE(e,t){var r=el(t.value),n=el(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function $5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function AE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function F1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?AE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qp,CE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qp=qp||document.createElement("div"),qp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Rf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PL=["Webkit","ms","Moz","O"];Object.keys(Rf).forEach(function(e){PL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rf[t]=Rf[e]})});function kE(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Rf.hasOwnProperty(e)&&Rf[e]?(""+t).trim():t+"px"}function PE(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=kE(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var TL=_r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function B1(e,t){if(t){if(TL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Fe(62))}}function $1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U1=null;function Gw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var q1=null,ku=null,Pu=null;function U5(e){if(e=Th(e)){if(typeof q1!="function")throw Error(Fe(280));var t=e.stateNode;t&&(t=w0(t),q1(e.stateNode,e.type,t))}}function TE(e){ku?Pu?Pu.push(e):Pu=[e]:ku=e}function RE(){if(ku){var e=ku,t=Pu;if(Pu=ku=null,U5(e),t)for(e=0;e<t.length;e++)U5(t[e])}}function LE(e,t){return e(t)}function OE(){}var av=!1;function IE(e,t,r){if(av)return e(t,r);av=!0;try{return LE(e,t,r)}finally{av=!1,(ku!==null||Pu!==null)&&(OE(),RE())}}function Gf(e,t){var r=e.stateNode;if(r===null)return null;var n=w0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Fe(231,t,typeof r));return r}var z1=!1;if(Go)try{var df={};Object.defineProperty(df,"passive",{get:function(){z1=!0}}),window.addEventListener("test",df,df),window.removeEventListener("test",df,df)}catch{z1=!1}function RL(e,t,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Lf=!1,hg=null,pg=!1,V1=null,LL={onError:function(e){Lf=!0,hg=e}};function OL(e,t,r,n,s,i,o,a,l){Lf=!1,hg=null,RL.apply(LL,arguments)}function IL(e,t,r,n,s,i,o,a,l){if(OL.apply(this,arguments),Lf){if(Lf){var u=hg;Lf=!1,hg=null}else throw Error(Fe(198));pg||(pg=!0,V1=u)}}function Sc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function DE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function q5(e){if(Sc(e)!==e)throw Error(Fe(188))}function DL(e){var t=e.alternate;if(!t){if(t=Sc(e),t===null)throw Error(Fe(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return q5(s),e;if(i===n)return q5(s),t;i=i.sibling}throw Error(Fe(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(Fe(189))}}if(r.alternate!==n)throw Error(Fe(190))}if(r.tag!==3)throw Error(Fe(188));return r.stateNode.current===r?e:t}function ME(e){return e=DL(e),e!==null?FE(e):null}function FE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=FE(e);if(t!==null)return t;e=e.sibling}return null}var BE=Ds.unstable_scheduleCallback,z5=Ds.unstable_cancelCallback,ML=Ds.unstable_shouldYield,FL=Ds.unstable_requestPaint,Dr=Ds.unstable_now,BL=Ds.unstable_getCurrentPriorityLevel,Kw=Ds.unstable_ImmediatePriority,$E=Ds.unstable_UserBlockingPriority,mg=Ds.unstable_NormalPriority,$L=Ds.unstable_LowPriority,UE=Ds.unstable_IdlePriority,m0=null,ao=null;function UL(e){if(ao&&typeof ao.onCommitFiberRoot=="function")try{ao.onCommitFiberRoot(m0,e,void 0,(e.current.flags&128)===128)}catch{}}var Ai=Math.clz32?Math.clz32:VL,qL=Math.log,zL=Math.LN2;function VL(e){return e>>>=0,e===0?32:31-(qL(e)/zL|0)|0}var zp=64,Vp=4194304;function jf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gg(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=jf(a):(i&=o,i!==0&&(n=jf(i)))}else o=r&~s,o!==0?n=jf(o):i!==0&&(n=jf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ai(t),s=1<<r,n|=e[r],t&=~s;return n}function WL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HL(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ai(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=WL(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function W1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qE(){var e=zp;return zp<<=1,!(zp&4194240)&&(zp=64),e}function lv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function kh(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ai(t),e[t]=r}function GL(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ai(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Jw(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ai(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Zt=0;function zE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var VE,Yw,WE,HE,GE,H1=!1,Wp=[],Ha=null,Ga=null,Ka=null,Kf=new Map,Jf=new Map,Pa=[],KL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V5(e,t){switch(e){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":Kf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jf.delete(t.pointerId)}}function ff(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Th(t),t!==null&&Yw(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function JL(e,t,r,n,s){switch(t){case"focusin":return Ha=ff(Ha,e,t,r,n,s),!0;case"dragenter":return Ga=ff(Ga,e,t,r,n,s),!0;case"mouseover":return Ka=ff(Ka,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Kf.set(i,ff(Kf.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Jf.set(i,ff(Jf.get(i)||null,e,t,r,n,s)),!0}return!1}function KE(e){var t=Wl(e.target);if(t!==null){var r=Sc(t);if(r!==null){if(t=r.tag,t===13){if(t=DE(r),t!==null){e.blockedOn=t,GE(e.priority,function(){WE(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Im(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=G1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);U1=n,r.target.dispatchEvent(n),U1=null}else return t=Th(r),t!==null&&Yw(t),e.blockedOn=r,!1;t.shift()}return!0}function W5(e,t,r){Im(e)&&r.delete(t)}function YL(){H1=!1,Ha!==null&&Im(Ha)&&(Ha=null),Ga!==null&&Im(Ga)&&(Ga=null),Ka!==null&&Im(Ka)&&(Ka=null),Kf.forEach(W5),Jf.forEach(W5)}function hf(e,t){e.blockedOn===t&&(e.blockedOn=null,H1||(H1=!0,Ds.unstable_scheduleCallback(Ds.unstable_NormalPriority,YL)))}function Yf(e){function t(s){return hf(s,e)}if(0<Wp.length){hf(Wp[0],e);for(var r=1;r<Wp.length;r++){var n=Wp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ha!==null&&hf(Ha,e),Ga!==null&&hf(Ga,e),Ka!==null&&hf(Ka,e),Kf.forEach(t),Jf.forEach(t),r=0;r<Pa.length;r++)n=Pa[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Pa.length&&(r=Pa[0],r.blockedOn===null);)KE(r),r.blockedOn===null&&Pa.shift()}var Tu=ea.ReactCurrentBatchConfig,yg=!0;function QL(e,t,r,n){var s=Zt,i=Tu.transition;Tu.transition=null;try{Zt=1,Qw(e,t,r,n)}finally{Zt=s,Tu.transition=i}}function XL(e,t,r,n){var s=Zt,i=Tu.transition;Tu.transition=null;try{Zt=4,Qw(e,t,r,n)}finally{Zt=s,Tu.transition=i}}function Qw(e,t,r,n){if(yg){var s=G1(e,t,r,n);if(s===null)vv(e,t,n,vg,r),V5(e,n);else if(JL(s,e,t,r,n))n.stopPropagation();else if(V5(e,n),t&4&&-1<KL.indexOf(e)){for(;s!==null;){var i=Th(s);if(i!==null&&VE(i),i=G1(e,t,r,n),i===null&&vv(e,t,n,vg,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else vv(e,t,n,null,r)}}var vg=null;function G1(e,t,r,n){if(vg=null,e=Gw(n),e=Wl(e),e!==null)if(t=Sc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=DE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vg=e,null}function JE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BL()){case Kw:return 1;case $E:return 4;case mg:case $L:return 16;case UE:return 536870912;default:return 16}default:return 16}}var Ua=null,Xw=null,Dm=null;function YE(){if(Dm)return Dm;var e,t=Xw,r=t.length,n,s="value"in Ua?Ua.value:Ua.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Dm=s.slice(e,1<n?1-n:void 0)}function Mm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hp(){return!0}function H5(){return!1}function Fs(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hp:H5,this.isPropagationStopped=H5,this}return _r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hp)},persist:function(){},isPersistent:Hp}),t}var wd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zw=Fs(wd),Ph=_r({},wd,{view:0,detail:0}),ZL=Fs(Ph),cv,uv,pf,g0=_r({},Ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ex,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pf&&(pf&&e.type==="mousemove"?(cv=e.screenX-pf.screenX,uv=e.screenY-pf.screenY):uv=cv=0,pf=e),cv)},movementY:function(e){return"movementY"in e?e.movementY:uv}}),G5=Fs(g0),eO=_r({},g0,{dataTransfer:0}),tO=Fs(eO),rO=_r({},Ph,{relatedTarget:0}),dv=Fs(rO),nO=_r({},wd,{animationName:0,elapsedTime:0,pseudoElement:0}),sO=Fs(nO),iO=_r({},wd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oO=Fs(iO),aO=_r({},wd,{data:0}),K5=Fs(aO),lO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uO[e])?!!t[e]:!1}function ex(){return dO}var fO=_r({},Ph,{key:function(e){if(e.key){var t=lO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ex,charCode:function(e){return e.type==="keypress"?Mm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hO=Fs(fO),pO=_r({},g0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J5=Fs(pO),mO=_r({},Ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ex}),gO=Fs(mO),yO=_r({},wd,{propertyName:0,elapsedTime:0,pseudoElement:0}),vO=Fs(yO),wO=_r({},g0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xO=Fs(wO),bO=[9,13,27,32],tx=Go&&"CompositionEvent"in window,Of=null;Go&&"documentMode"in document&&(Of=document.documentMode);var _O=Go&&"TextEvent"in window&&!Of,QE=Go&&(!tx||Of&&8<Of&&11>=Of),Y5=" ",Q5=!1;function XE(e,t){switch(e){case"keyup":return bO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gu=!1;function SO(e,t){switch(e){case"compositionend":return ZE(t);case"keypress":return t.which!==32?null:(Q5=!0,Y5);case"textInput":return e=t.data,e===Y5&&Q5?null:e;default:return null}}function NO(e,t){if(gu)return e==="compositionend"||!tx&&XE(e,t)?(e=YE(),Dm=Xw=Ua=null,gu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return QE&&t.locale!=="ko"?null:t.data;default:return null}}var EO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!EO[e.type]:t==="textarea"}function e3(e,t,r,n){TE(n),t=wg(t,"onChange"),0<t.length&&(r=new Zw("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var If=null,Qf=null;function jO(e){d3(e,0)}function y0(e){var t=wu(e);if(NE(t))return e}function AO(e,t){if(e==="change")return t}var t3=!1;if(Go){var fv;if(Go){var hv="oninput"in document;if(!hv){var Z5=document.createElement("div");Z5.setAttribute("oninput","return;"),hv=typeof Z5.oninput=="function"}fv=hv}else fv=!1;t3=fv&&(!document.documentMode||9<document.documentMode)}function e_(){If&&(If.detachEvent("onpropertychange",r3),Qf=If=null)}function r3(e){if(e.propertyName==="value"&&y0(Qf)){var t=[];e3(t,Qf,e,Gw(e)),IE(jO,t)}}function CO(e,t,r){e==="focusin"?(e_(),If=t,Qf=r,If.attachEvent("onpropertychange",r3)):e==="focusout"&&e_()}function kO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return y0(Qf)}function PO(e,t){if(e==="click")return y0(t)}function TO(e,t){if(e==="input"||e==="change")return y0(t)}function RO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ki=typeof Object.is=="function"?Object.is:RO;function Xf(e,t){if(ki(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!k1.call(t,s)||!ki(e[s],t[s]))return!1}return!0}function t_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r_(e,t){var r=t_(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=t_(r)}}function n3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?n3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function s3(){for(var e=window,t=fg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fg(e.document)}return t}function rx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function LO(e){var t=s3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&n3(r.ownerDocument.documentElement,r)){if(n!==null&&rx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=r_(r,i);var o=r_(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var OO=Go&&"documentMode"in document&&11>=document.documentMode,yu=null,K1=null,Df=null,J1=!1;function n_(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;J1||yu==null||yu!==fg(n)||(n=yu,"selectionStart"in n&&rx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Df&&Xf(Df,n)||(Df=n,n=wg(K1,"onSelect"),0<n.length&&(t=new Zw("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yu)))}function Gp(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vu={animationend:Gp("Animation","AnimationEnd"),animationiteration:Gp("Animation","AnimationIteration"),animationstart:Gp("Animation","AnimationStart"),transitionend:Gp("Transition","TransitionEnd")},pv={},i3={};Go&&(i3=document.createElement("div").style,"AnimationEvent"in window||(delete vu.animationend.animation,delete vu.animationiteration.animation,delete vu.animationstart.animation),"TransitionEvent"in window||delete vu.transitionend.transition);function v0(e){if(pv[e])return pv[e];if(!vu[e])return e;var t=vu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in i3)return pv[e]=t[r];return e}var o3=v0("animationend"),a3=v0("animationiteration"),l3=v0("animationstart"),c3=v0("transitionend"),u3=new Map,s_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ol(e,t){u3.set(e,t),_c(t,[e])}for(var mv=0;mv<s_.length;mv++){var gv=s_[mv],IO=gv.toLowerCase(),DO=gv[0].toUpperCase()+gv.slice(1);ol(IO,"on"+DO)}ol(o3,"onAnimationEnd");ol(a3,"onAnimationIteration");ol(l3,"onAnimationStart");ol("dblclick","onDoubleClick");ol("focusin","onFocus");ol("focusout","onBlur");ol(c3,"onTransitionEnd");Xu("onMouseEnter",["mouseout","mouseover"]);Xu("onMouseLeave",["mouseout","mouseover"]);Xu("onPointerEnter",["pointerout","pointerover"]);Xu("onPointerLeave",["pointerout","pointerover"]);_c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_c("onBeforeInput",["compositionend","keypress","textInput","paste"]);_c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Af));function i_(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,IL(n,t,void 0,e),e.currentTarget=null}function d3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;i_(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;i_(s,a,u),i=l}}}if(pg)throw e=V1,pg=!1,V1=null,e}function dr(e,t){var r=t[e2];r===void 0&&(r=t[e2]=new Set);var n=e+"__bubble";r.has(n)||(f3(t,e,2,!1),r.add(n))}function yv(e,t,r){var n=0;t&&(n|=4),f3(r,e,n,t)}var Kp="_reactListening"+Math.random().toString(36).slice(2);function Zf(e){if(!e[Kp]){e[Kp]=!0,wE.forEach(function(r){r!=="selectionchange"&&(MO.has(r)||yv(r,!1,e),yv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kp]||(t[Kp]=!0,yv("selectionchange",!1,t))}}function f3(e,t,r,n){switch(JE(t)){case 1:var s=QL;break;case 4:s=XL;break;default:s=Qw}r=s.bind(null,t,r,e),s=void 0,!z1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function vv(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Wl(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}IE(function(){var u=i,d=Gw(r),h=[];e:{var m=u3.get(e);if(m!==void 0){var f=Zw,w=e;switch(e){case"keypress":if(Mm(r)===0)break e;case"keydown":case"keyup":f=hO;break;case"focusin":w="focus",f=dv;break;case"focusout":w="blur",f=dv;break;case"beforeblur":case"afterblur":f=dv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=G5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=tO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=gO;break;case o3:case a3:case l3:f=sO;break;case c3:f=vO;break;case"scroll":f=ZL;break;case"wheel":f=xO;break;case"copy":case"cut":case"paste":f=oO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=J5}var y=(t&4)!==0,b=!y&&e==="scroll",v=y?m!==null?m+"Capture":null:m;y=[];for(var S=u,_;S!==null;){_=S;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,v!==null&&(E=Gf(S,v),E!=null&&y.push(eh(S,E,_)))),b)break;S=S.return}0<y.length&&(m=new f(m,w,null,r,d),h.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&r!==U1&&(w=r.relatedTarget||r.fromElement)&&(Wl(w)||w[Ko]))break e;if((f||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,f?(w=r.relatedTarget||r.toElement,f=u,w=w?Wl(w):null,w!==null&&(b=Sc(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(f=null,w=u),f!==w)){if(y=G5,E="onMouseLeave",v="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(y=J5,E="onPointerLeave",v="onPointerEnter",S="pointer"),b=f==null?m:wu(f),_=w==null?m:wu(w),m=new y(E,S+"leave",f,r,d),m.target=b,m.relatedTarget=_,E=null,Wl(d)===u&&(y=new y(v,S+"enter",w,r,d),y.target=_,y.relatedTarget=b,E=y),b=E,f&&w)t:{for(y=f,v=w,S=0,_=y;_;_=Qc(_))S++;for(_=0,E=v;E;E=Qc(E))_++;for(;0<S-_;)y=Qc(y),S--;for(;0<_-S;)v=Qc(v),_--;for(;S--;){if(y===v||v!==null&&y===v.alternate)break t;y=Qc(y),v=Qc(v)}y=null}else y=null;f!==null&&o_(h,m,f,y,!1),w!==null&&b!==null&&o_(h,b,w,y,!0)}}e:{if(m=u?wu(u):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var T=AO;else if(X5(m))if(t3)T=TO;else{T=kO;var F=CO}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(T=PO);if(T&&(T=T(e,u))){e3(h,T,r,d);break e}F&&F(e,m,u),e==="focusout"&&(F=m._wrapperState)&&F.controlled&&m.type==="number"&&D1(m,"number",m.value)}switch(F=u?wu(u):window,e){case"focusin":(X5(F)||F.contentEditable==="true")&&(yu=F,K1=u,Df=null);break;case"focusout":Df=K1=yu=null;break;case"mousedown":J1=!0;break;case"contextmenu":case"mouseup":case"dragend":J1=!1,n_(h,r,d);break;case"selectionchange":if(OO)break;case"keydown":case"keyup":n_(h,r,d)}var D;if(tx)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else gu?XE(e,r)&&(U="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(U="onCompositionStart");U&&(QE&&r.locale!=="ko"&&(gu||U!=="onCompositionStart"?U==="onCompositionEnd"&&gu&&(D=YE()):(Ua=d,Xw="value"in Ua?Ua.value:Ua.textContent,gu=!0)),F=wg(u,U),0<F.length&&(U=new K5(U,e,null,r,d),h.push({event:U,listeners:F}),D?U.data=D:(D=ZE(r),D!==null&&(U.data=D)))),(D=_O?SO(e,r):NO(e,r))&&(u=wg(u,"onBeforeInput"),0<u.length&&(d=new K5("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=D))}d3(h,t)})}function eh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function wg(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gf(e,r),i!=null&&n.unshift(eh(e,i,s)),i=Gf(e,t),i!=null&&n.push(eh(e,i,s))),e=e.return}return n}function Qc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function o_(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Gf(r,i),l!=null&&o.unshift(eh(r,l,a))):s||(l=Gf(r,i),l!=null&&o.push(eh(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var FO=/\r\n?/g,BO=/\u0000|\uFFFD/g;function a_(e){return(typeof e=="string"?e:""+e).replace(FO,`
`).replace(BO,"")}function Jp(e,t,r){if(t=a_(t),a_(e)!==t&&r)throw Error(Fe(425))}function xg(){}var Y1=null,Q1=null;function X1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Z1=typeof setTimeout=="function"?setTimeout:void 0,$O=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,UO=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(e){return l_.resolve(null).then(e).catch(qO)}:Z1;function qO(e){setTimeout(function(){throw e})}function wv(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Yf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Yf(t)}function Ja(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function c_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var xd=Math.random().toString(36).slice(2),ro="__reactFiber$"+xd,th="__reactProps$"+xd,Ko="__reactContainer$"+xd,e2="__reactEvents$"+xd,zO="__reactListeners$"+xd,VO="__reactHandles$"+xd;function Wl(e){var t=e[ro];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ko]||r[ro]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=c_(e);e!==null;){if(r=e[ro])return r;e=c_(e)}return t}e=r,r=e.parentNode}return null}function Th(e){return e=e[ro]||e[Ko],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Fe(33))}function w0(e){return e[th]||null}var t2=[],xu=-1;function al(e){return{current:e}}function hr(e){0>xu||(e.current=t2[xu],t2[xu]=null,xu--)}function lr(e,t){xu++,t2[xu]=e.current,e.current=t}var tl={},$n=al(tl),us=al(!1),lc=tl;function Zu(e,t){var r=e.type.contextTypes;if(!r)return tl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ds(e){return e=e.childContextTypes,e!=null}function bg(){hr(us),hr($n)}function u_(e,t,r){if($n.current!==tl)throw Error(Fe(168));lr($n,t),lr(us,r)}function h3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Fe(108,CL(e)||"Unknown",s));return _r({},r,n)}function _g(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tl,lc=$n.current,lr($n,e),lr(us,us.current),!0}function d_(e,t,r){var n=e.stateNode;if(!n)throw Error(Fe(169));r?(e=h3(e,t,lc),n.__reactInternalMemoizedMergedChildContext=e,hr(us),hr($n),lr($n,e)):hr(us),lr(us,r)}var Bo=null,x0=!1,xv=!1;function p3(e){Bo===null?Bo=[e]:Bo.push(e)}function WO(e){x0=!0,p3(e)}function ll(){if(!xv&&Bo!==null){xv=!0;var e=0,t=Zt;try{var r=Bo;for(Zt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Bo=null,x0=!1}catch(s){throw Bo!==null&&(Bo=Bo.slice(e+1)),BE(Kw,ll),s}finally{Zt=t,xv=!1}}return null}var bu=[],_u=0,Sg=null,Ng=0,Ks=[],Js=0,cc=null,zo=1,Vo="";function Dl(e,t){bu[_u++]=Ng,bu[_u++]=Sg,Sg=e,Ng=t}function m3(e,t,r){Ks[Js++]=zo,Ks[Js++]=Vo,Ks[Js++]=cc,cc=e;var n=zo;e=Vo;var s=32-Ai(n)-1;n&=~(1<<s),r+=1;var i=32-Ai(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,zo=1<<32-Ai(t)+s|r<<s|n,Vo=i+e}else zo=1<<i|r<<s|n,Vo=e}function nx(e){e.return!==null&&(Dl(e,1),m3(e,1,0))}function sx(e){for(;e===Sg;)Sg=bu[--_u],bu[_u]=null,Ng=bu[--_u],bu[_u]=null;for(;e===cc;)cc=Ks[--Js],Ks[Js]=null,Vo=Ks[--Js],Ks[Js]=null,zo=Ks[--Js],Ks[Js]=null}var Os=null,Rs=null,vr=!1,Ni=null;function g3(e,t){var r=Qs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function f_(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Os=e,Rs=Ja(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Os=e,Rs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=cc!==null?{id:zo,overflow:Vo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Qs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Os=e,Rs=null,!0):!1;default:return!1}}function r2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function n2(e){if(vr){var t=Rs;if(t){var r=t;if(!f_(e,t)){if(r2(e))throw Error(Fe(418));t=Ja(r.nextSibling);var n=Os;t&&f_(e,t)?g3(n,r):(e.flags=e.flags&-4097|2,vr=!1,Os=e)}}else{if(r2(e))throw Error(Fe(418));e.flags=e.flags&-4097|2,vr=!1,Os=e}}}function h_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Os=e}function Yp(e){if(e!==Os)return!1;if(!vr)return h_(e),vr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!X1(e.type,e.memoizedProps)),t&&(t=Rs)){if(r2(e))throw y3(),Error(Fe(418));for(;t;)g3(e,t),t=Ja(t.nextSibling)}if(h_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Rs=Ja(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Rs=null}}else Rs=Os?Ja(e.stateNode.nextSibling):null;return!0}function y3(){for(var e=Rs;e;)e=Ja(e.nextSibling)}function ed(){Rs=Os=null,vr=!1}function ix(e){Ni===null?Ni=[e]:Ni.push(e)}var HO=ea.ReactCurrentBatchConfig;function mf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Fe(309));var n=r.stateNode}if(!n)throw Error(Fe(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Fe(284));if(!r._owner)throw Error(Fe(290,e))}return e}function Qp(e,t){throw e=Object.prototype.toString.call(t),Error(Fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function p_(e){var t=e._init;return t(e._payload)}function v3(e){function t(v,S){if(e){var _=v.deletions;_===null?(v.deletions=[S],v.flags|=16):_.push(S)}}function r(v,S){if(!e)return null;for(;S!==null;)t(v,S),S=S.sibling;return null}function n(v,S){for(v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function s(v,S){return v=Za(v,S),v.index=0,v.sibling=null,v}function i(v,S,_){return v.index=_,e?(_=v.alternate,_!==null?(_=_.index,_<S?(v.flags|=2,S):_):(v.flags|=2,S)):(v.flags|=1048576,S)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,S,_,E){return S===null||S.tag!==6?(S=Av(_,v.mode,E),S.return=v,S):(S=s(S,_),S.return=v,S)}function l(v,S,_,E){var T=_.type;return T===mu?d(v,S,_.props.children,E,_.key):S!==null&&(S.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ca&&p_(T)===S.type)?(E=s(S,_.props),E.ref=mf(v,S,_),E.return=v,E):(E=Vm(_.type,_.key,_.props,null,v.mode,E),E.ref=mf(v,S,_),E.return=v,E)}function u(v,S,_,E){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=Cv(_,v.mode,E),S.return=v,S):(S=s(S,_.children||[]),S.return=v,S)}function d(v,S,_,E,T){return S===null||S.tag!==7?(S=nc(_,v.mode,E,T),S.return=v,S):(S=s(S,_),S.return=v,S)}function h(v,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Av(""+S,v.mode,_),S.return=v,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $p:return _=Vm(S.type,S.key,S.props,null,v.mode,_),_.ref=mf(v,null,S),_.return=v,_;case pu:return S=Cv(S,v.mode,_),S.return=v,S;case Ca:var E=S._init;return h(v,E(S._payload),_)}if(Ef(S)||uf(S))return S=nc(S,v.mode,_,null),S.return=v,S;Qp(v,S)}return null}function m(v,S,_,E){var T=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:a(v,S,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $p:return _.key===T?l(v,S,_,E):null;case pu:return _.key===T?u(v,S,_,E):null;case Ca:return T=_._init,m(v,S,T(_._payload),E)}if(Ef(_)||uf(_))return T!==null?null:d(v,S,_,E,null);Qp(v,_)}return null}function f(v,S,_,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(_)||null,a(S,v,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case $p:return v=v.get(E.key===null?_:E.key)||null,l(S,v,E,T);case pu:return v=v.get(E.key===null?_:E.key)||null,u(S,v,E,T);case Ca:var F=E._init;return f(v,S,_,F(E._payload),T)}if(Ef(E)||uf(E))return v=v.get(_)||null,d(S,v,E,T,null);Qp(S,E)}return null}function w(v,S,_,E){for(var T=null,F=null,D=S,U=S=0,B=null;D!==null&&U<_.length;U++){D.index>U?(B=D,D=null):B=D.sibling;var K=m(v,D,_[U],E);if(K===null){D===null&&(D=B);break}e&&D&&K.alternate===null&&t(v,D),S=i(K,S,U),F===null?T=K:F.sibling=K,F=K,D=B}if(U===_.length)return r(v,D),vr&&Dl(v,U),T;if(D===null){for(;U<_.length;U++)D=h(v,_[U],E),D!==null&&(S=i(D,S,U),F===null?T=D:F.sibling=D,F=D);return vr&&Dl(v,U),T}for(D=n(v,D);U<_.length;U++)B=f(D,v,U,_[U],E),B!==null&&(e&&B.alternate!==null&&D.delete(B.key===null?U:B.key),S=i(B,S,U),F===null?T=B:F.sibling=B,F=B);return e&&D.forEach(function(L){return t(v,L)}),vr&&Dl(v,U),T}function y(v,S,_,E){var T=uf(_);if(typeof T!="function")throw Error(Fe(150));if(_=T.call(_),_==null)throw Error(Fe(151));for(var F=T=null,D=S,U=S=0,B=null,K=_.next();D!==null&&!K.done;U++,K=_.next()){D.index>U?(B=D,D=null):B=D.sibling;var L=m(v,D,K.value,E);if(L===null){D===null&&(D=B);break}e&&D&&L.alternate===null&&t(v,D),S=i(L,S,U),F===null?T=L:F.sibling=L,F=L,D=B}if(K.done)return r(v,D),vr&&Dl(v,U),T;if(D===null){for(;!K.done;U++,K=_.next())K=h(v,K.value,E),K!==null&&(S=i(K,S,U),F===null?T=K:F.sibling=K,F=K);return vr&&Dl(v,U),T}for(D=n(v,D);!K.done;U++,K=_.next())K=f(D,v,U,K.value,E),K!==null&&(e&&K.alternate!==null&&D.delete(K.key===null?U:K.key),S=i(K,S,U),F===null?T=K:F.sibling=K,F=K);return e&&D.forEach(function(k){return t(v,k)}),vr&&Dl(v,U),T}function b(v,S,_,E){if(typeof _=="object"&&_!==null&&_.type===mu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case $p:e:{for(var T=_.key,F=S;F!==null;){if(F.key===T){if(T=_.type,T===mu){if(F.tag===7){r(v,F.sibling),S=s(F,_.props.children),S.return=v,v=S;break e}}else if(F.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ca&&p_(T)===F.type){r(v,F.sibling),S=s(F,_.props),S.ref=mf(v,F,_),S.return=v,v=S;break e}r(v,F);break}else t(v,F);F=F.sibling}_.type===mu?(S=nc(_.props.children,v.mode,E,_.key),S.return=v,v=S):(E=Vm(_.type,_.key,_.props,null,v.mode,E),E.ref=mf(v,S,_),E.return=v,v=E)}return o(v);case pu:e:{for(F=_.key;S!==null;){if(S.key===F)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){r(v,S.sibling),S=s(S,_.children||[]),S.return=v,v=S;break e}else{r(v,S);break}else t(v,S);S=S.sibling}S=Cv(_,v.mode,E),S.return=v,v=S}return o(v);case Ca:return F=_._init,b(v,S,F(_._payload),E)}if(Ef(_))return w(v,S,_,E);if(uf(_))return y(v,S,_,E);Qp(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(r(v,S.sibling),S=s(S,_),S.return=v,v=S):(r(v,S),S=Av(_,v.mode,E),S.return=v,v=S),o(v)):r(v,S)}return b}var td=v3(!0),w3=v3(!1),Eg=al(null),jg=null,Su=null,ox=null;function ax(){ox=Su=jg=null}function lx(e){var t=Eg.current;hr(Eg),e._currentValue=t}function s2(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ru(e,t){jg=e,ox=Su=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(cs=!0),e.firstContext=null)}function ei(e){var t=e._currentValue;if(ox!==e)if(e={context:e,memoizedValue:t,next:null},Su===null){if(jg===null)throw Error(Fe(308));Su=e,jg.dependencies={lanes:0,firstContext:e}}else Su=Su.next=e;return t}var Hl=null;function cx(e){Hl===null?Hl=[e]:Hl.push(e)}function x3(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,cx(t)):(r.next=s.next,s.next=r),t.interleaved=r,Jo(e,n)}function Jo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ka=!1;function ux(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ya(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Wt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Jo(e,r)}return s=n.interleaved,s===null?(t.next=t,cx(n)):(t.next=s.next,s.next=t),n.interleaved=t,Jo(e,r)}function Fm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jw(e,r)}}function m_(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ag(e,t,r,n){var s=e.updateQueue;ka=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var m=a.lane,f=a.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,y=a;switch(m=t,f=r,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(f,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,m=typeof w=="function"?w.call(f,h,m):w,m==null)break e;h=_r({},h,m);break e;case 2:ka=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else f={eventTime:f,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=f,l=h):d=d.next=f,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);dc|=o,e.lanes=o,e.memoizedState=h}}function g_(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Fe(191,s));s.call(n)}}}var Rh={},lo=al(Rh),rh=al(Rh),nh=al(Rh);function Gl(e){if(e===Rh)throw Error(Fe(174));return e}function dx(e,t){switch(lr(nh,t),lr(rh,e),lr(lo,Rh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:F1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=F1(t,e)}hr(lo),lr(lo,t)}function rd(){hr(lo),hr(rh),hr(nh)}function _3(e){Gl(nh.current);var t=Gl(lo.current),r=F1(t,e.type);t!==r&&(lr(rh,e),lr(lo,r))}function fx(e){rh.current===e&&(hr(lo),hr(rh))}var xr=al(0);function Cg(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bv=[];function hx(){for(var e=0;e<bv.length;e++)bv[e]._workInProgressVersionPrimary=null;bv.length=0}var Bm=ea.ReactCurrentDispatcher,_v=ea.ReactCurrentBatchConfig,uc=0,br=null,Zr=null,cn=null,kg=!1,Mf=!1,sh=0,GO=0;function Pn(){throw Error(Fe(321))}function px(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ki(e[r],t[r]))return!1;return!0}function mx(e,t,r,n,s,i){if(uc=i,br=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bm.current=e===null||e.memoizedState===null?QO:XO,e=r(n,s),Mf){i=0;do{if(Mf=!1,sh=0,25<=i)throw Error(Fe(301));i+=1,cn=Zr=null,t.updateQueue=null,Bm.current=ZO,e=r(n,s)}while(Mf)}if(Bm.current=Pg,t=Zr!==null&&Zr.next!==null,uc=0,cn=Zr=br=null,kg=!1,t)throw Error(Fe(300));return e}function gx(){var e=sh!==0;return sh=0,e}function Qi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?br.memoizedState=cn=e:cn=cn.next=e,cn}function ti(){if(Zr===null){var e=br.alternate;e=e!==null?e.memoizedState:null}else e=Zr.next;var t=cn===null?br.memoizedState:cn.next;if(t!==null)cn=t,Zr=e;else{if(e===null)throw Error(Fe(310));Zr=e,e={memoizedState:Zr.memoizedState,baseState:Zr.baseState,baseQueue:Zr.baseQueue,queue:Zr.queue,next:null},cn===null?br.memoizedState=cn=e:cn=cn.next=e}return cn}function ih(e,t){return typeof t=="function"?t(e):t}function Sv(e){var t=ti(),r=t.queue;if(r===null)throw Error(Fe(311));r.lastRenderedReducer=e;var n=Zr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((uc&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,br.lanes|=d,dc|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,ki(n,t.memoizedState)||(cs=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,br.lanes|=i,dc|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Nv(e){var t=ti(),r=t.queue;if(r===null)throw Error(Fe(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ki(i,t.memoizedState)||(cs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function S3(){}function N3(e,t){var r=br,n=ti(),s=t(),i=!ki(n.memoizedState,s);if(i&&(n.memoizedState=s,cs=!0),n=n.queue,yx(A3.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||cn!==null&&cn.memoizedState.tag&1){if(r.flags|=2048,oh(9,j3.bind(null,r,n,s,t),void 0,null),fn===null)throw Error(Fe(349));uc&30||E3(r,t,s)}return s}function E3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=br.updateQueue,t===null?(t={lastEffect:null,stores:null},br.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function j3(e,t,r,n){t.value=r,t.getSnapshot=n,C3(t)&&k3(e)}function A3(e,t,r){return r(function(){C3(t)&&k3(e)})}function C3(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ki(e,r)}catch{return!0}}function k3(e){var t=Jo(e,1);t!==null&&Ci(t,e,1,-1)}function y_(e){var t=Qi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ih,lastRenderedState:e},t.queue=e,e=e.dispatch=YO.bind(null,br,e),[t.memoizedState,e]}function oh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=br.updateQueue,t===null?(t={lastEffect:null,stores:null},br.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function P3(){return ti().memoizedState}function $m(e,t,r,n){var s=Qi();br.flags|=e,s.memoizedState=oh(1|t,r,void 0,n===void 0?null:n)}function b0(e,t,r,n){var s=ti();n=n===void 0?null:n;var i=void 0;if(Zr!==null){var o=Zr.memoizedState;if(i=o.destroy,n!==null&&px(n,o.deps)){s.memoizedState=oh(t,r,i,n);return}}br.flags|=e,s.memoizedState=oh(1|t,r,i,n)}function v_(e,t){return $m(8390656,8,e,t)}function yx(e,t){return b0(2048,8,e,t)}function T3(e,t){return b0(4,2,e,t)}function R3(e,t){return b0(4,4,e,t)}function L3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function O3(e,t,r){return r=r!=null?r.concat([e]):null,b0(4,4,L3.bind(null,t,e),r)}function vx(){}function I3(e,t){var r=ti();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&px(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function D3(e,t){var r=ti();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&px(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function M3(e,t,r){return uc&21?(ki(r,t)||(r=qE(),br.lanes|=r,dc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,cs=!0),e.memoizedState=r)}function KO(e,t){var r=Zt;Zt=r!==0&&4>r?r:4,e(!0);var n=_v.transition;_v.transition={};try{e(!1),t()}finally{Zt=r,_v.transition=n}}function F3(){return ti().memoizedState}function JO(e,t,r){var n=Xa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},B3(e))$3(t,r);else if(r=x3(e,t,r,n),r!==null){var s=Yn();Ci(r,e,n,s),U3(r,t,n)}}function YO(e,t,r){var n=Xa(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(B3(e))$3(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,ki(a,o)){var l=t.interleaved;l===null?(s.next=s,cx(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=x3(e,t,s,n),r!==null&&(s=Yn(),Ci(r,e,n,s),U3(r,t,n))}}function B3(e){var t=e.alternate;return e===br||t!==null&&t===br}function $3(e,t){Mf=kg=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function U3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jw(e,r)}}var Pg={readContext:ei,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},QO={readContext:ei,useCallback:function(e,t){return Qi().memoizedState=[e,t===void 0?null:t],e},useContext:ei,useEffect:v_,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,$m(4194308,4,L3.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $m(4194308,4,e,t)},useInsertionEffect:function(e,t){return $m(4,2,e,t)},useMemo:function(e,t){var r=Qi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=JO.bind(null,br,e),[n.memoizedState,e]},useRef:function(e){var t=Qi();return e={current:e},t.memoizedState=e},useState:y_,useDebugValue:vx,useDeferredValue:function(e){return Qi().memoizedState=e},useTransition:function(){var e=y_(!1),t=e[0];return e=KO.bind(null,e[1]),Qi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=br,s=Qi();if(vr){if(r===void 0)throw Error(Fe(407));r=r()}else{if(r=t(),fn===null)throw Error(Fe(349));uc&30||E3(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,v_(A3.bind(null,n,i,e),[e]),n.flags|=2048,oh(9,j3.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Qi(),t=fn.identifierPrefix;if(vr){var r=Vo,n=zo;r=(n&~(1<<32-Ai(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=sh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=GO++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},XO={readContext:ei,useCallback:I3,useContext:ei,useEffect:yx,useImperativeHandle:O3,useInsertionEffect:T3,useLayoutEffect:R3,useMemo:D3,useReducer:Sv,useRef:P3,useState:function(){return Sv(ih)},useDebugValue:vx,useDeferredValue:function(e){var t=ti();return M3(t,Zr.memoizedState,e)},useTransition:function(){var e=Sv(ih)[0],t=ti().memoizedState;return[e,t]},useMutableSource:S3,useSyncExternalStore:N3,useId:F3,unstable_isNewReconciler:!1},ZO={readContext:ei,useCallback:I3,useContext:ei,useEffect:yx,useImperativeHandle:O3,useInsertionEffect:T3,useLayoutEffect:R3,useMemo:D3,useReducer:Nv,useRef:P3,useState:function(){return Nv(ih)},useDebugValue:vx,useDeferredValue:function(e){var t=ti();return Zr===null?t.memoizedState=e:M3(t,Zr.memoizedState,e)},useTransition:function(){var e=Nv(ih)[0],t=ti().memoizedState;return[e,t]},useMutableSource:S3,useSyncExternalStore:N3,useId:F3,unstable_isNewReconciler:!1};function yi(e,t){if(e&&e.defaultProps){t=_r({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function i2(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:_r({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _0={isMounted:function(e){return(e=e._reactInternals)?Sc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Yn(),s=Xa(e),i=Wo(n,s);i.payload=t,r!=null&&(i.callback=r),t=Ya(e,i,s),t!==null&&(Ci(t,e,s,n),Fm(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Yn(),s=Xa(e),i=Wo(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ya(e,i,s),t!==null&&(Ci(t,e,s,n),Fm(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Yn(),n=Xa(e),s=Wo(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ya(e,s,n),t!==null&&(Ci(t,e,n,r),Fm(t,e,n))}};function w_(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Xf(r,n)||!Xf(s,i):!0}function q3(e,t,r){var n=!1,s=tl,i=t.contextType;return typeof i=="object"&&i!==null?i=ei(i):(s=ds(t)?lc:$n.current,n=t.contextTypes,i=(n=n!=null)?Zu(e,s):tl),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function x_(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&_0.enqueueReplaceState(t,t.state,null)}function o2(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ux(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ei(i):(i=ds(t)?lc:$n.current,s.context=Zu(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(i2(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&_0.enqueueReplaceState(s,s.state,null),Ag(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function nd(e,t){try{var r="",n=t;do r+=AL(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ev(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function a2(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var eI=typeof WeakMap=="function"?WeakMap:Map;function z3(e,t,r){r=Wo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Rg||(Rg=!0,y2=n),a2(e,t)},r}function V3(e,t,r){r=Wo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){a2(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){a2(e,t),typeof n!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function b_(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new eI;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=pI.bind(null,e,t,r),t.then(e,e))}function __(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function S_(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Wo(-1,1),t.tag=2,Ya(r,t,1))),r.lanes|=1),e)}var tI=ea.ReactCurrentOwner,cs=!1;function Hn(e,t,r,n){t.child=e===null?w3(t,null,r,n):td(t,e.child,r,n)}function N_(e,t,r,n,s){r=r.render;var i=t.ref;return Ru(t,s),n=mx(e,t,r,n,i,s),r=gx(),e!==null&&!cs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Yo(e,t,s)):(vr&&r&&nx(t),t.flags|=1,Hn(e,t,n,s),t.child)}function E_(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!jx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,W3(e,t,i,n,s)):(e=Vm(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Xf,r(o,n)&&e.ref===t.ref)return Yo(e,t,s)}return t.flags|=1,e=Za(i,n),e.ref=t.ref,e.return=t,t.child=e}function W3(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Xf(i,n)&&e.ref===t.ref)if(cs=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(cs=!0);else return t.lanes=e.lanes,Yo(e,t,s)}return l2(e,t,r,n,s)}function H3(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},lr(Eu,ks),ks|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,lr(Eu,ks),ks|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,lr(Eu,ks),ks|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,lr(Eu,ks),ks|=n;return Hn(e,t,s,r),t.child}function G3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function l2(e,t,r,n,s){var i=ds(r)?lc:$n.current;return i=Zu(t,i),Ru(t,s),r=mx(e,t,r,n,i,s),n=gx(),e!==null&&!cs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Yo(e,t,s)):(vr&&n&&nx(t),t.flags|=1,Hn(e,t,r,s),t.child)}function j_(e,t,r,n,s){if(ds(r)){var i=!0;_g(t)}else i=!1;if(Ru(t,s),t.stateNode===null)Um(e,t),q3(t,r,n),o2(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ei(u):(u=ds(r)?lc:$n.current,u=Zu(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&x_(t,o,n,u),ka=!1;var m=t.memoizedState;o.state=m,Ag(t,n,o,s),l=t.memoizedState,a!==n||m!==l||us.current||ka?(typeof d=="function"&&(i2(t,r,d,n),l=t.memoizedState),(a=ka||w_(t,r,a,n,m,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,b3(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:yi(t.type,a),o.props=u,h=t.pendingProps,m=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ei(l):(l=ds(r)?lc:$n.current,l=Zu(t,l));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&x_(t,o,n,l),ka=!1,m=t.memoizedState,o.state=m,Ag(t,n,o,s);var w=t.memoizedState;a!==h||m!==w||us.current||ka?(typeof f=="function"&&(i2(t,r,f,n),w=t.memoizedState),(u=ka||w_(t,r,u,n,m,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return c2(e,t,r,n,i,s)}function c2(e,t,r,n,s,i){G3(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&d_(t,r,!1),Yo(e,t,i);n=t.stateNode,tI.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=td(t,e.child,null,i),t.child=td(t,null,a,i)):Hn(e,t,a,i),t.memoizedState=n.state,s&&d_(t,r,!0),t.child}function K3(e){var t=e.stateNode;t.pendingContext?u_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&u_(e,t.context,!1),dx(e,t.containerInfo)}function A_(e,t,r,n,s){return ed(),ix(s),t.flags|=256,Hn(e,t,r,n),t.child}var u2={dehydrated:null,treeContext:null,retryLane:0};function d2(e){return{baseLanes:e,cachePool:null,transitions:null}}function J3(e,t,r){var n=t.pendingProps,s=xr.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),lr(xr,s&1),e===null)return n2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=E0(o,n,0,null),e=nc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=d2(r),t.memoizedState=u2,e):wx(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return rI(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Za(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Za(a,i):(i=nc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?d2(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=u2,n}return i=e.child,e=i.sibling,n=Za(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function wx(e,t){return t=E0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xp(e,t,r,n){return n!==null&&ix(n),td(t,e.child,null,r),e=wx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rI(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ev(Error(Fe(422))),Xp(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=E0({mode:"visible",children:n.children},s,0,null),i=nc(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&td(t,e.child,null,o),t.child.memoizedState=d2(o),t.memoizedState=u2,i);if(!(t.mode&1))return Xp(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(Fe(419)),n=Ev(i,n,void 0),Xp(e,t,o,n)}if(a=(o&e.childLanes)!==0,cs||a){if(n=fn,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Jo(e,s),Ci(n,e,s,-1))}return Ex(),n=Ev(Error(Fe(421))),Xp(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=mI.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Rs=Ja(s.nextSibling),Os=t,vr=!0,Ni=null,e!==null&&(Ks[Js++]=zo,Ks[Js++]=Vo,Ks[Js++]=cc,zo=e.id,Vo=e.overflow,cc=t),t=wx(t,n.children),t.flags|=4096,t)}function C_(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),s2(e.return,t,r)}function jv(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Y3(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Hn(e,t,n.children,r),n=xr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&C_(e,r,t);else if(e.tag===19)C_(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(lr(xr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Cg(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),jv(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Cg(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}jv(t,!0,r,null,i);break;case"together":jv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Um(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),dc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Fe(153));if(t.child!==null){for(e=t.child,r=Za(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Za(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function nI(e,t,r){switch(t.tag){case 3:K3(t),ed();break;case 5:_3(t);break;case 1:ds(t.type)&&_g(t);break;case 4:dx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;lr(Eg,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(lr(xr,xr.current&1),t.flags|=128,null):r&t.child.childLanes?J3(e,t,r):(lr(xr,xr.current&1),e=Yo(e,t,r),e!==null?e.sibling:null);lr(xr,xr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Y3(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),lr(xr,xr.current),n)break;return null;case 22:case 23:return t.lanes=0,H3(e,t,r)}return Yo(e,t,r)}var Q3,f2,X3,Z3;Q3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};f2=function(){};X3=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Gl(lo.current);var i=null;switch(r){case"input":s=O1(e,s),n=O1(e,n),i=[];break;case"select":s=_r({},s,{value:void 0}),n=_r({},n,{value:void 0}),i=[];break;case"textarea":s=M1(e,s),n=M1(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=xg)}B1(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wf.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&dr("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Z3=function(e,t,r,n){r!==n&&(t.flags|=4)};function gf(e,t){if(!vr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Tn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function sI(e,t,r){var n=t.pendingProps;switch(sx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(t),null;case 1:return ds(t.type)&&bg(),Tn(t),null;case 3:return n=t.stateNode,rd(),hr(us),hr($n),hx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ni!==null&&(x2(Ni),Ni=null))),f2(e,t),Tn(t),null;case 5:fx(t);var s=Gl(nh.current);if(r=t.type,e!==null&&t.stateNode!=null)X3(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Fe(166));return Tn(t),null}if(e=Gl(lo.current),Yp(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ro]=t,n[th]=i,e=(t.mode&1)!==0,r){case"dialog":dr("cancel",n),dr("close",n);break;case"iframe":case"object":case"embed":dr("load",n);break;case"video":case"audio":for(s=0;s<Af.length;s++)dr(Af[s],n);break;case"source":dr("error",n);break;case"img":case"image":case"link":dr("error",n),dr("load",n);break;case"details":dr("toggle",n);break;case"input":M5(n,i),dr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},dr("invalid",n);break;case"textarea":B5(n,i),dr("invalid",n)}B1(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Jp(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Jp(n.textContent,a,e),s=["children",""+a]):Wf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&dr("scroll",n)}switch(r){case"input":Up(n),F5(n,i,!0);break;case"textarea":Up(n),$5(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=xg)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=AE(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ro]=t,e[th]=n,Q3(e,t,!1,!1),t.stateNode=e;e:{switch(o=$1(r,n),r){case"dialog":dr("cancel",e),dr("close",e),s=n;break;case"iframe":case"object":case"embed":dr("load",e),s=n;break;case"video":case"audio":for(s=0;s<Af.length;s++)dr(Af[s],e);s=n;break;case"source":dr("error",e),s=n;break;case"img":case"image":case"link":dr("error",e),dr("load",e),s=n;break;case"details":dr("toggle",e),s=n;break;case"input":M5(e,n),s=O1(e,n),dr("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=_r({},n,{value:void 0}),dr("invalid",e);break;case"textarea":B5(e,n),s=M1(e,n),dr("invalid",e);break;default:s=n}B1(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?PE(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&CE(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Hf(e,l):typeof l=="number"&&Hf(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wf.hasOwnProperty(i)?l!=null&&i==="onScroll"&&dr("scroll",e):l!=null&&zw(e,i,l,o))}switch(r){case"input":Up(e),F5(e,n,!1);break;case"textarea":Up(e),$5(e);break;case"option":n.value!=null&&e.setAttribute("value",""+el(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Cu(e,!!n.multiple,i,!1):n.defaultValue!=null&&Cu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=xg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tn(t),null;case 6:if(e&&t.stateNode!=null)Z3(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Fe(166));if(r=Gl(nh.current),Gl(lo.current),Yp(t)){if(n=t.stateNode,r=t.memoizedProps,n[ro]=t,(i=n.nodeValue!==r)&&(e=Os,e!==null))switch(e.tag){case 3:Jp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jp(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ro]=t,t.stateNode=n}return Tn(t),null;case 13:if(hr(xr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(vr&&Rs!==null&&t.mode&1&&!(t.flags&128))y3(),ed(),t.flags|=98560,i=!1;else if(i=Yp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Fe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Fe(317));i[ro]=t}else ed(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tn(t),i=!1}else Ni!==null&&(x2(Ni),Ni=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||xr.current&1?en===0&&(en=3):Ex())),t.updateQueue!==null&&(t.flags|=4),Tn(t),null);case 4:return rd(),f2(e,t),e===null&&Zf(t.stateNode.containerInfo),Tn(t),null;case 10:return lx(t.type._context),Tn(t),null;case 17:return ds(t.type)&&bg(),Tn(t),null;case 19:if(hr(xr),i=t.memoizedState,i===null)return Tn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)gf(i,!1);else{if(en!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Cg(e),o!==null){for(t.flags|=128,gf(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return lr(xr,xr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Dr()>sd&&(t.flags|=128,n=!0,gf(i,!1),t.lanes=4194304)}else{if(!n)if(e=Cg(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),gf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!vr)return Tn(t),null}else 2*Dr()-i.renderingStartTime>sd&&r!==1073741824&&(t.flags|=128,n=!0,gf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Dr(),t.sibling=null,r=xr.current,lr(xr,n?r&1|2:r&1),t):(Tn(t),null);case 22:case 23:return Nx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ks&1073741824&&(Tn(t),t.subtreeFlags&6&&(t.flags|=8192)):Tn(t),null;case 24:return null;case 25:return null}throw Error(Fe(156,t.tag))}function iI(e,t){switch(sx(t),t.tag){case 1:return ds(t.type)&&bg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rd(),hr(us),hr($n),hx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fx(t),null;case 13:if(hr(xr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Fe(340));ed()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return hr(xr),null;case 4:return rd(),null;case 10:return lx(t.type._context),null;case 22:case 23:return Nx(),null;case 24:return null;default:return null}}var Zp=!1,Dn=!1,oI=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Nu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){kr(e,t,n)}else r.current=null}function h2(e,t,r){try{r()}catch(n){kr(e,t,n)}}var k_=!1;function aI(e,t){if(Y1=yg,e=s3(),rx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var f;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===e)break t;if(m===r&&++u===s&&(a=o),m===i&&++d===n&&(l=o),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Q1={focusedElem:e,selectionRange:r},yg=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){t=Ke;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,b=w.memoizedState,v=t.stateNode,S=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:yi(t.type,y),b);v.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(E){kr(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return w=k_,k_=!1,w}function Ff(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&h2(t,r,i)}s=s.next}while(s!==n)}}function S0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function p2(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ej(e){var t=e.alternate;t!==null&&(e.alternate=null,ej(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ro],delete t[th],delete t[e2],delete t[zO],delete t[VO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tj(e){return e.tag===5||e.tag===3||e.tag===4}function P_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function m2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=xg));else if(n!==4&&(e=e.child,e!==null))for(m2(e,t,r),e=e.sibling;e!==null;)m2(e,t,r),e=e.sibling}function g2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(g2(e,t,r),e=e.sibling;e!==null;)g2(e,t,r),e=e.sibling}var _n=null,_i=!1;function wa(e,t,r){for(r=r.child;r!==null;)rj(e,t,r),r=r.sibling}function rj(e,t,r){if(ao&&typeof ao.onCommitFiberUnmount=="function")try{ao.onCommitFiberUnmount(m0,r)}catch{}switch(r.tag){case 5:Dn||Nu(r,t);case 6:var n=_n,s=_i;_n=null,wa(e,t,r),_n=n,_i=s,_n!==null&&(_i?(e=_n,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_n.removeChild(r.stateNode));break;case 18:_n!==null&&(_i?(e=_n,r=r.stateNode,e.nodeType===8?wv(e.parentNode,r):e.nodeType===1&&wv(e,r),Yf(e)):wv(_n,r.stateNode));break;case 4:n=_n,s=_i,_n=r.stateNode.containerInfo,_i=!0,wa(e,t,r),_n=n,_i=s;break;case 0:case 11:case 14:case 15:if(!Dn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&h2(r,t,o),s=s.next}while(s!==n)}wa(e,t,r);break;case 1:if(!Dn&&(Nu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){kr(r,t,a)}wa(e,t,r);break;case 21:wa(e,t,r);break;case 22:r.mode&1?(Dn=(n=Dn)||r.memoizedState!==null,wa(e,t,r),Dn=n):wa(e,t,r);break;default:wa(e,t,r)}}function T_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new oI),t.forEach(function(n){var s=gI.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function fi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:_n=a.stateNode,_i=!1;break e;case 3:_n=a.stateNode.containerInfo,_i=!0;break e;case 4:_n=a.stateNode.containerInfo,_i=!0;break e}a=a.return}if(_n===null)throw Error(Fe(160));rj(i,o,s),_n=null,_i=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){kr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nj(t,e),t=t.sibling}function nj(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fi(t,e),Gi(e),n&4){try{Ff(3,e,e.return),S0(3,e)}catch(y){kr(e,e.return,y)}try{Ff(5,e,e.return)}catch(y){kr(e,e.return,y)}}break;case 1:fi(t,e),Gi(e),n&512&&r!==null&&Nu(r,r.return);break;case 5:if(fi(t,e),Gi(e),n&512&&r!==null&&Nu(r,r.return),e.flags&32){var s=e.stateNode;try{Hf(s,"")}catch(y){kr(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&EE(s,i),$1(a,o);var u=$1(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?PE(s,h):d==="dangerouslySetInnerHTML"?CE(s,h):d==="children"?Hf(s,h):zw(s,d,h,u)}switch(a){case"input":I1(s,i);break;case"textarea":jE(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Cu(s,!!i.multiple,f,!1):m!==!!i.multiple&&(i.defaultValue!=null?Cu(s,!!i.multiple,i.defaultValue,!0):Cu(s,!!i.multiple,i.multiple?[]:"",!1))}s[th]=i}catch(y){kr(e,e.return,y)}}break;case 6:if(fi(t,e),Gi(e),n&4){if(e.stateNode===null)throw Error(Fe(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){kr(e,e.return,y)}}break;case 3:if(fi(t,e),Gi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yf(t.containerInfo)}catch(y){kr(e,e.return,y)}break;case 4:fi(t,e),Gi(e);break;case 13:fi(t,e),Gi(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(_x=Dr())),n&4&&T_(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Dn=(u=Dn)||d,fi(t,e),Dn=u):fi(t,e),Gi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ke=e,d=e.child;d!==null;){for(h=Ke=d;Ke!==null;){switch(m=Ke,f=m.child,m.tag){case 0:case 11:case 14:case 15:Ff(4,m,m.return);break;case 1:Nu(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){kr(n,r,y)}}break;case 5:Nu(m,m.return);break;case 22:if(m.memoizedState!==null){L_(h);continue}}f!==null?(f.return=m,Ke=f):L_(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kE("display",o))}catch(y){kr(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){kr(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fi(t,e),Gi(e),n&4&&T_(e);break;case 21:break;default:fi(t,e),Gi(e)}}function Gi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(tj(r)){var n=r;break e}r=r.return}throw Error(Fe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Hf(s,""),n.flags&=-33);var i=P_(e);g2(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=P_(e);m2(e,a,o);break;default:throw Error(Fe(161))}}catch(l){kr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lI(e,t,r){Ke=e,sj(e)}function sj(e,t,r){for(var n=(e.mode&1)!==0;Ke!==null;){var s=Ke,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Zp;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Dn;a=Zp;var u=Dn;if(Zp=o,(Dn=l)&&!u)for(Ke=s;Ke!==null;)o=Ke,l=o.child,o.tag===22&&o.memoizedState!==null?O_(s):l!==null?(l.return=o,Ke=l):O_(s);for(;i!==null;)Ke=i,sj(i),i=i.sibling;Ke=s,Zp=a,Dn=u}R_(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ke=i):R_(e)}}function R_(e){for(;Ke!==null;){var t=Ke;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dn||S0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Dn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:yi(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&g_(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}g_(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Yf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}Dn||t.flags&512&&p2(t)}catch(m){kr(t,t.return,m)}}if(t===e){Ke=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ke=r;break}Ke=t.return}}function L_(e){for(;Ke!==null;){var t=Ke;if(t===e){Ke=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ke=r;break}Ke=t.return}}function O_(e){for(;Ke!==null;){var t=Ke;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{S0(4,t)}catch(l){kr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){kr(t,s,l)}}var i=t.return;try{p2(t)}catch(l){kr(t,i,l)}break;case 5:var o=t.return;try{p2(t)}catch(l){kr(t,o,l)}}}catch(l){kr(t,t.return,l)}if(t===e){Ke=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ke=a;break}Ke=t.return}}var cI=Math.ceil,Tg=ea.ReactCurrentDispatcher,xx=ea.ReactCurrentOwner,Xs=ea.ReactCurrentBatchConfig,Wt=0,fn=null,Hr=null,En=0,ks=0,Eu=al(0),en=0,ah=null,dc=0,N0=0,bx=0,Bf=null,as=null,_x=0,sd=1/0,Fo=null,Rg=!1,y2=null,Qa=null,em=!1,qa=null,Lg=0,$f=0,v2=null,qm=-1,zm=0;function Yn(){return Wt&6?Dr():qm!==-1?qm:qm=Dr()}function Xa(e){return e.mode&1?Wt&2&&En!==0?En&-En:HO.transition!==null?(zm===0&&(zm=qE()),zm):(e=Zt,e!==0||(e=window.event,e=e===void 0?16:JE(e.type)),e):1}function Ci(e,t,r,n){if(50<$f)throw $f=0,v2=null,Error(Fe(185));kh(e,r,n),(!(Wt&2)||e!==fn)&&(e===fn&&(!(Wt&2)&&(N0|=r),en===4&&Ta(e,En)),fs(e,n),r===1&&Wt===0&&!(t.mode&1)&&(sd=Dr()+500,x0&&ll()))}function fs(e,t){var r=e.callbackNode;HL(e,t);var n=gg(e,e===fn?En:0);if(n===0)r!==null&&z5(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&z5(r),t===1)e.tag===0?WO(I_.bind(null,e)):p3(I_.bind(null,e)),UO(function(){!(Wt&6)&&ll()}),r=null;else{switch(zE(n)){case 1:r=Kw;break;case 4:r=$E;break;case 16:r=mg;break;case 536870912:r=UE;break;default:r=mg}r=fj(r,ij.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ij(e,t){if(qm=-1,zm=0,Wt&6)throw Error(Fe(327));var r=e.callbackNode;if(Lu()&&e.callbackNode!==r)return null;var n=gg(e,e===fn?En:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Og(e,n);else{t=n;var s=Wt;Wt|=2;var i=aj();(fn!==e||En!==t)&&(Fo=null,sd=Dr()+500,rc(e,t));do try{fI();break}catch(a){oj(e,a)}while(!0);ax(),Tg.current=i,Wt=s,Hr!==null?t=0:(fn=null,En=0,t=en)}if(t!==0){if(t===2&&(s=W1(e),s!==0&&(n=s,t=w2(e,s))),t===1)throw r=ah,rc(e,0),Ta(e,n),fs(e,Dr()),r;if(t===6)Ta(e,n);else{if(s=e.current.alternate,!(n&30)&&!uI(s)&&(t=Og(e,n),t===2&&(i=W1(e),i!==0&&(n=i,t=w2(e,i))),t===1))throw r=ah,rc(e,0),Ta(e,n),fs(e,Dr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Fe(345));case 2:Ml(e,as,Fo);break;case 3:if(Ta(e,n),(n&130023424)===n&&(t=_x+500-Dr(),10<t)){if(gg(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Yn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Z1(Ml.bind(null,e,as,Fo),t);break}Ml(e,as,Fo);break;case 4:if(Ta(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Ai(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Dr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cI(n/1960))-n,10<n){e.timeoutHandle=Z1(Ml.bind(null,e,as,Fo),n);break}Ml(e,as,Fo);break;case 5:Ml(e,as,Fo);break;default:throw Error(Fe(329))}}}return fs(e,Dr()),e.callbackNode===r?ij.bind(null,e):null}function w2(e,t){var r=Bf;return e.current.memoizedState.isDehydrated&&(rc(e,t).flags|=256),e=Og(e,t),e!==2&&(t=as,as=r,t!==null&&x2(t)),e}function x2(e){as===null?as=e:as.push.apply(as,e)}function uI(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ki(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ta(e,t){for(t&=~bx,t&=~N0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ai(t),n=1<<r;e[r]=-1,t&=~n}}function I_(e){if(Wt&6)throw Error(Fe(327));Lu();var t=gg(e,0);if(!(t&1))return fs(e,Dr()),null;var r=Og(e,t);if(e.tag!==0&&r===2){var n=W1(e);n!==0&&(t=n,r=w2(e,n))}if(r===1)throw r=ah,rc(e,0),Ta(e,t),fs(e,Dr()),r;if(r===6)throw Error(Fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ml(e,as,Fo),fs(e,Dr()),null}function Sx(e,t){var r=Wt;Wt|=1;try{return e(t)}finally{Wt=r,Wt===0&&(sd=Dr()+500,x0&&ll())}}function fc(e){qa!==null&&qa.tag===0&&!(Wt&6)&&Lu();var t=Wt;Wt|=1;var r=Xs.transition,n=Zt;try{if(Xs.transition=null,Zt=1,e)return e()}finally{Zt=n,Xs.transition=r,Wt=t,!(Wt&6)&&ll()}}function Nx(){ks=Eu.current,hr(Eu)}function rc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,$O(r)),Hr!==null)for(r=Hr.return;r!==null;){var n=r;switch(sx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bg();break;case 3:rd(),hr(us),hr($n),hx();break;case 5:fx(n);break;case 4:rd();break;case 13:hr(xr);break;case 19:hr(xr);break;case 10:lx(n.type._context);break;case 22:case 23:Nx()}r=r.return}if(fn=e,Hr=e=Za(e.current,null),En=ks=t,en=0,ah=null,bx=N0=dc=0,as=Bf=null,Hl!==null){for(t=0;t<Hl.length;t++)if(r=Hl[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Hl=null}return e}function oj(e,t){do{var r=Hr;try{if(ax(),Bm.current=Pg,kg){for(var n=br.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}kg=!1}if(uc=0,cn=Zr=br=null,Mf=!1,sh=0,xx.current=null,r===null||r.return===null){en=1,ah=t,Hr=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=En,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=__(o);if(f!==null){f.flags&=-257,S_(f,o,a,i,t),f.mode&1&&b_(i,u,t),t=f,l=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(l),t.updateQueue=y}else w.add(l);break e}else{if(!(t&1)){b_(i,u,t),Ex();break e}l=Error(Fe(426))}}else if(vr&&a.mode&1){var b=__(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),S_(b,o,a,i,t),ix(nd(l,a));break e}}i=l=nd(l,a),en!==4&&(en=2),Bf===null?Bf=[i]:Bf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=z3(i,l,t);m_(i,v);break e;case 1:a=l;var S=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Qa===null||!Qa.has(_)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=V3(i,a,t);m_(i,E);break e}}i=i.return}while(i!==null)}cj(r)}catch(T){t=T,Hr===r&&r!==null&&(Hr=r=r.return);continue}break}while(!0)}function aj(){var e=Tg.current;return Tg.current=Pg,e===null?Pg:e}function Ex(){(en===0||en===3||en===2)&&(en=4),fn===null||!(dc&268435455)&&!(N0&268435455)||Ta(fn,En)}function Og(e,t){var r=Wt;Wt|=2;var n=aj();(fn!==e||En!==t)&&(Fo=null,rc(e,t));do try{dI();break}catch(s){oj(e,s)}while(!0);if(ax(),Wt=r,Tg.current=n,Hr!==null)throw Error(Fe(261));return fn=null,En=0,en}function dI(){for(;Hr!==null;)lj(Hr)}function fI(){for(;Hr!==null&&!ML();)lj(Hr)}function lj(e){var t=dj(e.alternate,e,ks);e.memoizedProps=e.pendingProps,t===null?cj(e):Hr=t,xx.current=null}function cj(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=iI(r,t),r!==null){r.flags&=32767,Hr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{en=6,Hr=null;return}}else if(r=sI(r,t,ks),r!==null){Hr=r;return}if(t=t.sibling,t!==null){Hr=t;return}Hr=t=e}while(t!==null);en===0&&(en=5)}function Ml(e,t,r){var n=Zt,s=Xs.transition;try{Xs.transition=null,Zt=1,hI(e,t,r,n)}finally{Xs.transition=s,Zt=n}return null}function hI(e,t,r,n){do Lu();while(qa!==null);if(Wt&6)throw Error(Fe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Fe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(GL(e,i),e===fn&&(Hr=fn=null,En=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||em||(em=!0,fj(mg,function(){return Lu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Xs.transition,Xs.transition=null;var o=Zt;Zt=1;var a=Wt;Wt|=4,xx.current=null,aI(e,r),nj(r,e),LO(Q1),yg=!!Y1,Q1=Y1=null,e.current=r,lI(r),FL(),Wt=a,Zt=o,Xs.transition=i}else e.current=r;if(em&&(em=!1,qa=e,Lg=s),i=e.pendingLanes,i===0&&(Qa=null),UL(r.stateNode),fs(e,Dr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Rg)throw Rg=!1,e=y2,y2=null,e;return Lg&1&&e.tag!==0&&Lu(),i=e.pendingLanes,i&1?e===v2?$f++:($f=0,v2=e):$f=0,ll(),null}function Lu(){if(qa!==null){var e=zE(Lg),t=Xs.transition,r=Zt;try{if(Xs.transition=null,Zt=16>e?16:e,qa===null)var n=!1;else{if(e=qa,qa=null,Lg=0,Wt&6)throw Error(Fe(331));var s=Wt;for(Wt|=4,Ke=e.current;Ke!==null;){var i=Ke,o=i.child;if(Ke.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ke=u;Ke!==null;){var d=Ke;switch(d.tag){case 0:case 11:case 15:Ff(8,d,i)}var h=d.child;if(h!==null)h.return=d,Ke=h;else for(;Ke!==null;){d=Ke;var m=d.sibling,f=d.return;if(ej(d),d===u){Ke=null;break}if(m!==null){m.return=f,Ke=m;break}Ke=f}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Ke=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ke=o;else e:for(;Ke!==null;){if(i=Ke,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ff(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Ke=v;break e}Ke=i.return}}var S=e.current;for(Ke=S;Ke!==null;){o=Ke;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ke=_;else e:for(o=S;Ke!==null;){if(a=Ke,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:S0(9,a)}}catch(T){kr(a,a.return,T)}if(a===o){Ke=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Ke=E;break e}Ke=a.return}}if(Wt=s,ll(),ao&&typeof ao.onPostCommitFiberRoot=="function")try{ao.onPostCommitFiberRoot(m0,e)}catch{}n=!0}return n}finally{Zt=r,Xs.transition=t}}return!1}function D_(e,t,r){t=nd(r,t),t=z3(e,t,1),e=Ya(e,t,1),t=Yn(),e!==null&&(kh(e,1,t),fs(e,t))}function kr(e,t,r){if(e.tag===3)D_(e,e,r);else for(;t!==null;){if(t.tag===3){D_(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qa===null||!Qa.has(n))){e=nd(r,e),e=V3(t,e,1),t=Ya(t,e,1),e=Yn(),t!==null&&(kh(t,1,e),fs(t,e));break}}t=t.return}}function pI(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Yn(),e.pingedLanes|=e.suspendedLanes&r,fn===e&&(En&r)===r&&(en===4||en===3&&(En&130023424)===En&&500>Dr()-_x?rc(e,0):bx|=r),fs(e,t)}function uj(e,t){t===0&&(e.mode&1?(t=Vp,Vp<<=1,!(Vp&130023424)&&(Vp=4194304)):t=1);var r=Yn();e=Jo(e,t),e!==null&&(kh(e,t,r),fs(e,r))}function mI(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),uj(e,r)}function gI(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Fe(314))}n!==null&&n.delete(t),uj(e,r)}var dj;dj=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||us.current)cs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return cs=!1,nI(e,t,r);cs=!!(e.flags&131072)}else cs=!1,vr&&t.flags&1048576&&m3(t,Ng,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Um(e,t),e=t.pendingProps;var s=Zu(t,$n.current);Ru(t,r),s=mx(null,t,n,e,s,r);var i=gx();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ds(n)?(i=!0,_g(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ux(t),s.updater=_0,t.stateNode=s,s._reactInternals=t,o2(t,n,e,r),t=c2(null,t,n,!0,i,r)):(t.tag=0,vr&&i&&nx(t),Hn(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Um(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=vI(n),e=yi(n,e),s){case 0:t=l2(null,t,n,e,r);break e;case 1:t=j_(null,t,n,e,r);break e;case 11:t=N_(null,t,n,e,r);break e;case 14:t=E_(null,t,n,yi(n.type,e),r);break e}throw Error(Fe(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yi(n,s),l2(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yi(n,s),j_(e,t,n,s,r);case 3:e:{if(K3(t),e===null)throw Error(Fe(387));n=t.pendingProps,i=t.memoizedState,s=i.element,b3(e,t),Ag(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=nd(Error(Fe(423)),t),t=A_(e,t,n,r,s);break e}else if(n!==s){s=nd(Error(Fe(424)),t),t=A_(e,t,n,r,s);break e}else for(Rs=Ja(t.stateNode.containerInfo.firstChild),Os=t,vr=!0,Ni=null,r=w3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ed(),n===s){t=Yo(e,t,r);break e}Hn(e,t,n,r)}t=t.child}return t;case 5:return _3(t),e===null&&n2(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,X1(n,s)?o=null:i!==null&&X1(n,i)&&(t.flags|=32),G3(e,t),Hn(e,t,o,r),t.child;case 6:return e===null&&n2(t),null;case 13:return J3(e,t,r);case 4:return dx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=td(t,null,n,r):Hn(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yi(n,s),N_(e,t,n,s,r);case 7:return Hn(e,t,t.pendingProps,r),t.child;case 8:return Hn(e,t,t.pendingProps.children,r),t.child;case 12:return Hn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,lr(Eg,n._currentValue),n._currentValue=o,i!==null)if(ki(i.value,o)){if(i.children===s.children&&!us.current){t=Yo(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Wo(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),s2(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Fe(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),s2(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Hn(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ru(t,r),s=ei(s),n=n(s),t.flags|=1,Hn(e,t,n,r),t.child;case 14:return n=t.type,s=yi(n,t.pendingProps),s=yi(n.type,s),E_(e,t,n,s,r);case 15:return W3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:yi(n,s),Um(e,t),t.tag=1,ds(n)?(e=!0,_g(t)):e=!1,Ru(t,r),q3(t,n,s),o2(t,n,s,r),c2(null,t,n,!0,e,r);case 19:return Y3(e,t,r);case 22:return H3(e,t,r)}throw Error(Fe(156,t.tag))};function fj(e,t){return BE(e,t)}function yI(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qs(e,t,r,n){return new yI(e,t,r,n)}function jx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vI(e){if(typeof e=="function")return jx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ww)return 11;if(e===Hw)return 14}return 2}function Za(e,t){var r=e.alternate;return r===null?(r=Qs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vm(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")jx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case mu:return nc(r.children,s,i,t);case Vw:o=8,s|=8;break;case P1:return e=Qs(12,r,t,s|2),e.elementType=P1,e.lanes=i,e;case T1:return e=Qs(13,r,t,s),e.elementType=T1,e.lanes=i,e;case R1:return e=Qs(19,r,t,s),e.elementType=R1,e.lanes=i,e;case _E:return E0(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xE:o=10;break e;case bE:o=9;break e;case Ww:o=11;break e;case Hw:o=14;break e;case Ca:o=16,n=null;break e}throw Error(Fe(130,e==null?e:typeof e,""))}return t=Qs(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function nc(e,t,r,n){return e=Qs(7,e,n,t),e.lanes=r,e}function E0(e,t,r,n){return e=Qs(22,e,n,t),e.elementType=_E,e.lanes=r,e.stateNode={isHidden:!1},e}function Av(e,t,r){return e=Qs(6,e,null,t),e.lanes=r,e}function Cv(e,t,r){return t=Qs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wI(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lv(0),this.expirationTimes=lv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lv(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ax(e,t,r,n,s,i,o,a,l){return e=new wI(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Qs(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ux(i),e}function xI(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function hj(e){if(!e)return tl;e=e._reactInternals;e:{if(Sc(e)!==e||e.tag!==1)throw Error(Fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ds(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Fe(171))}if(e.tag===1){var r=e.type;if(ds(r))return h3(e,r,t)}return t}function pj(e,t,r,n,s,i,o,a,l){return e=Ax(r,n,!0,e,s,i,o,a,l),e.context=hj(null),r=e.current,n=Yn(),s=Xa(r),i=Wo(n,s),i.callback=t??null,Ya(r,i,s),e.current.lanes=s,kh(e,s,n),fs(e,n),e}function j0(e,t,r,n){var s=t.current,i=Yn(),o=Xa(s);return r=hj(r),t.context===null?t.context=r:t.pendingContext=r,t=Wo(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ya(s,t,o),e!==null&&(Ci(e,s,o,i),Fm(e,s,o)),o}function Ig(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function M_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Cx(e,t){M_(e,t),(e=e.alternate)&&M_(e,t)}function bI(){return null}var mj=typeof reportError=="function"?reportError:function(e){console.error(e)};function kx(e){this._internalRoot=e}A0.prototype.render=kx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Fe(409));j0(e,t,null,null)};A0.prototype.unmount=kx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fc(function(){j0(null,e,null,null)}),t[Ko]=null}};function A0(e){this._internalRoot=e}A0.prototype.unstable_scheduleHydration=function(e){if(e){var t=HE();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Pa.length&&t!==0&&t<Pa[r].priority;r++);Pa.splice(r,0,e),r===0&&KE(e)}};function Px(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function C0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function F_(){}function _I(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ig(o);i.call(u)}}var o=pj(t,n,e,0,null,!1,!1,"",F_);return e._reactRootContainer=o,e[Ko]=o.current,Zf(e.nodeType===8?e.parentNode:e),fc(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Ig(l);a.call(u)}}var l=Ax(e,0,!1,null,null,!1,!1,"",F_);return e._reactRootContainer=l,e[Ko]=l.current,Zf(e.nodeType===8?e.parentNode:e),fc(function(){j0(t,l,r,n)}),l}function k0(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ig(o);a.call(l)}}j0(t,o,e,s)}else o=_I(r,t,e,s,n);return Ig(o)}VE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=jf(t.pendingLanes);r!==0&&(Jw(t,r|1),fs(t,Dr()),!(Wt&6)&&(sd=Dr()+500,ll()))}break;case 13:fc(function(){var n=Jo(e,1);if(n!==null){var s=Yn();Ci(n,e,1,s)}}),Cx(e,1)}};Yw=function(e){if(e.tag===13){var t=Jo(e,134217728);if(t!==null){var r=Yn();Ci(t,e,134217728,r)}Cx(e,134217728)}};WE=function(e){if(e.tag===13){var t=Xa(e),r=Jo(e,t);if(r!==null){var n=Yn();Ci(r,e,t,n)}Cx(e,t)}};HE=function(){return Zt};GE=function(e,t){var r=Zt;try{return Zt=e,t()}finally{Zt=r}};q1=function(e,t,r){switch(t){case"input":if(I1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=w0(n);if(!s)throw Error(Fe(90));NE(n),I1(n,s)}}}break;case"textarea":jE(e,r);break;case"select":t=r.value,t!=null&&Cu(e,!!r.multiple,t,!1)}};LE=Sx;OE=fc;var SI={usingClientEntryPoint:!1,Events:[Th,wu,w0,TE,RE,Sx]},yf={findFiberByHostInstance:Wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NI={bundleType:yf.bundleType,version:yf.version,rendererPackageName:yf.rendererPackageName,rendererConfig:yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ea.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ME(e),e===null?null:e.stateNode},findFiberByHostInstance:yf.findFiberByHostInstance||bI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tm.isDisabled&&tm.supportsFiber)try{m0=tm.inject(NI),ao=tm}catch{}}Ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SI;Ms.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Px(t))throw Error(Fe(200));return xI(e,t,null,r)};Ms.createRoot=function(e,t){if(!Px(e))throw Error(Fe(299));var r=!1,n="",s=mj;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ax(e,1,!1,null,null,r,!1,n,s),e[Ko]=t.current,Zf(e.nodeType===8?e.parentNode:e),new kx(t)};Ms.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Fe(188)):(e=Object.keys(e).join(","),Error(Fe(268,e)));return e=ME(t),e=e===null?null:e.stateNode,e};Ms.flushSync=function(e){return fc(e)};Ms.hydrate=function(e,t,r){if(!C0(t))throw Error(Fe(200));return k0(null,e,t,!0,r)};Ms.hydrateRoot=function(e,t,r){if(!Px(e))throw Error(Fe(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=mj;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=pj(t,null,e,1,r??null,s,!1,i,o),e[Ko]=t.current,Zf(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new A0(t)};Ms.render=function(e,t,r){if(!C0(t))throw Error(Fe(200));return k0(null,e,t,!1,r)};Ms.unmountComponentAtNode=function(e){if(!C0(e))throw Error(Fe(40));return e._reactRootContainer?(fc(function(){k0(null,null,e,!1,function(){e._reactRootContainer=null,e[Ko]=null})}),!0):!1};Ms.unstable_batchedUpdates=Sx;Ms.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!C0(r))throw Error(Fe(200));if(e==null||e._reactInternals===void 0)throw Error(Fe(38));return k0(e,t,r,!1,n)};Ms.version="18.3.1-next-f1338f8080-20240426";function gj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gj)}catch(e){console.error(e)}}gj(),gE.exports=Ms;var Nc=gE.exports;const yj=Dw(Nc);var vj,B_=Nc;vj=B_.createRoot,B_.hydrateRoot;const EI=1,jI=1e6;let kv=0;function AI(){return kv=(kv+1)%Number.MAX_SAFE_INTEGER,kv.toString()}const Pv=new Map,$_=e=>{if(Pv.has(e))return;const t=setTimeout(()=>{Pv.delete(e),Uf({type:"REMOVE_TOAST",toastId:e})},jI);Pv.set(e,t)},CI=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,EI)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?$_(r):e.toasts.forEach(n=>{$_(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Wm=[];let Hm={toasts:[]};function Uf(e){Hm=CI(Hm,e),Wm.forEach(t=>{t(Hm)})}function kI({...e}){const t=AI(),r=s=>Uf({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Uf({type:"DISMISS_TOAST",toastId:t});return Uf({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function gs(){const[e,t]=x.useState(Hm);return x.useEffect(()=>(Wm.push(t),()=>{const r=Wm.indexOf(t);r>-1&&Wm.splice(r,1)}),[e]),{...e,toast:kI,dismiss:r=>Uf({type:"DISMISS_TOAST",toastId:r})}}function We(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function U_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Qn(...e){return t=>{let r=!1;const n=e.map(s=>{const i=U_(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():U_(e[s],null)}}}}function $t(...e){return x.useCallback(Qn(...e),e)}function PI(e,t){const r=x.createContext(t),n=i=>{const{children:o,...a}=i,l=x.useMemo(()=>a,Object.values(a));return c.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function s(i){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Oi(e,t=[]){let r=[];function n(i,o){const a=x.createContext(o),l=r.length;r=[...r,o];const u=h=>{var v;const{scope:m,children:f,...w}=h,y=((v=m==null?void 0:m[e])==null?void 0:v[l])||a,b=x.useMemo(()=>w,Object.values(w));return c.jsx(y.Provider,{value:b,children:f})};u.displayName=i+"Provider";function d(h,m){var y;const f=((y=m==null?void 0:m[e])==null?void 0:y[l])||a,w=x.useContext(f);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>x.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,TI(s,...t)]}function TI(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function q_(e){const t=RI(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,a=x.Children.toArray(i),l=a.find(OI);if(l){const u=l.props.children,d=a.map(h=>h===l?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return c.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function RI(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=DI(s),a=II(i,s.props);return s.type!==x.Fragment&&(a.ref=n?Qn(n,o):o),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var LI=Symbol("radix.slottable");function OI(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===LI}function II(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function DI(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function P0(e){const t=e+"CollectionProvider",[r,n]=Oi(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:b,children:v}=y,S=qe.useRef(null),_=qe.useRef(new Map).current;return c.jsx(s,{scope:b,itemMap:_,collectionRef:S,children:v})};o.displayName=t;const a=e+"CollectionSlot",l=q_(a),u=qe.forwardRef((y,b)=>{const{scope:v,children:S}=y,_=i(a,v),E=$t(b,_.collectionRef);return c.jsx(l,{ref:E,children:S})});u.displayName=a;const d=e+"CollectionItemSlot",h="data-radix-collection-item",m=q_(d),f=qe.forwardRef((y,b)=>{const{scope:v,children:S,..._}=y,E=qe.useRef(null),T=$t(b,E),F=i(d,v);return qe.useEffect(()=>(F.itemMap.set(E,{ref:E,..._}),()=>void F.itemMap.delete(E))),c.jsx(m,{[h]:"",ref:T,children:S})});f.displayName=d;function w(y){const b=i(e+"CollectionConsumer",y);return qe.useCallback(()=>{const S=b.collectionRef.current;if(!S)return[];const _=Array.from(S.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((F,D)=>_.indexOf(F.ref.current)-_.indexOf(D.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:f},w,n]}function MI(e){const t=FI(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,a=x.Children.toArray(i),l=a.find($I);if(l){const u=l.props.children,d=a.map(h=>h===l?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return c.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function FI(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=qI(s),a=UI(i,s.props);return s.type!==x.Fragment&&(a.ref=n?Qn(n,o):o),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var BI=Symbol("radix.slottable");function $I(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===BI}function UI(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function qI(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ct=zI.reduce((e,t)=>{const r=MI(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Tx(e,t){e&&Nc.flushSync(()=>e.dispatchEvent(t))}function ms(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function VI(e,t=globalThis==null?void 0:globalThis.document){const r=ms(e);x.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var WI="DismissableLayer",b2="dismissableLayer.update",HI="dismissableLayer.pointerDownOutside",GI="dismissableLayer.focusOutside",z_,wj=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ec=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,u=x.useContext(wj),[d,h]=x.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=x.useState({}),w=$t(t,D=>h(D)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(b),S=d?y.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,E=S>=v,T=JI(D=>{const U=D.target,B=[...u.branches].some(K=>K.contains(U));!E||B||(s==null||s(D),o==null||o(D),D.defaultPrevented||a==null||a())},m),F=YI(D=>{const U=D.target;[...u.branches].some(K=>K.contains(U))||(i==null||i(D),o==null||o(D),D.defaultPrevented||a==null||a())},m);return VI(D=>{S===u.layers.size-1&&(n==null||n(D),!D.defaultPrevented&&a&&(D.preventDefault(),a()))},m),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(z_=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),V_(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=z_)}},[d,m,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),V_())},[d,u]),x.useEffect(()=>{const D=()=>f({});return document.addEventListener(b2,D),()=>document.removeEventListener(b2,D)},[]),c.jsx(Ct.div,{...l,ref:w,style:{pointerEvents:_?E?"auto":"none":void 0,...e.style},onFocusCapture:We(e.onFocusCapture,F.onFocusCapture),onBlurCapture:We(e.onBlurCapture,F.onBlurCapture),onPointerDownCapture:We(e.onPointerDownCapture,T.onPointerDownCapture)})});Ec.displayName=WI;var KI="DismissableLayerBranch",xj=x.forwardRef((e,t)=>{const r=x.useContext(wj),n=x.useRef(null),s=$t(t,n);return x.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),c.jsx(Ct.div,{...e,ref:s})});xj.displayName=KI;function JI(e,t=globalThis==null?void 0:globalThis.document){const r=ms(e),n=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){bj(HI,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function YI(e,t=globalThis==null?void 0:globalThis.document){const r=ms(e),n=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!n.current&&bj(GI,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function V_(){const e=new CustomEvent(b2);document.dispatchEvent(e)}function bj(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Tx(s,i):s.dispatchEvent(i)}var QI=Ec,XI=xj,An=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},ZI="Portal",bd=x.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,i]=x.useState(!1);An(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?yj.createPortal(c.jsx(Ct.div,{...n,ref:t}),o):null});bd.displayName=ZI;function e7(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var ni=e=>{const{present:t,children:r}=e,n=t7(t),s=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=$t(n.ref,r7(s));return typeof r=="function"||n.isPresent?x.cloneElement(s,{ref:i}):null};ni.displayName="Presence";function t7(e){const[t,r]=x.useState(),n=x.useRef(null),s=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[a,l]=e7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=rm(n.current);i.current=a==="mounted"?u:"none"},[a]),An(()=>{const u=n.current,d=s.current;if(d!==e){const m=i.current,f=rm(u);e?l("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&m!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),An(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const y=rm(n.current).includes(CSS.escape(f.animationName));if(f.target===t&&y&&(l("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=f=>{f.target===t&&(i.current=rm(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function rm(e){return(e==null?void 0:e.animationName)||"none"}function r7(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var n7=p0[" useInsertionEffect ".trim().toString()]||An;function hc({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=s7({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:s;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const u=x.useCallback(d=>{var h;if(a){const m=i7(d)?d(e):d;m!==e&&((h=o.current)==null||h.call(o,m))}else i(d)},[a,e,i,o]);return[l,u]}function s7({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),s=x.useRef(r),i=x.useRef(t);return n7(()=>{i.current=t},[t]),x.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function i7(e){return typeof e=="function"}var _j=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),o7="VisuallyHidden",T0=x.forwardRef((e,t)=>c.jsx(Ct.span,{...e,ref:t,style:{..._j,...e.style}}));T0.displayName=o7;var a7=T0,Rx="ToastProvider",[Lx,l7,c7]=P0("Toast"),[Sj]=Oi("Toast",[c7]),[u7,R0]=Sj(Rx),Nj=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,l]=x.useState(null),[u,d]=x.useState(0),h=x.useRef(!1),m=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Rx}\`. Expected non-empty \`string\`.`),c.jsx(Lx.Provider,{scope:t,children:c.jsx(u7,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:x.useCallback(()=>d(f=>f+1),[]),onToastRemove:x.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};Nj.displayName=Rx;var Ej="ToastViewport",d7=["F8"],_2="toast.viewportPause",S2="toast.viewportResume",jj=x.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=d7,label:s="Notifications ({hotkey})",...i}=e,o=R0(Ej,r),a=l7(r),l=x.useRef(null),u=x.useRef(null),d=x.useRef(null),h=x.useRef(null),m=$t(t,h,o.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;x.useEffect(()=>{const b=v=>{var _;n.length!==0&&n.every(E=>v[E]||v.code===E)&&((_=h.current)==null||_.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),x.useEffect(()=>{const b=l.current,v=h.current;if(w&&b&&v){const S=()=>{if(!o.isClosePausedRef.current){const F=new CustomEvent(_2);v.dispatchEvent(F),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const F=new CustomEvent(S2);v.dispatchEvent(F),o.isClosePausedRef.current=!1}},E=F=>{!b.contains(F.relatedTarget)&&_()},T=()=>{b.contains(document.activeElement)||_()};return b.addEventListener("focusin",S),b.addEventListener("focusout",E),b.addEventListener("pointermove",S),b.addEventListener("pointerleave",T),window.addEventListener("blur",S),window.addEventListener("focus",_),()=>{b.removeEventListener("focusin",S),b.removeEventListener("focusout",E),b.removeEventListener("pointermove",S),b.removeEventListener("pointerleave",T),window.removeEventListener("blur",S),window.removeEventListener("focus",_)}}},[w,o.isClosePausedRef]);const y=x.useCallback(({tabbingDirection:b})=>{const S=a().map(_=>{const E=_.ref.current,T=[E,...N7(E)];return b==="forwards"?T:T.reverse()});return(b==="forwards"?S.reverse():S).flat()},[a]);return x.useEffect(()=>{const b=h.current;if(b){const v=S=>{var T,F,D;const _=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!_){const U=document.activeElement,B=S.shiftKey;if(S.target===b&&B){(T=u.current)==null||T.focus();return}const k=y({tabbingDirection:B?"backwards":"forwards"}),W=k.findIndex(P=>P===U);Tv(k.slice(W+1))?S.preventDefault():B?(F=u.current)==null||F.focus():(D=d.current)==null||D.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[a,y]),c.jsxs(XI,{ref:l,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&c.jsx(N2,{ref:u,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});Tv(b)}}),c.jsx(Lx.Slot,{scope:r,children:c.jsx(Ct.ol,{tabIndex:-1,...i,ref:m})}),w&&c.jsx(N2,{ref:d,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});Tv(b)}})]})});jj.displayName=Ej;var Aj="ToastFocusProxy",N2=x.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=R0(Aj,r);return c.jsx(T0,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&n()}})});N2.displayName=Aj;var Lh="Toast",f7="toast.swipeStart",h7="toast.swipeMove",p7="toast.swipeCancel",m7="toast.swipeEnd",Cj=x.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[a,l]=hc({prop:n,defaultProp:s??!0,onChange:i,caller:Lh});return c.jsx(ni,{present:r||a,children:c.jsx(v7,{open:a,...o,ref:t,onClose:()=>l(!1),onPause:ms(e.onPause),onResume:ms(e.onResume),onSwipeStart:We(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:We(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:We(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:We(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Cj.displayName=Lh;var[g7,y7]=Sj(Lh,{onClose(){}}),v7=x.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:f,...w}=e,y=R0(Lh,r),[b,v]=x.useState(null),S=$t(t,P=>v(P)),_=x.useRef(null),E=x.useRef(null),T=s||y.duration,F=x.useRef(0),D=x.useRef(T),U=x.useRef(0),{onToastAdd:B,onToastRemove:K}=y,L=ms(()=>{var Z;(b==null?void 0:b.contains(document.activeElement))&&((Z=y.viewport)==null||Z.focus()),o()}),k=x.useCallback(P=>{!P||P===1/0||(window.clearTimeout(U.current),F.current=new Date().getTime(),U.current=window.setTimeout(L,P))},[L]);x.useEffect(()=>{const P=y.viewport;if(P){const Z=()=>{k(D.current),u==null||u()},ne=()=>{const ie=new Date().getTime()-F.current;D.current=D.current-ie,window.clearTimeout(U.current),l==null||l()};return P.addEventListener(_2,ne),P.addEventListener(S2,Z),()=>{P.removeEventListener(_2,ne),P.removeEventListener(S2,Z)}}},[y.viewport,T,l,u,k]),x.useEffect(()=>{i&&!y.isClosePausedRef.current&&k(T)},[i,T,y.isClosePausedRef,k]),x.useEffect(()=>(B(),()=>K()),[B,K]);const W=x.useMemo(()=>b?Ij(b):null,[b]);return y.viewport?c.jsxs(c.Fragment,{children:[W&&c.jsx(w7,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:W}),c.jsx(g7,{scope:r,onClose:L,children:Nc.createPortal(c.jsx(Lx.ItemSlot,{scope:r,children:c.jsx(QI,{asChild:!0,onEscapeKeyDown:We(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||L(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Ct.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:S,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:We(e.onKeyDown,P=>{P.key==="Escape"&&(a==null||a(P.nativeEvent),P.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:We(e.onPointerDown,P=>{P.button===0&&(_.current={x:P.clientX,y:P.clientY})}),onPointerMove:We(e.onPointerMove,P=>{if(!_.current)return;const Z=P.clientX-_.current.x,ne=P.clientY-_.current.y,ie=!!E.current,M=["left","right"].includes(y.swipeDirection),H=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ae=M?H(0,Z):0,de=M?0:H(0,ne),C=P.pointerType==="touch"?10:2,q={x:ae,y:de},V={originalEvent:P,delta:q};ie?(E.current=q,nm(h7,h,V,{discrete:!1})):W_(q,y.swipeDirection,C)?(E.current=q,nm(f7,d,V,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs(Z)>C||Math.abs(ne)>C)&&(_.current=null)}),onPointerUp:We(e.onPointerUp,P=>{const Z=E.current,ne=P.target;if(ne.hasPointerCapture(P.pointerId)&&ne.releasePointerCapture(P.pointerId),E.current=null,_.current=null,Z){const ie=P.currentTarget,M={originalEvent:P,delta:Z};W_(Z,y.swipeDirection,y.swipeThreshold)?nm(m7,f,M,{discrete:!0}):nm(p7,m,M,{discrete:!0}),ie.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),w7=e=>{const{__scopeToast:t,children:r,...n}=e,s=R0(Lh,t),[i,o]=x.useState(!1),[a,l]=x.useState(!1);return _7(()=>o(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(bd,{asChild:!0,children:c.jsx(T0,{...n,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",r]})})})},x7="ToastTitle",kj=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return c.jsx(Ct.div,{...n,ref:t})});kj.displayName=x7;var b7="ToastDescription",Pj=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return c.jsx(Ct.div,{...n,ref:t})});Pj.displayName=b7;var Tj="ToastAction",Rj=x.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?c.jsx(Oj,{altText:r,asChild:!0,children:c.jsx(Ox,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Tj}\`. Expected non-empty \`string\`.`),null)});Rj.displayName=Tj;var Lj="ToastClose",Ox=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=y7(Lj,r);return c.jsx(Oj,{asChild:!0,children:c.jsx(Ct.button,{type:"button",...n,ref:t,onClick:We(e.onClick,s.onClose)})})});Ox.displayName=Lj;var Oj=x.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return c.jsx(Ct.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function Ij(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),S7(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Ij(n))}}),t}function nm(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Tx(s,i):s.dispatchEvent(i)}var W_=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function _7(e=()=>{}){const t=ms(e);An(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function S7(e){return e.nodeType===e.ELEMENT_NODE}function N7(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Tv(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var E7=Nj,Dj=jj,Mj=Cj,Fj=kj,Bj=Pj,$j=Rj,Uj=Ox;function qj(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=qj(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function zj(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=qj(e))&&(n&&(n+=" "),n+=t);return n}const H_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,G_=zj,L0=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return G_(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=i==null?void 0:i[u];if(d===null)return null;const m=H_(d)||H_(h);return s[u][m]}),a=r&&Object.entries(r).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:m,...f}=d;return Object.entries(f).every(w=>{let[y,b]=w;return Array.isArray(b)?b.includes({...i,...a}[y]):{...i,...a}[y]===b})?[...u,h,m]:u},[]);return G_(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vj=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...A7,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Vj("lucide",s),...a},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(e,t)=>{const r=x.forwardRef(({className:n,...s},i)=>x.createElement(C7,{ref:i,iconNode:t,className:Vj(`lucide-${j7(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=vt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=vt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=vt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=vt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=vt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=vt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=vt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=vt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=vt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=vt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=vt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=vt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=vt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=vt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=vt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=vt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=vt("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=vt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=vt("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=vt("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=vt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=vt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=vt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=vt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=vt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=vt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=vt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=vt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=vt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=vt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=vt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=vt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=vt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=vt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=vt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=vt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=vt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=vt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=vt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=vt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=vt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=vt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=vt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=vt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=vt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=vt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=vt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Fx="-",G7=e=>{const t=J7(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const a=o.split(Fx);return a[0]===""&&a.length!==1&&a.shift(),tA(a,t)||K7(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},tA=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?tA(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Fx);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Q_=/^\[(.+)\]$/,K7=e=>{if(Q_.test(e)){const t=Q_.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},J7=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Q7(Object.entries(e.classGroups),r).forEach(([i,o])=>{E2(o,n,i,t)}),n},E2=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:X_(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(Y7(s)){E2(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{E2(o,X_(t,i),r,n)})})},X_=(e,t)=>{let r=e;return t.split(Fx).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Y7=e=>e.isThemeGetter,Q7=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[r,s]}):e,X7=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},rA="!",Z7=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let u=0,d=0,h;for(let b=0;b<a.length;b++){let v=a[b];if(u===0){if(v===s&&(n||a.slice(b,b+i)===t)){l.push(a.slice(d,b)),d=b+i;continue}if(v==="/"){h=b;continue}}v==="["?u++:v==="]"&&u--}const m=l.length===0?a:a.substring(d),f=m.startsWith(rA),w=f?m.substring(1):m,y=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:w,maybePostfixModifierPosition:y}};return r?a=>r({className:a,parseClassName:o}):o},eD=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},tD=e=>({cache:X7(e.cacheSize),parseClassName:Z7(e),...G7(e)}),rD=/\s+/,nD=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(rD);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:f}=r(u);let w=!!f,y=n(w?m.substring(0,f):m);if(!y){if(!w){a=u+(a.length>0?" "+a:a);continue}if(y=n(m),!y){a=u+(a.length>0?" "+a:a);continue}w=!1}const b=eD(d).join(":"),v=h?b+rA:b,S=v+y;if(i.includes(S))continue;i.push(S);const _=s(y,w);for(let E=0;E<_.length;++E){const T=_[E];i.push(v+T)}a=u+(a.length>0?" "+a:a)}return a};function sD(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=nA(t))&&(n&&(n+=" "),n+=r);return n}const nA=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=nA(e[n]))&&(r&&(r+=" "),r+=t);return r};function iD(e,...t){let r,n,s,i=o;function o(l){const u=t.reduce((d,h)=>h(d),e());return r=tD(u),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const u=n(l);if(u)return u;const d=nD(l,r);return s(l,d),d}return function(){return i(sD.apply(null,arguments))}}const ur=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},sA=/^\[(?:([a-z-]+):)?(.+)\]$/i,oD=/^\d+\/\d+$/,aD=new Set(["px","full","screen"]),lD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lo=e=>Ou(e)||aD.has(e)||oD.test(e),xa=e=>_d(e,"length",xD),Ou=e=>!!e&&!Number.isNaN(Number(e)),Lv=e=>_d(e,"number",Ou),vf=e=>!!e&&Number.isInteger(Number(e)),hD=e=>e.endsWith("%")&&Ou(e.slice(0,-1)),It=e=>sA.test(e),ba=e=>lD.test(e),pD=new Set(["length","size","percentage"]),mD=e=>_d(e,pD,iA),gD=e=>_d(e,"position",iA),yD=new Set(["image","url"]),vD=e=>_d(e,yD,_D),wD=e=>_d(e,"",bD),wf=()=>!0,_d=(e,t,r)=>{const n=sA.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},xD=e=>cD.test(e)&&!uD.test(e),iA=()=>!1,bD=e=>dD.test(e),_D=e=>fD.test(e),SD=()=>{const e=ur("colors"),t=ur("spacing"),r=ur("blur"),n=ur("brightness"),s=ur("borderColor"),i=ur("borderRadius"),o=ur("borderSpacing"),a=ur("borderWidth"),l=ur("contrast"),u=ur("grayscale"),d=ur("hueRotate"),h=ur("invert"),m=ur("gap"),f=ur("gradientColorStops"),w=ur("gradientColorStopPositions"),y=ur("inset"),b=ur("margin"),v=ur("opacity"),S=ur("padding"),_=ur("saturate"),E=ur("scale"),T=ur("sepia"),F=ur("skew"),D=ur("space"),U=ur("translate"),B=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",It,t],k=()=>[It,t],W=()=>["",Lo,xa],P=()=>["auto",Ou,It],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",It],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],de=()=>[Ou,It];return{cacheSize:500,separator:":",theme:{colors:[wf],spacing:[Lo,xa],blur:["none","",ba,It],brightness:de(),borderColor:[e],borderRadius:["none","","full",ba,It],borderSpacing:k(),borderWidth:W(),contrast:de(),grayscale:H(),hueRotate:de(),invert:H(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[hD,xa],inset:L(),margin:L(),opacity:de(),padding:k(),saturate:de(),scale:de(),sepia:H(),skew:de(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",It]}],container:["container"],columns:[{columns:[ba]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),It]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vf,It]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",It]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",vf,It]}],"grid-cols":[{"grid-cols":[wf]}],"col-start-end":[{col:["auto",{span:["full",vf,It]},It]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[wf]}],"row-start-end":[{row:["auto",{span:[vf,It]},It]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",It]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",It]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",It,t]}],"min-w":[{"min-w":[It,t,"min","max","fit"]}],"max-w":[{"max-w":[It,t,"none","full","min","max","fit","prose",{screen:[ba]},ba]}],h:[{h:[It,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[It,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[It,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[It,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ba,xa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lv]}],"font-family":[{font:[wf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",It]}],"line-clamp":[{"line-clamp":["none",Ou,Lv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Lo,It]}],"list-image":[{"list-image":["none",It]}],"list-style-type":[{list:["none","disc","decimal",It]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Lo,xa]}],"underline-offset":[{"underline-offset":["auto",Lo,It]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",It]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",It]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),gD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vD]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[Lo,It]}],"outline-w":[{outline:[Lo,xa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Lo,xa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ba,wD]}],"shadow-color":[{shadow:[wf]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ba,It]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",It]}],duration:[{duration:de()}],ease:[{ease:["linear","in","out","in-out",It]}],delay:[{delay:de()}],animate:[{animate:["none","spin","ping","pulse","bounce",It]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[vf,It]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",It]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",It]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",It]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Lo,xa,Lv]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ND=iD(SD);function Qe(...e){return ND(zj(e))}const ED=E7,oA=x.forwardRef(({className:e,...t},r)=>c.jsx(Dj,{ref:r,className:Qe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));oA.displayName=Dj.displayName;const jD=L0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),aA=x.forwardRef(({className:e,variant:t,...r},n)=>c.jsx(Mj,{ref:n,className:Qe(jD({variant:t}),e),...r}));aA.displayName=Mj.displayName;const AD=x.forwardRef(({className:e,...t},r)=>c.jsx($j,{ref:r,className:Qe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));AD.displayName=$j.displayName;const lA=x.forwardRef(({className:e,...t},r)=>c.jsx(Uj,{ref:r,className:Qe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:c.jsx(Mx,{className:"h-4 w-4"})}));lA.displayName=Uj.displayName;const cA=x.forwardRef(({className:e,...t},r)=>c.jsx(Fj,{ref:r,className:Qe("text-sm font-semibold",e),...t}));cA.displayName=Fj.displayName;const uA=x.forwardRef(({className:e,...t},r)=>c.jsx(Bj,{ref:r,className:Qe("text-sm opacity-90",e),...t}));uA.displayName=Bj.displayName;function CD(){const{toasts:e}=gs();return c.jsxs(ED,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return c.jsxs(aA,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[r&&c.jsx(cA,{children:r}),n&&c.jsx(uA,{children:n})]}),s,c.jsx(lA,{})]},t)}),c.jsx(oA,{})]})}var Z_=["light","dark"],kD="(prefers-color-scheme: dark)",PD=x.createContext(void 0),TD={setTheme:e=>{},themes:[]},RD=()=>{var e;return(e=x.useContext(PD))!=null?e:TD};x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?Z_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(w,y=!1,b=!0)=>{let v=o?o[w]:w,S=y?w+"|| ''":`'${v}'`,_="";return s&&b&&!y&&Z_.includes(w)&&(_+=`d.style.colorScheme = '${w}';`),r==="class"?y||v?_+=`c.add(${S})`:_+="null":v&&(_+=`d[s](n,${S})`),_},f=e?`!function(){${d}${m(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${kD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${h}}catch(t){}}();`;return x.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var LD=e=>{switch(e){case"success":return DD;case"info":return FD;case"warning":return MD;case"error":return BD;default:return null}},OD=Array(12).fill(0),ID=({visible:e,className:t})=>qe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},qe.createElement("div",{className:"sonner-spinner"},OD.map((r,n)=>qe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),DD=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),MD=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),FD=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),BD=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$D=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},qe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),qe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),UD=()=>{let[e,t]=qe.useState(document.hidden);return qe.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},j2=1,qD=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:j2++,o=this.toasts.find(l=>l.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:n}),{...l,...t,id:i,dismissible:a,title:n}):l):this.addToast({title:n,...s,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let s=t instanceof Promise?t:t(),i=n!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],qe.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(VD(u)&&!u.ok){i=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:h})}else if(r.success!==void 0){i=!1;let d=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:h})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;let d=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:h})}}).finally(()=>{var u;i&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),l=()=>new Promise((u,d)=>a.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||j2++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ss=new qD,zD=(e,t)=>{let r=(t==null?void 0:t.id)||j2++;return ss.addToast({title:e,...t,id:r}),r},VD=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",WD=zD,HD=()=>ss.toasts,GD=()=>ss.getActiveToasts(),Jn=Object.assign(WD,{success:ss.success,info:ss.info,warning:ss.warning,error:ss.error,custom:ss.custom,message:ss.message,promise:ss.promise,dismiss:ss.dismiss,loading:ss.loading},{getHistory:HD,getToasts:GD});function KD(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}KD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function sm(e){return e.label!==void 0}var JD=3,YD="32px",QD="16px",eS=4e3,XD=356,ZD=14,eM=20,tM=200;function hi(...e){return e.filter(Boolean).join(" ")}function rM(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var nM=e=>{var t,r,n,s,i,o,a,l,u,d,h;let{invert:m,toast:f,unstyled:w,interacting:y,setHeights:b,visibleToasts:v,heights:S,index:_,toasts:E,expanded:T,removeToast:F,defaultRichColors:D,closeButton:U,style:B,cancelButtonStyle:K,actionButtonStyle:L,className:k="",descriptionClassName:W="",duration:P,position:Z,gap:ne,loadingIcon:ie,expandByDefault:M,classNames:H,icons:ae,closeButtonAriaLabel:de="Close toast",pauseWhenPageIsHidden:C}=e,[q,V]=qe.useState(null),[Y,se]=qe.useState(null),[Q,ce]=qe.useState(!1),[ue,me]=qe.useState(!1),[ve,be]=qe.useState(!1),[Ne,Ue]=qe.useState(!1),[R,Te]=qe.useState(!1),[He,oe]=qe.useState(0),[X,ye]=qe.useState(0),Ee=qe.useRef(f.duration||P||eS),Oe=qe.useRef(null),Me=qe.useRef(null),_e=_===0,Ie=_+1<=v,$e=f.type,mt=f.dismissible!==!1,Et=f.className||"",rt=f.descriptionClassName||"",gt=qe.useMemo(()=>S.findIndex(ht=>ht.toastId===f.id)||0,[S,f.id]),ot=qe.useMemo(()=>{var ht;return(ht=f.closeButton)!=null?ht:U},[f.closeButton,U]),pr=qe.useMemo(()=>f.duration||P||eS,[f.duration,P]),Dt=qe.useRef(0),wt=qe.useRef(0),kt=qe.useRef(0),Gt=qe.useRef(null),[dt,er]=Z.split("-"),ft=qe.useMemo(()=>S.reduce((ht,St,Ut)=>Ut>=gt?ht:ht+St.height,0),[S,gt]),xt=UD(),sr=f.invert||m,Pt=$e==="loading";wt.current=qe.useMemo(()=>gt*ne+ft,[gt,ft]),qe.useEffect(()=>{Ee.current=pr},[pr]),qe.useEffect(()=>{ce(!0)},[]),qe.useEffect(()=>{let ht=Me.current;if(ht){let St=ht.getBoundingClientRect().height;return ye(St),b(Ut=>[{toastId:f.id,height:St,position:f.position},...Ut]),()=>b(Ut=>Ut.filter(Sr=>Sr.toastId!==f.id))}},[b,f.id]),qe.useLayoutEffect(()=>{if(!Q)return;let ht=Me.current,St=ht.style.height;ht.style.height="auto";let Ut=ht.getBoundingClientRect().height;ht.style.height=St,ye(Ut),b(Sr=>Sr.find(tt=>tt.toastId===f.id)?Sr.map(tt=>tt.toastId===f.id?{...tt,height:Ut}:tt):[{toastId:f.id,height:Ut,position:f.position},...Sr])},[Q,f.title,f.description,b,f.id]);let at=qe.useCallback(()=>{me(!0),oe(wt.current),b(ht=>ht.filter(St=>St.toastId!==f.id)),setTimeout(()=>{F(f)},tM)},[f,F,b,wt]);qe.useEffect(()=>{if(f.promise&&$e==="loading"||f.duration===1/0||f.type==="loading")return;let ht;return T||y||C&&xt?(()=>{if(kt.current<Dt.current){let St=new Date().getTime()-Dt.current;Ee.current=Ee.current-St}kt.current=new Date().getTime()})():Ee.current!==1/0&&(Dt.current=new Date().getTime(),ht=setTimeout(()=>{var St;(St=f.onAutoClose)==null||St.call(f,f),at()},Ee.current)),()=>clearTimeout(ht)},[T,y,f,$e,C,xt,at]),qe.useEffect(()=>{f.delete&&at()},[at,f.delete]);function Ht(){var ht,St,Ut;return ae!=null&&ae.loading?qe.createElement("div",{className:hi(H==null?void 0:H.loader,(ht=f==null?void 0:f.classNames)==null?void 0:ht.loader,"sonner-loader"),"data-visible":$e==="loading"},ae.loading):ie?qe.createElement("div",{className:hi(H==null?void 0:H.loader,(St=f==null?void 0:f.classNames)==null?void 0:St.loader,"sonner-loader"),"data-visible":$e==="loading"},ie):qe.createElement(ID,{className:hi(H==null?void 0:H.loader,(Ut=f==null?void 0:f.classNames)==null?void 0:Ut.loader),visible:$e==="loading"})}return qe.createElement("li",{tabIndex:0,ref:Me,className:hi(k,Et,H==null?void 0:H.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,H==null?void 0:H.default,H==null?void 0:H[$e],(r=f==null?void 0:f.classNames)==null?void 0:r[$e]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:D,"data-styled":!(f.jsx||f.unstyled||w),"data-mounted":Q,"data-promise":!!f.promise,"data-swiped":R,"data-removed":ue,"data-visible":Ie,"data-y-position":dt,"data-x-position":er,"data-index":_,"data-front":_e,"data-swiping":ve,"data-dismissible":mt,"data-type":$e,"data-invert":sr,"data-swipe-out":Ne,"data-swipe-direction":Y,"data-expanded":!!(T||M&&Q),style:{"--index":_,"--toasts-before":_,"--z-index":E.length-_,"--offset":`${ue?He:wt.current}px`,"--initial-height":M?"auto":`${X}px`,...B,...f.style},onDragEnd:()=>{be(!1),V(null),Gt.current=null},onPointerDown:ht=>{Pt||!mt||(Oe.current=new Date,oe(wt.current),ht.target.setPointerCapture(ht.pointerId),ht.target.tagName!=="BUTTON"&&(be(!0),Gt.current={x:ht.clientX,y:ht.clientY}))},onPointerUp:()=>{var ht,St,Ut,Sr;if(Ne||!mt)return;Gt.current=null;let tt=Number(((ht=Me.current)==null?void 0:ht.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),on=Number(((St=Me.current)==null?void 0:St.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),hn=new Date().getTime()-((Ut=Oe.current)==null?void 0:Ut.getTime()),mr=q==="x"?tt:on,Pr=Math.abs(mr)/hn;if(Math.abs(mr)>=eM||Pr>.11){oe(wt.current),(Sr=f.onDismiss)==null||Sr.call(f,f),se(q==="x"?tt>0?"right":"left":on>0?"down":"up"),at(),Ue(!0),Te(!1);return}be(!1),V(null)},onPointerMove:ht=>{var St,Ut,Sr,tt;if(!Gt.current||!mt||((St=window.getSelection())==null?void 0:St.toString().length)>0)return;let on=ht.clientY-Gt.current.y,hn=ht.clientX-Gt.current.x,mr=(Ut=e.swipeDirections)!=null?Ut:rM(Z);!q&&(Math.abs(hn)>1||Math.abs(on)>1)&&V(Math.abs(hn)>Math.abs(on)?"x":"y");let Pr={x:0,y:0};q==="y"?(mr.includes("top")||mr.includes("bottom"))&&(mr.includes("top")&&on<0||mr.includes("bottom")&&on>0)&&(Pr.y=on):q==="x"&&(mr.includes("left")||mr.includes("right"))&&(mr.includes("left")&&hn<0||mr.includes("right")&&hn>0)&&(Pr.x=hn),(Math.abs(Pr.x)>0||Math.abs(Pr.y)>0)&&Te(!0),(Sr=Me.current)==null||Sr.style.setProperty("--swipe-amount-x",`${Pr.x}px`),(tt=Me.current)==null||tt.style.setProperty("--swipe-amount-y",`${Pr.y}px`)}},ot&&!f.jsx?qe.createElement("button",{"aria-label":de,"data-disabled":Pt,"data-close-button":!0,onClick:Pt||!mt?()=>{}:()=>{var ht;at(),(ht=f.onDismiss)==null||ht.call(f,f)},className:hi(H==null?void 0:H.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(i=ae==null?void 0:ae.close)!=null?i:$D):null,f.jsx||x.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:qe.createElement(qe.Fragment,null,$e||f.icon||f.promise?qe.createElement("div",{"data-icon":"",className:hi(H==null?void 0:H.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Ht():null,f.type!=="loading"?f.icon||(ae==null?void 0:ae[$e])||LD($e):null):null,qe.createElement("div",{"data-content":"",className:hi(H==null?void 0:H.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},qe.createElement("div",{"data-title":"",className:hi(H==null?void 0:H.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?qe.createElement("div",{"data-description":"",className:hi(W,rt,H==null?void 0:H.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),x.isValidElement(f.cancel)?f.cancel:f.cancel&&sm(f.cancel)?qe.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||K,onClick:ht=>{var St,Ut;sm(f.cancel)&&mt&&((Ut=(St=f.cancel).onClick)==null||Ut.call(St,ht),at())},className:hi(H==null?void 0:H.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,x.isValidElement(f.action)?f.action:f.action&&sm(f.action)?qe.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||L,onClick:ht=>{var St,Ut;sm(f.action)&&((Ut=(St=f.action).onClick)==null||Ut.call(St,ht),!ht.defaultPrevented&&at())},className:hi(H==null?void 0:H.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function tS(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function sM(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?QD:YD;function l(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=a:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(a)}),r}var iM=x.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:h,duration:m,style:f,visibleToasts:w=JD,toastOptions:y,dir:b=tS(),gap:v=ZD,loadingIcon:S,icons:_,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:T}=e,[F,D]=qe.useState([]),U=qe.useMemo(()=>Array.from(new Set([n].concat(F.filter(C=>C.position).map(C=>C.position)))),[F,n]),[B,K]=qe.useState([]),[L,k]=qe.useState(!1),[W,P]=qe.useState(!1),[Z,ne]=qe.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=qe.useRef(null),M=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=qe.useRef(null),ae=qe.useRef(!1),de=qe.useCallback(C=>{D(q=>{var V;return(V=q.find(Y=>Y.id===C.id))!=null&&V.delete||ss.dismiss(C.id),q.filter(({id:Y})=>Y!==C.id)})},[]);return qe.useEffect(()=>ss.subscribe(C=>{if(C.dismiss){D(q=>q.map(V=>V.id===C.id?{...V,delete:!0}:V));return}setTimeout(()=>{yj.flushSync(()=>{D(q=>{let V=q.findIndex(Y=>Y.id===C.id);return V!==-1?[...q.slice(0,V),{...q[V],...C},...q.slice(V+1)]:[C,...q]})})})}),[]),qe.useEffect(()=>{if(d!=="system"){ne(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;let C=window.matchMedia("(prefers-color-scheme: dark)");try{C.addEventListener("change",({matches:q})=>{ne(q?"dark":"light")})}catch{C.addListener(({matches:V})=>{try{ne(V?"dark":"light")}catch(Y){console.error(Y)}})}},[d]),qe.useEffect(()=>{F.length<=1&&k(!1)},[F]),qe.useEffect(()=>{let C=q=>{var V,Y;s.every(se=>q[se]||q.code===se)&&(k(!0),(V=ie.current)==null||V.focus()),q.code==="Escape"&&(document.activeElement===ie.current||(Y=ie.current)!=null&&Y.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[s]),qe.useEffect(()=>{if(ie.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,ae.current=!1)}},[ie.current]),qe.createElement("section",{ref:t,"aria-label":`${E} ${M}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((C,q)=>{var V;let[Y,se]=C.split("-");return F.length?qe.createElement("ol",{key:C,dir:b==="auto"?tS():b,tabIndex:-1,ref:ie,className:a,"data-sonner-toaster":!0,"data-theme":Z,"data-y-position":Y,"data-lifted":L&&F.length>1&&!i,"data-x-position":se,style:{"--front-toast-height":`${((V=B[0])==null?void 0:V.height)||0}px`,"--width":`${XD}px`,"--gap":`${v}px`,...f,...sM(l,u)},onBlur:Q=>{ae.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(ae.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||ae.current||(ae.current=!0,H.current=Q.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{W||k(!1)},onDragEnd:()=>k(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},F.filter(Q=>!Q.position&&q===0||Q.position===C).map((Q,ce)=>{var ue,me;return qe.createElement(nM,{key:Q.id,icons:_,index:ce,toast:Q,defaultRichColors:h,duration:(ue=y==null?void 0:y.duration)!=null?ue:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:r,visibleToasts:w,closeButton:(me=y==null?void 0:y.closeButton)!=null?me:o,interacting:W,position:C,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:de,toasts:F.filter(ve=>ve.position==Q.position),heights:B.filter(ve=>ve.position==Q.position),setHeights:K,expandByDefault:i,gap:v,loadingIcon:S,expanded:L,pauseWhenPageIsHidden:T,swipeDirections:e.swipeDirections})})):null}))});const oM=({...e})=>{const{theme:t="system"}=RD();return c.jsx(iM,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var aM=p0[" useId ".trim().toString()]||(()=>{}),lM=0;function Bn(e){const[t,r]=x.useState(aM());return An(()=>{r(n=>n??String(lM++))},[e]),t?`radix-${t}`:""}const cM=["top","right","bottom","left"],rl=Math.min,Ps=Math.max,$g=Math.round,im=Math.floor,uo=e=>({x:e,y:e}),uM={left:"right",right:"left",bottom:"top",top:"bottom"},dM={start:"end",end:"start"};function A2(e,t,r){return Ps(e,rl(t,r))}function Xo(e,t){return typeof e=="function"?e(t):e}function Zo(e){return e.split("-")[0]}function Sd(e){return e.split("-")[1]}function Bx(e){return e==="x"?"y":"x"}function $x(e){return e==="y"?"height":"width"}const fM=new Set(["top","bottom"]);function no(e){return fM.has(Zo(e))?"y":"x"}function Ux(e){return Bx(no(e))}function hM(e,t,r){r===void 0&&(r=!1);const n=Sd(e),s=Ux(e),i=$x(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Ug(o)),[o,Ug(o)]}function pM(e){const t=Ug(e);return[C2(e),t,C2(t)]}function C2(e){return e.replace(/start|end/g,t=>dM[t])}const rS=["left","right"],nS=["right","left"],mM=["top","bottom"],gM=["bottom","top"];function yM(e,t,r){switch(e){case"top":case"bottom":return r?t?nS:rS:t?rS:nS;case"left":case"right":return t?mM:gM;default:return[]}}function vM(e,t,r,n){const s=Sd(e);let i=yM(Zo(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(C2)))),i}function Ug(e){return e.replace(/left|right|bottom|top/g,t=>uM[t])}function wM(e){return{top:0,right:0,bottom:0,left:0,...e}}function dA(e){return typeof e!="number"?wM(e):{top:e,right:e,bottom:e,left:e}}function qg(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function sS(e,t,r){let{reference:n,floating:s}=e;const i=no(t),o=Ux(t),a=$x(o),l=Zo(t),u=i==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,m=n[a]/2-s[a]/2;let f;switch(l){case"top":f={x:d,y:n.y-s.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-s.width,y:h};break;default:f={x:n.x,y:n.y}}switch(Sd(t)){case"start":f[o]-=m*(r&&u?-1:1);break;case"end":f[o]+=m*(r&&u?-1:1);break}return f}const xM=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=sS(u,n,l),m=n,f={},w=0;for(let y=0;y<a.length;y++){const{name:b,fn:v}=a[y],{x:S,y:_,data:E,reset:T}=await v({x:d,y:h,initialPlacement:n,placement:m,strategy:s,middlewareData:f,rects:u,platform:o,elements:{reference:e,floating:t}});d=S??d,h=_??h,f={...f,[b]:{...f[b],...E}},T&&w<=50&&(w++,typeof T=="object"&&(T.placement&&(m=T.placement),T.rects&&(u=T.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):T.rects),{x:d,y:h}=sS(u,m,l)),y=-1)}return{x:d,y:h,placement:m,strategy:s,middlewareData:f}};async function lh(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:f=0}=Xo(t,e),w=dA(f),b=a[m?h==="floating"?"reference":"floating":h],v=qg(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),S=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},T=qg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:_,strategy:l}):S);return{top:(v.top-T.top+w.top)/E.y,bottom:(T.bottom-v.bottom+w.bottom)/E.y,left:(v.left-T.left+w.left)/E.x,right:(T.right-v.right+w.right)/E.x}}const bM=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:u,padding:d=0}=Xo(e,t)||{};if(u==null)return{};const h=dA(d),m={x:r,y:n},f=Ux(s),w=$x(f),y=await o.getDimensions(u),b=f==="y",v=b?"top":"left",S=b?"bottom":"right",_=b?"clientHeight":"clientWidth",E=i.reference[w]+i.reference[f]-m[f]-i.floating[w],T=m[f]-i.reference[f],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let D=F?F[_]:0;(!D||!await(o.isElement==null?void 0:o.isElement(F)))&&(D=a.floating[_]||i.floating[w]);const U=E/2-T/2,B=D/2-y[w]/2-1,K=rl(h[v],B),L=rl(h[S],B),k=K,W=D-y[w]-L,P=D/2-y[w]/2+U,Z=A2(k,P,W),ne=!l.arrow&&Sd(s)!=null&&P!==Z&&i.reference[w]/2-(P<k?K:L)-y[w]/2<0,ie=ne?P<k?P-k:P-W:0;return{[f]:m[f]+ie,data:{[f]:Z,centerOffset:P-Z-ie,...ne&&{alignmentOffset:ie}},reset:ne}}}),_M=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...b}=Xo(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=Zo(s),S=no(a),_=Zo(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(u.floating)),T=m||(_||!y?[Ug(a)]:pM(a)),F=w!=="none";!m&&F&&T.push(...vM(a,y,w,E));const D=[a,...T],U=await lh(t,b),B=[];let K=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&B.push(U[v]),h){const P=hM(s,o,E);B.push(U[P[0]],U[P[1]])}if(K=[...K,{placement:s,overflows:B}],!B.every(P=>P<=0)){var L,k;const P=(((L=i.flip)==null?void 0:L.index)||0)+1,Z=D[P];if(Z&&(!(h==="alignment"?S!==no(Z):!1)||K.every(M=>no(M.placement)===S?M.overflows[0]>0:!0)))return{data:{index:P,overflows:K},reset:{placement:Z}};let ne=(k=K.filter(ie=>ie.overflows[0]<=0).sort((ie,M)=>ie.overflows[1]-M.overflows[1])[0])==null?void 0:k.placement;if(!ne)switch(f){case"bestFit":{var W;const ie=(W=K.filter(M=>{if(F){const H=no(M.placement);return H===S||H==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(H=>H>0).reduce((H,ae)=>H+ae,0)]).sort((M,H)=>M[1]-H[1])[0])==null?void 0:W[0];ie&&(ne=ie);break}case"initialPlacement":ne=a;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function iS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function oS(e){return cM.some(t=>e[t]>=0)}const SM=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Xo(e,t);switch(n){case"referenceHidden":{const i=await lh(t,{...s,elementContext:"reference"}),o=iS(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:oS(o)}}}case"escaped":{const i=await lh(t,{...s,altBoundary:!0}),o=iS(i,r.floating);return{data:{escapedOffsets:o,escaped:oS(o)}}}default:return{}}}}},fA=new Set(["left","top"]);async function NM(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Zo(r),a=Sd(r),l=no(r)==="y",u=fA.has(o)?-1:1,d=i&&l?-1:1,h=Xo(t,e);let{mainAxis:m,crossAxis:f,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(f=a==="end"?w*-1:w),l?{x:f*d,y:m*u}:{x:m*u,y:f*d}}const EM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await NM(t,e);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},jM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:v,y:S}=b;return{x:v,y:S}}},...l}=Xo(e,t),u={x:r,y:n},d=await lh(t,l),h=no(Zo(s)),m=Bx(h);let f=u[m],w=u[h];if(i){const b=m==="y"?"top":"left",v=m==="y"?"bottom":"right",S=f+d[b],_=f-d[v];f=A2(S,f,_)}if(o){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",S=w+d[b],_=w-d[v];w=A2(S,w,_)}const y=a.fn({...t,[m]:f,[h]:w});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[m]:i,[h]:o}}}}}},AM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Xo(e,t),d={x:r,y:n},h=no(s),m=Bx(h);let f=d[m],w=d[h];const y=Xo(a,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const _=m==="y"?"height":"width",E=i.reference[m]-i.floating[_]+b.mainAxis,T=i.reference[m]+i.reference[_]-b.mainAxis;f<E?f=E:f>T&&(f=T)}if(u){var v,S;const _=m==="y"?"width":"height",E=fA.has(Zo(s)),T=i.reference[h]-i.floating[_]+(E&&((v=o.offset)==null?void 0:v[h])||0)+(E?0:b.crossAxis),F=i.reference[h]+i.reference[_]+(E?0:((S=o.offset)==null?void 0:S[h])||0)-(E?b.crossAxis:0);w<T?w=T:w>F&&(w=F)}return{[m]:f,[h]:w}}}},CM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...u}=Xo(e,t),d=await lh(t,u),h=Zo(s),m=Sd(s),f=no(s)==="y",{width:w,height:y}=i.floating;let b,v;h==="top"||h==="bottom"?(b=h,v=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,b=m==="end"?"top":"bottom");const S=y-d.top-d.bottom,_=w-d.left-d.right,E=rl(y-d[b],S),T=rl(w-d[v],_),F=!t.middlewareData.shift;let D=E,U=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(U=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(D=S),F&&!m){const K=Ps(d.left,0),L=Ps(d.right,0),k=Ps(d.top,0),W=Ps(d.bottom,0);f?U=w-2*(K!==0||L!==0?K+L:Ps(d.left,d.right)):D=y-2*(k!==0||W!==0?k+W:Ps(d.top,d.bottom))}await l({...t,availableWidth:U,availableHeight:D});const B=await o.getDimensions(a.floating);return w!==B.width||y!==B.height?{reset:{rects:!0}}:{}}}};function O0(){return typeof window<"u"}function Nd(e){return hA(e)?(e.nodeName||"").toLowerCase():"#document"}function Is(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function po(e){var t;return(t=(hA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hA(e){return O0()?e instanceof Node||e instanceof Is(e).Node:!1}function Ti(e){return O0()?e instanceof Element||e instanceof Is(e).Element:!1}function ho(e){return O0()?e instanceof HTMLElement||e instanceof Is(e).HTMLElement:!1}function aS(e){return!O0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Is(e).ShadowRoot}const kM=new Set(["inline","contents"]);function Ih(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Ri(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!kM.has(s)}const PM=new Set(["table","td","th"]);function TM(e){return PM.has(Nd(e))}const RM=[":popover-open",":modal"];function I0(e){return RM.some(t=>{try{return e.matches(t)}catch{return!1}})}const LM=["transform","translate","scale","rotate","perspective"],OM=["transform","translate","scale","rotate","perspective","filter"],IM=["paint","layout","strict","content"];function qx(e){const t=zx(),r=Ti(e)?Ri(e):e;return LM.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||OM.some(n=>(r.willChange||"").includes(n))||IM.some(n=>(r.contain||"").includes(n))}function DM(e){let t=nl(e);for(;ho(t)&&!ld(t);){if(qx(t))return t;if(I0(t))return null;t=nl(t)}return null}function zx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const MM=new Set(["html","body","#document"]);function ld(e){return MM.has(Nd(e))}function Ri(e){return Is(e).getComputedStyle(e)}function D0(e){return Ti(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function nl(e){if(Nd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||aS(e)&&e.host||po(e);return aS(t)?t.host:t}function pA(e){const t=nl(e);return ld(t)?e.ownerDocument?e.ownerDocument.body:e.body:ho(t)&&Ih(t)?t:pA(t)}function ch(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=pA(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Is(s);if(i){const a=k2(o);return t.concat(o,o.visualViewport||[],Ih(s)?s:[],a&&r?ch(a):[])}return t.concat(s,ch(s,[],r))}function k2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mA(e){const t=Ri(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ho(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,a=$g(r)!==i||$g(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function Vx(e){return Ti(e)?e:e.contextElement}function Iu(e){const t=Vx(e);if(!ho(t))return uo(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=mA(t);let o=(i?$g(r.width):r.width)/n,a=(i?$g(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const FM=uo(0);function gA(e){const t=Is(e);return!zx()||!t.visualViewport?FM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function BM(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Is(e)?!1:t}function pc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Vx(e);let o=uo(1);t&&(n?Ti(n)&&(o=Iu(n)):o=Iu(e));const a=BM(i,r,n)?gA(i):uo(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const m=Is(i),f=n&&Ti(n)?Is(n):n;let w=m,y=k2(w);for(;y&&n&&f!==w;){const b=Iu(y),v=y.getBoundingClientRect(),S=Ri(y),_=v.left+(y.clientLeft+parseFloat(S.paddingLeft))*b.x,E=v.top+(y.clientTop+parseFloat(S.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,h*=b.y,l+=_,u+=E,w=Is(y),y=k2(w)}}return qg({width:d,height:h,x:l,y:u})}function M0(e,t){const r=D0(e).scrollLeft;return t?t.left+r:pc(po(e)).left+r}function yA(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-M0(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function $M(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=po(n),a=t?I0(t.floating):!1;if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},u=uo(1);const d=uo(0),h=ho(n);if((h||!h&&!i)&&((Nd(n)!=="body"||Ih(o))&&(l=D0(n)),ho(n))){const f=pc(n);u=Iu(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}const m=o&&!h&&!i?yA(o,l):uo(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-l.scrollTop*u.y+d.y+m.y}}function UM(e){return Array.from(e.getClientRects())}function qM(e){const t=po(e),r=D0(e),n=e.ownerDocument.body,s=Ps(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Ps(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+M0(e);const a=-r.scrollTop;return Ri(n).direction==="rtl"&&(o+=Ps(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}const lS=25;function zM(e,t){const r=Is(e),n=po(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=zx();(!d||d&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=M0(n);if(u<=0){const d=n.ownerDocument,h=d.body,m=getComputedStyle(h),f=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,w=Math.abs(n.clientWidth-h.clientWidth-f);w<=lS&&(i-=w)}else u<=lS&&(i+=u);return{width:i,height:o,x:a,y:l}}const VM=new Set(["absolute","fixed"]);function WM(e,t){const r=pc(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=ho(e)?Iu(e):uo(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,u=n*i.y;return{width:o,height:a,x:l,y:u}}function cS(e,t,r){let n;if(t==="viewport")n=zM(e,r);else if(t==="document")n=qM(po(e));else if(Ti(t))n=WM(t,r);else{const s=gA(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return qg(n)}function vA(e,t){const r=nl(e);return r===t||!Ti(r)||ld(r)?!1:Ri(r).position==="fixed"||vA(r,t)}function HM(e,t){const r=t.get(e);if(r)return r;let n=ch(e,[],!1).filter(a=>Ti(a)&&Nd(a)!=="body"),s=null;const i=Ri(e).position==="fixed";let o=i?nl(e):e;for(;Ti(o)&&!ld(o);){const a=Ri(o),l=qx(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&VM.has(s.position)||Ih(o)&&!l&&vA(e,o))?n=n.filter(d=>d!==o):s=a,o=nl(o)}return t.set(e,n),n}function GM(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?I0(t)?[]:HM(t,this._c):[].concat(r),n],a=o[0],l=o.reduce((u,d)=>{const h=cS(t,d,s);return u.top=Ps(h.top,u.top),u.right=rl(h.right,u.right),u.bottom=rl(h.bottom,u.bottom),u.left=Ps(h.left,u.left),u},cS(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function KM(e){const{width:t,height:r}=mA(e);return{width:t,height:r}}function JM(e,t,r){const n=ho(t),s=po(t),i=r==="fixed",o=pc(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=uo(0);function u(){l.x=M0(s)}if(n||!n&&!i)if((Nd(t)!=="body"||Ih(s))&&(a=D0(t)),n){const f=pc(t,!0,i,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?yA(s,a):uo(0),h=o.left+a.scrollLeft-l.x-d.x,m=o.top+a.scrollTop-l.y-d.y;return{x:h,y:m,width:o.width,height:o.height}}function Ov(e){return Ri(e).position==="static"}function uS(e,t){if(!ho(e)||Ri(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return po(e)===r&&(r=r.ownerDocument.body),r}function wA(e,t){const r=Is(e);if(I0(e))return r;if(!ho(e)){let s=nl(e);for(;s&&!ld(s);){if(Ti(s)&&!Ov(s))return s;s=nl(s)}return r}let n=uS(e,t);for(;n&&TM(n)&&Ov(n);)n=uS(n,t);return n&&ld(n)&&Ov(n)&&!qx(n)?r:n||DM(e)||r}const YM=async function(e){const t=this.getOffsetParent||wA,r=this.getDimensions,n=await r(e.floating);return{reference:JM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function QM(e){return Ri(e).direction==="rtl"}const XM={convertOffsetParentRelativeRectToViewportRelativeRect:$M,getDocumentElement:po,getClippingRect:GM,getOffsetParent:wA,getElementRects:YM,getClientRects:UM,getDimensions:KM,getScale:Iu,isElement:Ti,isRTL:QM};function xA(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ZM(e,t){let r=null,n;const s=po(e);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:m,height:f}=u;if(a||t(),!m||!f)return;const w=im(h),y=im(s.clientWidth-(d+m)),b=im(s.clientHeight-(h+f)),v=im(d),_={rootMargin:-w+"px "+-y+"px "+-b+"px "+-v+"px",threshold:Ps(0,rl(1,l))||1};let E=!0;function T(F){const D=F[0].intersectionRatio;if(D!==l){if(!E)return o();D?o(!1,D):n=setTimeout(()=>{o(!1,1e-7)},1e3)}D===1&&!xA(u,e.getBoundingClientRect())&&o(),E=!1}try{r=new IntersectionObserver(T,{..._,root:s.ownerDocument})}catch{r=new IntersectionObserver(T,_)}r.observe(e)}return o(!0),i}function eF(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=Vx(e),d=s||i?[...u?ch(u):[],...ch(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const h=u&&a?ZM(u,r):null;let m=-1,f=null;o&&(f=new ResizeObserver(v=>{let[S]=v;S&&S.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=f)==null||_.observe(t)})),r()}),u&&!l&&f.observe(u),f.observe(t));let w,y=l?pc(e):null;l&&b();function b(){const v=pc(e);y&&!xA(y,v)&&r(),y=v,w=requestAnimationFrame(b)}return r(),()=>{var v;d.forEach(S=>{s&&S.removeEventListener("scroll",r),i&&S.removeEventListener("resize",r)}),h==null||h(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(w)}}const tF=EM,rF=jM,nF=_M,sF=CM,iF=SM,dS=bM,oF=AM,aF=(e,t,r)=>{const n=new Map,s={platform:XM,...r},i={...s.platform,_c:n};return xM(e,t,{...s,platform:i})};var lF=typeof document<"u",cF=function(){},Gm=lF?x.useLayoutEffect:cF;function zg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!zg(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!zg(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function bA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fS(e,t){const r=bA(e);return Math.round(t*r)/r}function Iv(e){const t=x.useRef(e);return Gm(()=>{t.current=e}),t}function uF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,h]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,f]=x.useState(n);zg(m,n)||f(n);const[w,y]=x.useState(null),[b,v]=x.useState(null),S=x.useCallback(M=>{M!==F.current&&(F.current=M,y(M))},[]),_=x.useCallback(M=>{M!==D.current&&(D.current=M,v(M))},[]),E=i||w,T=o||b,F=x.useRef(null),D=x.useRef(null),U=x.useRef(d),B=l!=null,K=Iv(l),L=Iv(s),k=Iv(u),W=x.useCallback(()=>{if(!F.current||!D.current)return;const M={placement:t,strategy:r,middleware:m};L.current&&(M.platform=L.current),aF(F.current,D.current,M).then(H=>{const ae={...H,isPositioned:k.current!==!1};P.current&&!zg(U.current,ae)&&(U.current=ae,Nc.flushSync(()=>{h(ae)}))})},[m,t,r,L,k]);Gm(()=>{u===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,h(M=>({...M,isPositioned:!1})))},[u]);const P=x.useRef(!1);Gm(()=>(P.current=!0,()=>{P.current=!1}),[]),Gm(()=>{if(E&&(F.current=E),T&&(D.current=T),E&&T){if(K.current)return K.current(E,T,W);W()}},[E,T,W,K,B]);const Z=x.useMemo(()=>({reference:F,floating:D,setReference:S,setFloating:_}),[S,_]),ne=x.useMemo(()=>({reference:E,floating:T}),[E,T]),ie=x.useMemo(()=>{const M={position:r,left:0,top:0};if(!ne.floating)return M;const H=fS(ne.floating,d.x),ae=fS(ne.floating,d.y);return a?{...M,transform:"translate("+H+"px, "+ae+"px)",...bA(ne.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:ae}},[r,a,ne.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:W,refs:Z,elements:ne,floatingStyles:ie}),[d,W,Z,ne,ie])}const dF=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?dS({element:n.current,padding:s}).fn(r):{}:n?dS({element:n,padding:s}).fn(r):{}}}},fF=(e,t)=>({...tF(e),options:[e,t]}),hF=(e,t)=>({...rF(e),options:[e,t]}),pF=(e,t)=>({...oF(e),options:[e,t]}),mF=(e,t)=>({...nF(e),options:[e,t]}),gF=(e,t)=>({...sF(e),options:[e,t]}),yF=(e,t)=>({...iF(e),options:[e,t]}),vF=(e,t)=>({...dF(e),options:[e,t]});var wF="Arrow",_A=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return c.jsx(Ct.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});_A.displayName=wF;var xF=_A;function bF(e){const[t,r]=x.useState(void 0);return An(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=e.offsetWidth,a=e.offsetHeight;r({width:o,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Wx="Popper",[SA,cl]=Oi(Wx),[_F,NA]=SA(Wx),EA=e=>{const{__scopePopper:t,children:r}=e,[n,s]=x.useState(null);return c.jsx(_F,{scope:t,anchor:n,onAnchorChange:s,children:r})};EA.displayName=Wx;var jA="PopperAnchor",AA=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=NA(jA,r),o=x.useRef(null),a=$t(t,o),l=x.useRef(null);return x.useEffect(()=>{const u=l.current;l.current=(n==null?void 0:n.current)||o.current,u!==l.current&&i.onAnchorChange(l.current)}),n?null:c.jsx(Ct.div,{...s,ref:a})});AA.displayName=jA;var Hx="PopperContent",[SF,NF]=SA(Hx),CA=x.forwardRef((e,t)=>{var Q,ce,ue,me,ve,be;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:f="optimized",onPlaced:w,...y}=e,b=NA(Hx,r),[v,S]=x.useState(null),_=$t(t,Ne=>S(Ne)),[E,T]=x.useState(null),F=bF(E),D=(F==null?void 0:F.width)??0,U=(F==null?void 0:F.height)??0,B=n+(i!=="center"?"-"+i:""),K=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],k=L.length>0,W={padding:K,boundary:L.filter(jF),altBoundary:k},{refs:P,floatingStyles:Z,placement:ne,isPositioned:ie,middlewareData:M}=uF({strategy:"fixed",placement:B,whileElementsMounted:(...Ne)=>eF(...Ne,{animationFrame:f==="always"}),elements:{reference:b.anchor},middleware:[fF({mainAxis:s+U,alignmentAxis:o}),l&&hF({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?pF():void 0,...W}),l&&mF({...W}),gF({...W,apply:({elements:Ne,rects:Ue,availableWidth:R,availableHeight:Te})=>{const{width:He,height:oe}=Ue.reference,X=Ne.floating.style;X.setProperty("--radix-popper-available-width",`${R}px`),X.setProperty("--radix-popper-available-height",`${Te}px`),X.setProperty("--radix-popper-anchor-width",`${He}px`),X.setProperty("--radix-popper-anchor-height",`${oe}px`)}}),E&&vF({element:E,padding:a}),AF({arrowWidth:D,arrowHeight:U}),m&&yF({strategy:"referenceHidden",...W})]}),[H,ae]=TA(ne),de=ms(w);An(()=>{ie&&(de==null||de())},[ie,de]);const C=(Q=M.arrow)==null?void 0:Q.x,q=(ce=M.arrow)==null?void 0:ce.y,V=((ue=M.arrow)==null?void 0:ue.centerOffset)!==0,[Y,se]=x.useState();return An(()=>{v&&se(window.getComputedStyle(v).zIndex)},[v]),c.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:ie?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[(me=M.transformOrigin)==null?void 0:me.x,(ve=M.transformOrigin)==null?void 0:ve.y].join(" "),...((be=M.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(SF,{scope:r,placedSide:H,onArrowChange:T,arrowX:C,arrowY:q,shouldHideArrow:V,children:c.jsx(Ct.div,{"data-side":H,"data-align":ae,...y,ref:_,style:{...y.style,animation:ie?void 0:"none"}})})})});CA.displayName=Hx;var kA="PopperArrow",EF={top:"bottom",right:"left",bottom:"top",left:"right"},PA=x.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=NF(kA,n),o=EF[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(xF,{...s,ref:r,style:{...s.style,display:"block"}})})});PA.displayName=kA;function jF(e){return e!==null}var AF=e=>({name:"transformOrigin",options:e,fn(t){var b,v,S;const{placement:r,rects:n,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,d]=TA(r),h={start:"0%",center:"50%",end:"100%"}[d],m=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,f=(((S=s.arrow)==null?void 0:S.y)??0)+l/2;let w="",y="";return u==="bottom"?(w=o?h:`${m}px`,y=`${-l}px`):u==="top"?(w=o?h:`${m}px`,y=`${n.floating.height+l}px`):u==="right"?(w=`${-l}px`,y=o?h:`${f}px`):u==="left"&&(w=`${n.floating.width+l}px`,y=o?h:`${f}px`),{data:{x:w,y}}}});function TA(e){const[t,r="center"]=e.split("-");return[t,r]}var Gx=EA,Dh=AA,F0=CA,B0=PA,CF=Symbol("radix.slottable");function kF(e){const t=({children:r})=>c.jsx(c.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=CF,t}var[$0]=Oi("Tooltip",[cl]),Kx=cl(),RA="TooltipProvider",PF=700,hS="tooltip.open",[TF,LA]=$0(RA),OA=e=>{const{__scopeTooltip:t,delayDuration:r=PF,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,o=x.useRef(!0),a=x.useRef(!1),l=x.useRef(0);return x.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(TF,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:x.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};OA.displayName=RA;var IA="Tooltip",[jX,U0]=$0(IA),P2="TooltipTrigger",RF=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=U0(P2,r),i=LA(P2,r),o=Kx(r),a=x.useRef(null),l=$t(t,a,s.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),h=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),c.jsx(Dh,{asChild:!0,...o,children:c.jsx(Ct.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:We(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:We(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:We(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:We(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:We(e.onBlur,s.onClose),onClick:We(e.onClick,s.onClose)})})});RF.displayName=P2;var LF="TooltipPortal",[AX,OF]=$0(LF,{forceMount:void 0}),cd="TooltipContent",DA=x.forwardRef((e,t)=>{const r=OF(cd,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=U0(cd,e.__scopeTooltip);return c.jsx(ni,{present:n||o.open,children:o.disableHoverableContent?c.jsx(MA,{side:s,...i,ref:t}):c.jsx(IF,{side:s,...i,ref:t})})}),IF=x.forwardRef((e,t)=>{const r=U0(cd,e.__scopeTooltip),n=LA(cd,e.__scopeTooltip),s=x.useRef(null),i=$t(t,s),[o,a]=x.useState(null),{trigger:l,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,m=x.useCallback(()=>{a(null),h(!1)},[h]),f=x.useCallback((w,y)=>{const b=w.currentTarget,v={x:w.clientX,y:w.clientY},S=$F(v,b.getBoundingClientRect()),_=UF(v,S),E=qF(y.getBoundingClientRect()),T=VF([..._,...E]);a(T),h(!0)},[h]);return x.useEffect(()=>()=>m(),[m]),x.useEffect(()=>{if(l&&d){const w=b=>f(b,d),y=b=>f(b,l);return l.addEventListener("pointerleave",w),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",y)}}},[l,d,f,m]),x.useEffect(()=>{if(o){const w=y=>{const b=y.target,v={x:y.clientX,y:y.clientY},S=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),_=!zF(v,o);S?m():_&&(m(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,d,o,u,m]),c.jsx(MA,{...e,ref:i})}),[DF,MF]=$0(IA,{isInside:!1}),FF=kF("TooltipContent"),MA=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,l=U0(cd,r),u=Kx(r),{onClose:d}=l;return x.useEffect(()=>(document.addEventListener(hS,d),()=>document.removeEventListener(hS,d)),[d]),x.useEffect(()=>{if(l.trigger){const h=m=>{const f=m.target;f!=null&&f.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),c.jsx(Ec,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:c.jsxs(F0,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(FF,{children:n}),c.jsx(DF,{scope:r,isInside:!0,children:c.jsx(a7,{id:l.contentId,role:"tooltip",children:s||n})})]})})});DA.displayName=cd;var FA="TooltipArrow",BF=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Kx(r);return MF(FA,r).isInside?null:c.jsx(B0,{...s,...n,ref:t})});BF.displayName=FA;function $F(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function UF(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function qF(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function zF(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],l=t[o],u=a.x,d=a.y,h=l.x,m=l.y;d>n!=m>n&&r<(h-u)*(n-d)/(m-d)+u&&(s=!s)}return s}function VF(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),WF(t)}function WF(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var HF=OA,BA=DA;const GF=HF,KF=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>c.jsx(BA,{ref:n,sideOffset:t,className:Qe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));KF.displayName=BA.displayName;var q0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},JF={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ia,Iw,J4,YF=(J4=class{constructor(){Bt(this,Ia,JF);Bt(this,Iw,!1)}setTimeoutProvider(e){_t(this,Ia,e)}setTimeout(e,t){return Ce(this,Ia).setTimeout(e,t)}clearTimeout(e){Ce(this,Ia).clearTimeout(e)}setInterval(e,t){return Ce(this,Ia).setInterval(e,t)}clearInterval(e){Ce(this,Ia).clearInterval(e)}},Ia=new WeakMap,Iw=new WeakMap,J4),T2=new YF;function QF(e){setTimeout(e,0)}var z0=typeof window>"u"||"Deno"in globalThis;function vi(){}function XF(e,t){return typeof e=="function"?e(t):e}function ZF(e){return typeof e=="number"&&e>=0&&e!==1/0}function eB(e,t){return Math.max(e+(t||0)-Date.now(),0)}function R2(e,t){return typeof e=="function"?e(t):e}function tB(e,t){return typeof e=="function"?e(t):e}function pS(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(n){if(t.queryHash!==Jx(o,t.options))return!1}else if(!dh(t.queryKey,o))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function mS(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(uh(t.options.mutationKey)!==uh(i))return!1}else if(!dh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Jx(e,t){return((t==null?void 0:t.queryKeyHashFn)||uh)(e)}function uh(e){return JSON.stringify(e,(t,r)=>L2(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function dh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>dh(e[r],t[r])):!1}var rB=Object.prototype.hasOwnProperty;function $A(e,t){if(e===t)return e;const r=gS(e)&&gS(t);if(!r&&!(L2(e)&&L2(t)))return t;const s=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,a=r?new Array(o):{};let l=0;for(let u=0;u<o;u++){const d=r?u:i[u],h=e[d],m=t[d];if(h===m){a[d]=h,(r?u<s:rB.call(e,d))&&l++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){a[d]=m;continue}const f=$A(h,m);a[d]=f,f===h&&l++}return s===o&&l===s?e:a}function gS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function L2(e){if(!yS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!yS(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function yS(e){return Object.prototype.toString.call(e)==="[object Object]"}function nB(e){return new Promise(t=>{T2.setTimeout(t,e)})}function sB(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?$A(e,t):t}function iB(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function oB(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Yx=Symbol();function UA(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Yx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Yl,Da,Vu,Y4,aB=(Y4=class extends q0{constructor(){super();Bt(this,Yl);Bt(this,Da);Bt(this,Vu);_t(this,Vu,t=>{if(!z0&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Ce(this,Da)||this.setEventListener(Ce(this,Vu))}onUnsubscribe(){var t;this.hasListeners()||((t=Ce(this,Da))==null||t.call(this),_t(this,Da,void 0))}setEventListener(t){var r;_t(this,Vu,t),(r=Ce(this,Da))==null||r.call(this),_t(this,Da,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Ce(this,Yl)!==t&&(_t(this,Yl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Ce(this,Yl)=="boolean"?Ce(this,Yl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Yl=new WeakMap,Da=new WeakMap,Vu=new WeakMap,Y4),qA=new aB;function lB(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var cB=QF;function uB(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=cB;const i=a=>{t?e.push(a):s(()=>{r(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var Kn=uB(),Wu,Ma,Hu,Q4,dB=(Q4=class extends q0{constructor(){super();Bt(this,Wu,!0);Bt(this,Ma);Bt(this,Hu);_t(this,Hu,t=>{if(!z0&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Ce(this,Ma)||this.setEventListener(Ce(this,Hu))}onUnsubscribe(){var t;this.hasListeners()||((t=Ce(this,Ma))==null||t.call(this),_t(this,Ma,void 0))}setEventListener(t){var r;_t(this,Hu,t),(r=Ce(this,Ma))==null||r.call(this),_t(this,Ma,t(this.setOnline.bind(this)))}setOnline(t){Ce(this,Wu)!==t&&(_t(this,Wu,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Ce(this,Wu)}},Wu=new WeakMap,Ma=new WeakMap,Hu=new WeakMap,Q4),Vg=new dB;function fB(e){return Math.min(1e3*2**e,3e4)}function zA(e){return(e??"online")==="online"?Vg.isOnline():!0}var O2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function VA(e){let t=!1,r=0,n;const s=lB(),i=()=>s.status!=="pending",o=y=>{var b;if(!i()){const v=new O2(y);m(v),(b=e.onCancel)==null||b.call(e,v)}},a=()=>{t=!0},l=()=>{t=!1},u=()=>qA.isFocused()&&(e.networkMode==="always"||Vg.isOnline())&&e.canRun(),d=()=>zA(e.networkMode)&&e.canRun(),h=y=>{i()||(n==null||n(),s.resolve(y))},m=y=>{i()||(n==null||n(),s.reject(y))},f=()=>new Promise(y=>{var b;n=v=>{(i()||u())&&y(v)},(b=e.onPause)==null||b.call(e)}).then(()=>{var y;n=void 0,i()||(y=e.onContinue)==null||y.call(e)}),w=()=>{if(i())return;let y;const b=r===0?e.initialPromise:void 0;try{y=b??e.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(h).catch(v=>{var F;if(i())return;const S=e.retry??(z0?0:3),_=e.retryDelay??fB,E=typeof _=="function"?_(r,v):_,T=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,v);if(t||!T){m(v);return}r++,(F=e.onFail)==null||F.call(e,r,v),nB(E).then(()=>u()?void 0:f()).then(()=>{t?m(v):w()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?w():f().then(w),s)}}var Ql,X4,WA=(X4=class{constructor(){Bt(this,Ql)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ZF(this.gcTime)&&_t(this,Ql,T2.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(z0?1/0:5*60*1e3))}clearGcTimeout(){Ce(this,Ql)&&(T2.clearTimeout(Ce(this,Ql)),_t(this,Ql,void 0))}},Ql=new WeakMap,X4),Xl,Gu,Gs,Zl,ln,Nh,ec,xi,Mo,Z4,hB=(Z4=class extends WA{constructor(t){super();Bt(this,xi);Bt(this,Xl);Bt(this,Gu);Bt(this,Gs);Bt(this,Zl);Bt(this,ln);Bt(this,Nh);Bt(this,ec);_t(this,ec,!1),_t(this,Nh,t.defaultOptions),this.setOptions(t.options),this.observers=[],_t(this,Zl,t.client),_t(this,Gs,Ce(this,Zl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,_t(this,Xl,wS(this.options)),this.state=t.state??Ce(this,Xl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Ce(this,ln))==null?void 0:t.promise}setOptions(t){if(this.options={...Ce(this,Nh),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=wS(this.options);r.data!==void 0&&(this.setState(vS(r.data,r.dataUpdatedAt)),_t(this,Xl,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ce(this,Gs).remove(this)}setData(t,r){const n=sB(this.state.data,t,this.options);return kn(this,xi,Mo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){kn(this,xi,Mo).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=Ce(this,ln))==null?void 0:n.promise;return(s=Ce(this,ln))==null||s.cancel(t),r?r.then(vi).catch(vi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ce(this,Xl))}isActive(){return this.observers.some(t=>tB(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Yx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>R2(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!eB(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Ce(this,ln))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Ce(this,ln))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ce(this,Gs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Ce(this,ln)&&(Ce(this,ec)?Ce(this,ln).cancel({revert:!0}):Ce(this,ln).cancelRetry()),this.scheduleGc()),Ce(this,Gs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||kn(this,xi,Mo).call(this,{type:"invalidate"})}async fetch(t,r){var l,u,d,h,m,f,w,y,b,v,S,_;if(this.state.fetchStatus!=="idle"&&((l=Ce(this,ln))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Ce(this,ln))return Ce(this,ln).continueRetry(),Ce(this,ln).promise}if(t&&this.setOptions(t),!this.options.queryFn){const E=this.observers.find(T=>T.options.queryFn);E&&this.setOptions(E.options)}const n=new AbortController,s=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(_t(this,ec,!0),n.signal)})},i=()=>{const E=UA(this.options,r),F=(()=>{const D={client:Ce(this,Zl),queryKey:this.queryKey,meta:this.meta};return s(D),D})();return _t(this,ec,!1),this.options.persister?this.options.persister(E,F,this):E(F)},a=(()=>{const E={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Ce(this,Zl),state:this.state,fetchFn:i};return s(E),E})();(u=this.options.behavior)==null||u.onFetch(a,this),_t(this,Gu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&kn(this,xi,Mo).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),_t(this,ln,VA({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:E=>{E instanceof O2&&E.revert&&this.setState({...Ce(this,Gu),fetchStatus:"idle"}),n.abort()},onFail:(E,T)=>{kn(this,xi,Mo).call(this,{type:"failed",failureCount:E,error:T})},onPause:()=>{kn(this,xi,Mo).call(this,{type:"pause"})},onContinue:()=>{kn(this,xi,Mo).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const E=await Ce(this,ln).start();if(E===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(E),(f=(m=Ce(this,Gs).config).onSuccess)==null||f.call(m,E,this),(y=(w=Ce(this,Gs).config).onSettled)==null||y.call(w,E,this.state.error,this),E}catch(E){if(E instanceof O2){if(E.silent)return Ce(this,ln).promise;if(E.revert){if(this.state.data===void 0)throw E;return this.state.data}}throw kn(this,xi,Mo).call(this,{type:"error",error:E}),(v=(b=Ce(this,Gs).config).onError)==null||v.call(b,E,this),(_=(S=Ce(this,Gs).config).onSettled)==null||_.call(S,this.state.data,E,this),E}finally{this.scheduleGc()}}},Xl=new WeakMap,Gu=new WeakMap,Gs=new WeakMap,Zl=new WeakMap,ln=new WeakMap,Nh=new WeakMap,ec=new WeakMap,xi=new WeakSet,Mo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...pB(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...vS(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return _t(this,Gu,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Kn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Ce(this,Gs).notify({query:this,type:"updated",action:t})})},Z4);function pB(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zA(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function vS(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function wS(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function xS(e){return{onFetch:(t,r)=>{var d,h,m,f,w;const n=t.options,s=(m=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const b=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},v=UA(t.options,t.fetchOptions),S=async(_,E,T)=>{if(y)return Promise.reject();if(E==null&&_.pages.length)return Promise.resolve(_);const D=(()=>{const L={client:t.client,queryKey:t.queryKey,pageParam:E,direction:T?"backward":"forward",meta:t.options.meta};return b(L),L})(),U=await v(D),{maxPages:B}=t.options,K=T?oB:iB;return{pages:K(_.pages,U,B),pageParams:K(_.pageParams,E,B)}};if(s&&i.length){const _=s==="backward",E=_?mB:bS,T={pages:i,pageParams:o},F=E(n,T);a=await S(T,F,_)}else{const _=e??i.length;do{const E=l===0?o[0]??n.initialPageParam:bS(n,a);if(l>0&&E==null)break;a=await S(a,E),l++}while(l<_)}return a};t.options.persister?t.fetchFn=()=>{var y,b;return(b=(y=t.options).persister)==null?void 0:b.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function bS(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function mB(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Eh,Zi,Wn,tc,eo,Na,eE,gB=(eE=class extends WA{constructor(t){super();Bt(this,eo);Bt(this,Eh);Bt(this,Zi);Bt(this,Wn);Bt(this,tc);_t(this,Eh,t.client),this.mutationId=t.mutationId,_t(this,Wn,t.mutationCache),_t(this,Zi,[]),this.state=t.state||yB(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ce(this,Zi).includes(t)||(Ce(this,Zi).push(t),this.clearGcTimeout(),Ce(this,Wn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){_t(this,Zi,Ce(this,Zi).filter(r=>r!==t)),this.scheduleGc(),Ce(this,Wn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ce(this,Zi).length||(this.state.status==="pending"?this.scheduleGc():Ce(this,Wn).remove(this))}continue(){var t;return((t=Ce(this,tc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,u,d,h,m,f,w,y,b,v,S,_,E,T,F,D,U,B;const r=()=>{kn(this,eo,Na).call(this,{type:"continue"})},n={client:Ce(this,Eh),meta:this.options.meta,mutationKey:this.options.mutationKey};_t(this,tc,VA({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(K,L)=>{kn(this,eo,Na).call(this,{type:"failed",failureCount:K,error:L})},onPause:()=>{kn(this,eo,Na).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ce(this,Wn).canRun(this)}));const s=this.state.status==="pending",i=!Ce(this,tc).canStart();try{if(s)r();else{kn(this,eo,Na).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=Ce(this,Wn).config).onMutate)==null?void 0:a.call(o,t,this,n));const L=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,n));L!==this.state.context&&kn(this,eo,Na).call(this,{type:"pending",context:L,variables:t,isPaused:i})}const K=await Ce(this,tc).start();return await((h=(d=Ce(this,Wn).config).onSuccess)==null?void 0:h.call(d,K,t,this.state.context,this,n)),await((f=(m=this.options).onSuccess)==null?void 0:f.call(m,K,t,this.state.context,n)),await((y=(w=Ce(this,Wn).config).onSettled)==null?void 0:y.call(w,K,null,this.state.variables,this.state.context,this,n)),await((v=(b=this.options).onSettled)==null?void 0:v.call(b,K,null,t,this.state.context,n)),kn(this,eo,Na).call(this,{type:"success",data:K}),K}catch(K){try{throw await((_=(S=Ce(this,Wn).config).onError)==null?void 0:_.call(S,K,t,this.state.context,this,n)),await((T=(E=this.options).onError)==null?void 0:T.call(E,K,t,this.state.context,n)),await((D=(F=Ce(this,Wn).config).onSettled)==null?void 0:D.call(F,void 0,K,this.state.variables,this.state.context,this,n)),await((B=(U=this.options).onSettled)==null?void 0:B.call(U,void 0,K,t,this.state.context,n)),K}finally{kn(this,eo,Na).call(this,{type:"error",error:K})}}finally{Ce(this,Wn).runNext(this)}}},Eh=new WeakMap,Zi=new WeakMap,Wn=new WeakMap,tc=new WeakMap,eo=new WeakSet,Na=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Kn.batch(()=>{Ce(this,Zi).forEach(n=>{n.onMutationUpdate(t)}),Ce(this,Wn).notify({mutation:this,type:"updated",action:t})})},eE);function yB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Uo,bi,jh,tE,vB=(tE=class extends q0{constructor(t={}){super();Bt(this,Uo);Bt(this,bi);Bt(this,jh);this.config=t,_t(this,Uo,new Set),_t(this,bi,new Map),_t(this,jh,0)}build(t,r,n){const s=new gB({client:t,mutationCache:this,mutationId:++Fp(this,jh)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){Ce(this,Uo).add(t);const r=om(t);if(typeof r=="string"){const n=Ce(this,bi).get(r);n?n.push(t):Ce(this,bi).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Ce(this,Uo).delete(t)){const r=om(t);if(typeof r=="string"){const n=Ce(this,bi).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&Ce(this,bi).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=om(t);if(typeof r=="string"){const n=Ce(this,bi).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=om(t);if(typeof r=="string"){const s=(n=Ce(this,bi).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Kn.batch(()=>{Ce(this,Uo).forEach(t=>{this.notify({type:"removed",mutation:t})}),Ce(this,Uo).clear(),Ce(this,bi).clear()})}getAll(){return Array.from(Ce(this,Uo))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>mS(r,n))}findAll(t={}){return this.getAll().filter(r=>mS(t,r))}notify(t){Kn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Kn.batch(()=>Promise.all(t.map(r=>r.continue().catch(vi))))}},Uo=new WeakMap,bi=new WeakMap,jh=new WeakMap,tE);function om(e){var t;return(t=e.options.scope)==null?void 0:t.id}var to,rE,wB=(rE=class extends q0{constructor(t={}){super();Bt(this,to);this.config=t,_t(this,to,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??Jx(s,r);let o=this.get(i);return o||(o=new hB({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){Ce(this,to).has(t.queryHash)||(Ce(this,to).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Ce(this,to).get(t.queryHash);r&&(t.destroy(),r===t&&Ce(this,to).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Kn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ce(this,to).get(t)}getAll(){return[...Ce(this,to).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>pS(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>pS(t,n)):r}notify(t){Kn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Kn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Kn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},to=new WeakMap,rE),Ar,Fa,Ba,Ku,Ju,$a,Yu,Qu,nE,xB=(nE=class{constructor(e={}){Bt(this,Ar);Bt(this,Fa);Bt(this,Ba);Bt(this,Ku);Bt(this,Ju);Bt(this,$a);Bt(this,Yu);Bt(this,Qu);_t(this,Ar,e.queryCache||new wB),_t(this,Fa,e.mutationCache||new vB),_t(this,Ba,e.defaultOptions||{}),_t(this,Ku,new Map),_t(this,Ju,new Map),_t(this,$a,0)}mount(){Fp(this,$a)._++,Ce(this,$a)===1&&(_t(this,Yu,qA.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ce(this,Ar).onFocus())})),_t(this,Qu,Vg.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ce(this,Ar).onOnline())})))}unmount(){var e,t;Fp(this,$a)._--,Ce(this,$a)===0&&((e=Ce(this,Yu))==null||e.call(this),_t(this,Yu,void 0),(t=Ce(this,Qu))==null||t.call(this),_t(this,Qu,void 0))}isFetching(e){return Ce(this,Ar).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ce(this,Fa).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ce(this,Ar).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Ce(this,Ar).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(R2(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Ce(this,Ar).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=Ce(this,Ar).get(n.queryHash),i=s==null?void 0:s.state.data,o=XF(t,i);if(o!==void 0)return Ce(this,Ar).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Kn.batch(()=>Ce(this,Ar).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ce(this,Ar).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Ce(this,Ar);Kn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Ce(this,Ar);return Kn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Kn.batch(()=>Ce(this,Ar).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(vi).catch(vi)}invalidateQueries(e,t={}){return Kn.batch(()=>(Ce(this,Ar).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Kn.batch(()=>Ce(this,Ar).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(vi)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(vi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Ce(this,Ar).build(this,t);return r.isStaleByTime(R2(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(vi).catch(vi)}fetchInfiniteQuery(e){return e.behavior=xS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(vi).catch(vi)}ensureInfiniteQueryData(e){return e.behavior=xS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Vg.isOnline()?Ce(this,Fa).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ce(this,Ar)}getMutationCache(){return Ce(this,Fa)}getDefaultOptions(){return Ce(this,Ba)}setDefaultOptions(e){_t(this,Ba,e)}setQueryDefaults(e,t){Ce(this,Ku).set(uh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ce(this,Ku).values()],r={};return t.forEach(n=>{dh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Ce(this,Ju).set(uh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ce(this,Ju).values()],r={};return t.forEach(n=>{dh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ce(this,Ba).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Jx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Yx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Ce(this,Ba).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ce(this,Ar).clear(),Ce(this,Fa).clear()}},Ar=new WeakMap,Fa=new WeakMap,Ba=new WeakMap,Ku=new WeakMap,Ju=new WeakMap,$a=new WeakMap,Yu=new WeakMap,Qu=new WeakMap,nE),bB=x.createContext(void 0),_B=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(bB.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fh.apply(this,arguments)}var za;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(za||(za={}));const _S="popstate";function SB(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return I2("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:HA(s)}return EB(t,r,null,e)}function sn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function NB(){return Math.random().toString(36).substr(2,8)}function SS(e,t){return{usr:e.state,key:e.key,idx:t}}function I2(e,t,r,n){return r===void 0&&(r=null),fh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ed(t):t,{state:r,key:t&&t.key||n||NB()})}function HA(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ed(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function EB(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=za.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(fh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=za.Pop;let b=d(),v=b==null?null:b-u;u=b,l&&l({action:a,location:y.location,delta:v})}function m(b,v){a=za.Push;let S=I2(y.location,b,v);u=d()+1;let _=SS(S,u),E=y.createHref(S);try{o.pushState(_,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(E)}i&&l&&l({action:a,location:y.location,delta:1})}function f(b,v){a=za.Replace;let S=I2(y.location,b,v);u=d();let _=SS(S,u),E=y.createHref(S);o.replaceState(_,"",E),i&&l&&l({action:a,location:y.location,delta:0})}function w(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof b=="string"?b:HA(b);return S=S.replace(/ $/,"%20"),sn(v,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,v)}let y={get action(){return a},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(_S,h),l=b,()=>{s.removeEventListener(_S,h),l=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let v=w(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:f,go(b){return o.go(b)}};return y}var NS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(NS||(NS={}));function jB(e,t,r){return r===void 0&&(r="/"),AB(e,t,r)}function AB(e,t,r,n){let s=typeof t=="string"?Ed(t):t,i=JA(s.pathname||"/",r);if(i==null)return null;let o=GA(e);CB(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=$B(i);a=MB(o[l],u)}return a}function GA(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(sn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=sc([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(sn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),GA(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:IB(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of KA(i.path))s(i,o,l)}),t}function KA(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=KA(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function CB(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:DB(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const kB=/^:[\w-]+$/,PB=3,TB=2,RB=1,LB=10,OB=-2,ES=e=>e==="*";function IB(e,t){let r=e.split("/"),n=r.length;return r.some(ES)&&(n+=OB),t&&(n+=TB),r.filter(s=>!ES(s)).reduce((s,i)=>s+(kB.test(i)?PB:i===""?RB:LB),n)}function DB(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function MB(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=FB({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),m=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:sc([i,h.pathname]),pathnameBase:GB(sc([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=sc([i,h.pathnameBase]))}return o}function FB(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=BB(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:m,isOptional:f}=d;if(m==="*"){let y=a[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[h];return f&&!w?u[m]=void 0:u[m]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function BB(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Qx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function $B(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function JA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const UB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qB=e=>UB.test(e);function zB(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ed(e):e,i;if(r)if(qB(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Qx(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=jS(r.substring(1),"/"):i=jS(r,t)}else i=t;return{pathname:i,search:KB(n),hash:JB(s)}}function jS(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Dv(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VB(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function WB(e,t){let r=VB(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function HB(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ed(e):(s=fh({},e),sn(!s.pathname||!s.pathname.includes("?"),Dv("?","pathname","search",s)),sn(!s.pathname||!s.pathname.includes("#"),Dv("#","pathname","hash",s)),sn(!s.search||!s.search.includes("#"),Dv("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}a=h>=0?t[h]:"/"}let l=zB(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const sc=e=>e.join("/").replace(/\/\/+/g,"/"),GB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),KB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,JB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function YB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const YA=["post","put","patch","delete"];new Set(YA);const QB=["get",...YA];new Set(QB);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hh.apply(this,arguments)}const Xx=x.createContext(null),XB=x.createContext(null),V0=x.createContext(null),W0=x.createContext(null),jd=x.createContext({outlet:null,matches:[],isDataRoute:!1}),QA=x.createContext(null);function H0(){return x.useContext(W0)!=null}function Zx(){return H0()||sn(!1),x.useContext(W0).location}function XA(e){x.useContext(V0).static||x.useLayoutEffect(e)}function ZB(){let{isDataRoute:e}=x.useContext(jd);return e?f9():e9()}function e9(){H0()||sn(!1);let e=x.useContext(Xx),{basename:t,future:r,navigator:n}=x.useContext(V0),{matches:s}=x.useContext(jd),{pathname:i}=Zx(),o=JSON.stringify(WB(s,r.v7_relativeSplatPath)),a=x.useRef(!1);return XA(()=>{a.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=HB(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:sc([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}function t9(e,t){return r9(e,t)}function r9(e,t,r,n){H0()||sn(!1);let{navigator:s}=x.useContext(V0),{matches:i}=x.useContext(jd),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Zx(),d;if(t){var h;let b=typeof t=="string"?Ed(t):t;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||sn(!1),d=b}else d=u;let m=d.pathname||"/",f=m;if(l!=="/"){let b=l.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=jB(e,{pathname:f}),y=a9(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:sc([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:sc([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&y?x.createElement(W0.Provider,{value:{location:hh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:za.Pop}},y):y}function n9(){let e=d9(),t=YB(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const s9=x.createElement(n9,null);class i9 extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(jd.Provider,{value:this.props.routeContext},x.createElement(QA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function o9(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(Xx);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(jd.Provider,{value:t},n)}function a9(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||sn(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:f}=r,w=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||w){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let f,w=!1,y=null,b=null;r&&(f=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||s9,l&&(u<0&&m===0?(h9("route-fallback"),w=!0,b=null):u===m&&(w=!0,b=h.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,m+1)),S=()=>{let _;return f?_=y:w?_=b:h.route.Component?_=x.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,x.createElement(o9,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:_})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?x.createElement(i9,{location:r.location,revalidation:r.revalidation,component:y,error:f,children:S(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):S()},null)}var ZA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ZA||{}),eC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(eC||{});function l9(e){let t=x.useContext(Xx);return t||sn(!1),t}function c9(e){let t=x.useContext(XB);return t||sn(!1),t}function u9(e){let t=x.useContext(jd);return t||sn(!1),t}function tC(e){let t=u9(),r=t.matches[t.matches.length-1];return r.route.id||sn(!1),r.route.id}function d9(){var e;let t=x.useContext(QA),r=c9(),n=tC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function f9(){let{router:e}=l9(ZA.UseNavigateStable),t=tC(eC.UseNavigateStable),r=x.useRef(!1);return XA(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,hh({fromRouteId:t},i)))},[e,t])}const AS={};function h9(e,t,r){AS[e]||(AS[e]=!0)}function p9(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function D2(e){sn(!1)}function m9(e){let{basename:t="/",children:r=null,location:n,navigationType:s=za.Pop,navigator:i,static:o=!1,future:a}=e;H0()&&sn(!1);let l=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:i,static:o,future:hh({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=Ed(n));let{pathname:d="/",search:h="",hash:m="",state:f=null,key:w="default"}=n,y=x.useMemo(()=>{let b=JA(d,l);return b==null?null:{location:{pathname:b,search:h,hash:m,state:f,key:w},navigationType:s}},[l,d,h,m,f,w,s]);return y==null?null:x.createElement(V0.Provider,{value:u},x.createElement(W0.Provider,{children:r,value:y}))}function g9(e){let{children:t,location:r}=e;return t9(M2(t),r)}new Promise(()=>{});function M2(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,M2(n.props.children,i));return}n.type!==D2&&sn(!1),!n.props.index||!n.props.children||sn(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=M2(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const y9="6";try{window.__reactRouterVersion=y9}catch{}const v9="startTransition",CS=p0[v9];function w9(e){let{basename:t,children:r,future:n,window:s}=e,i=x.useRef();i.current==null&&(i.current=SB({window:s,v5Compat:!0}));let o=i.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(h=>{u&&CS?CS(()=>l(h)):l(h)},[l,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>p9(n),[n]),x.createElement(m9,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var kS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kS||(kS={}));var PS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(PS||(PS={}));function rC(e,t){return function(){return e.apply(t,arguments)}}const{toString:x9}=Object.prototype,{getPrototypeOf:eb}=Object,{iterator:G0,toStringTag:nC}=Symbol,K0=(e=>t=>{const r=x9.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ii=e=>(e=e.toLowerCase(),t=>K0(t)===e),J0=e=>t=>typeof t===e,{isArray:Ad}=Array,ud=J0("undefined");function Mh(e){return e!==null&&!ud(e)&&e.constructor!==null&&!ud(e.constructor)&&hs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const sC=Ii("ArrayBuffer");function b9(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&sC(e.buffer),t}const _9=J0("string"),hs=J0("function"),iC=J0("number"),Fh=e=>e!==null&&typeof e=="object",S9=e=>e===!0||e===!1,Km=e=>{if(K0(e)!=="object")return!1;const t=eb(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(nC in e)&&!(G0 in e)},N9=e=>{if(!Fh(e)||Mh(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},E9=Ii("Date"),j9=Ii("File"),A9=Ii("Blob"),C9=Ii("FileList"),k9=e=>Fh(e)&&hs(e.pipe),P9=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||hs(e.append)&&((t=K0(e))==="formdata"||t==="object"&&hs(e.toString)&&e.toString()==="[object FormData]"))},T9=Ii("URLSearchParams"),[R9,L9,O9,I9]=["ReadableStream","Request","Response","Headers"].map(Ii),D9=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bh(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Ad(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Mh(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(n=0;n<o;n++)a=i[n],t.call(null,e[a],a,e)}}function oC(e,t){if(Mh(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Kl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,aC=e=>!ud(e)&&e!==Kl;function F2(){const{caseless:e,skipUndefined:t}=aC(this)&&this||{},r={},n=(s,i)=>{const o=e&&oC(r,i)||i;Km(r[o])&&Km(s)?r[o]=F2(r[o],s):Km(s)?r[o]=F2({},s):Ad(s)?r[o]=s.slice():(!t||!ud(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Bh(arguments[s],n);return r}const M9=(e,t,r,{allOwnKeys:n}={})=>(Bh(t,(s,i)=>{r&&hs(s)?e[i]=rC(s,r):e[i]=s},{allOwnKeys:n}),e),F9=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),B9=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},$9=(e,t,r,n)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=r!==!1&&eb(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},U9=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},q9=e=>{if(!e)return null;if(Ad(e))return e;let t=e.length;if(!iC(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},z9=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&eb(Uint8Array)),V9=(e,t)=>{const n=(e&&e[G0]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},W9=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},H9=Ii("HTMLFormElement"),G9=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),TS=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),K9=Ii("RegExp"),lC=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Bh(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},J9=e=>{lC(e,(t,r)=>{if(hs(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(hs(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Y9=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Ad(e)?n(e):n(String(e).split(t)),r},Q9=()=>{},X9=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Z9(e){return!!(e&&hs(e.append)&&e[nC]==="FormData"&&e[G0])}const e$=e=>{const t=new Array(10),r=(n,s)=>{if(Fh(n)){if(t.indexOf(n)>=0)return;if(Mh(n))return n;if(!("toJSON"in n)){t[s]=n;const i=Ad(n)?[]:{};return Bh(n,(o,a)=>{const l=r(o,s+1);!ud(l)&&(i[a]=l)}),t[s]=void 0,i}}return n};return r(e,0)},t$=Ii("AsyncFunction"),r$=e=>e&&(Fh(e)||hs(e))&&hs(e.then)&&hs(e.catch),cC=((e,t)=>e?setImmediate:t?((r,n)=>(Kl.addEventListener("message",({source:s,data:i})=>{s===Kl&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Kl.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",hs(Kl.postMessage)),n$=typeof queueMicrotask<"u"?queueMicrotask.bind(Kl):typeof process<"u"&&process.nextTick||cC,s$=e=>e!=null&&hs(e[G0]),Se={isArray:Ad,isArrayBuffer:sC,isBuffer:Mh,isFormData:P9,isArrayBufferView:b9,isString:_9,isNumber:iC,isBoolean:S9,isObject:Fh,isPlainObject:Km,isEmptyObject:N9,isReadableStream:R9,isRequest:L9,isResponse:O9,isHeaders:I9,isUndefined:ud,isDate:E9,isFile:j9,isBlob:A9,isRegExp:K9,isFunction:hs,isStream:k9,isURLSearchParams:T9,isTypedArray:z9,isFileList:C9,forEach:Bh,merge:F2,extend:M9,trim:D9,stripBOM:F9,inherits:B9,toFlatObject:$9,kindOf:K0,kindOfTest:Ii,endsWith:U9,toArray:q9,forEachEntry:V9,matchAll:W9,isHTMLForm:H9,hasOwnProperty:TS,hasOwnProp:TS,reduceDescriptors:lC,freezeMethods:J9,toObjectSet:Y9,toCamelCase:G9,noop:Q9,toFiniteNumber:X9,findKey:oC,global:Kl,isContextDefined:aC,isSpecCompliantForm:Z9,toJSONObject:e$,isAsyncFn:t$,isThenable:r$,setImmediate:cC,asap:n$,isIterable:s$};function Rt(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Se.inherits(Rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Se.toJSONObject(this.config),code:this.code,status:this.status}}});const uC=Rt.prototype,dC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{dC[e]={value:e}});Object.defineProperties(Rt,dC);Object.defineProperty(uC,"isAxiosError",{value:!0});Rt.from=(e,t,r,n,s,i)=>{const o=Object.create(uC);Se.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return Rt.call(o,a,l,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const i$=null;function B2(e){return Se.isPlainObject(e)||Se.isArray(e)}function fC(e){return Se.endsWith(e,"[]")?e.slice(0,-2):e}function RS(e,t,r){return e?e.concat(t).map(function(s,i){return s=fC(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function o$(e){return Se.isArray(e)&&!e.some(B2)}const a$=Se.toFlatObject(Se,{},null,function(t){return/^is[A-Z]/.test(t)});function Y0(e,t,r){if(!Se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Se.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!Se.isUndefined(b[y])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Se.isSpecCompliantForm(t);if(!Se.isFunction(s))throw new TypeError("visitor must be a function");function u(w){if(w===null)return"";if(Se.isDate(w))return w.toISOString();if(Se.isBoolean(w))return w.toString();if(!l&&Se.isBlob(w))throw new Rt("Blob is not supported. Use a Buffer instead.");return Se.isArrayBuffer(w)||Se.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function d(w,y,b){let v=w;if(w&&!b&&typeof w=="object"){if(Se.endsWith(y,"{}"))y=n?y:y.slice(0,-2),w=JSON.stringify(w);else if(Se.isArray(w)&&o$(w)||(Se.isFileList(w)||Se.endsWith(y,"[]"))&&(v=Se.toArray(w)))return y=fC(y),v.forEach(function(_,E){!(Se.isUndefined(_)||_===null)&&t.append(o===!0?RS([y],E,i):o===null?y:y+"[]",u(_))}),!1}return B2(w)?!0:(t.append(RS(b,y,i),u(w)),!1)}const h=[],m=Object.assign(a$,{defaultVisitor:d,convertValue:u,isVisitable:B2});function f(w,y){if(!Se.isUndefined(w)){if(h.indexOf(w)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(w),Se.forEach(w,function(v,S){(!(Se.isUndefined(v)||v===null)&&s.call(t,v,Se.isString(S)?S.trim():S,y,m))===!0&&f(v,y?y.concat(S):[S])}),h.pop()}}if(!Se.isObject(e))throw new TypeError("data must be an object");return f(e),t}function LS(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function tb(e,t){this._pairs=[],e&&Y0(e,this,t)}const hC=tb.prototype;hC.append=function(t,r){this._pairs.push([t,r])};hC.toString=function(t){const r=t?function(n){return t.call(this,n,LS)}:LS;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function l$(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function pC(e,t,r){if(!t)return e;const n=r&&r.encode||l$;Se.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=Se.isURLSearchParams(t)?t.toString():new tb(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class OS{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Se.forEach(this.handlers,function(n){n!==null&&t(n)})}}const mC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},c$=typeof URLSearchParams<"u"?URLSearchParams:tb,u$=typeof FormData<"u"?FormData:null,d$=typeof Blob<"u"?Blob:null,f$={isBrowser:!0,classes:{URLSearchParams:c$,FormData:u$,Blob:d$},protocols:["http","https","file","blob","url","data"]},rb=typeof window<"u"&&typeof document<"u",$2=typeof navigator=="object"&&navigator||void 0,h$=rb&&(!$2||["ReactNative","NativeScript","NS"].indexOf($2.product)<0),p$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",m$=rb&&window.location.href||"http://localhost",g$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rb,hasStandardBrowserEnv:h$,hasStandardBrowserWebWorkerEnv:p$,navigator:$2,origin:m$},Symbol.toStringTag,{value:"Module"})),Fn={...g$,...f$};function y$(e,t){return Y0(e,new Fn.classes.URLSearchParams,{visitor:function(r,n,s,i){return Fn.isNode&&Se.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function v$(e){return Se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function w$(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function gC(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=r.length;return o=!o&&Se.isArray(s)?s.length:o,l?(Se.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!a):((!s[o]||!Se.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&Se.isArray(s[o])&&(s[o]=w$(s[o])),!a)}if(Se.isFormData(e)&&Se.isFunction(e.entries)){const r={};return Se.forEachEntry(e,(n,s)=>{t(v$(n),s,r,0)}),r}return null}function x$(e,t,r){if(Se.isString(e))try{return(t||JSON.parse)(e),Se.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const $h={transitional:mC,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=Se.isObject(t);if(i&&Se.isHTMLForm(t)&&(t=new FormData(t)),Se.isFormData(t))return s?JSON.stringify(gC(t)):t;if(Se.isArrayBuffer(t)||Se.isBuffer(t)||Se.isStream(t)||Se.isFile(t)||Se.isBlob(t)||Se.isReadableStream(t))return t;if(Se.isArrayBufferView(t))return t.buffer;if(Se.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return y$(t,this.formSerializer).toString();if((a=Se.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Y0(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),x$(t)):t}],transformResponse:[function(t){const r=this.transitional||$h.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Se.isResponse(t)||Se.isReadableStream(t))return t;if(t&&Se.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?Rt.from(a,Rt.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fn.classes.FormData,Blob:Fn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Se.forEach(["delete","get","head","post","put","patch"],e=>{$h.headers[e]={}});const b$=Se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_$=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&b$[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},IS=Symbol("internals");function xf(e){return e&&String(e).trim().toLowerCase()}function Jm(e){return e===!1||e==null?e:Se.isArray(e)?e.map(Jm):String(e)}function S$(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const N$=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Mv(e,t,r,n,s){if(Se.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!Se.isString(t)){if(Se.isString(n))return t.indexOf(n)!==-1;if(Se.isRegExp(n))return n.test(t)}}function E$(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function j$(e,t){const r=Se.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let ps=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(a,l,u){const d=xf(l);if(!d)throw new Error("header name must be a non-empty string");const h=Se.findKey(s,d);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||l]=Jm(a))}const o=(a,l)=>Se.forEach(a,(u,d)=>i(u,d,l));if(Se.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Se.isString(t)&&(t=t.trim())&&!N$(t))o(_$(t),r);else if(Se.isObject(t)&&Se.isIterable(t)){let a={},l,u;for(const d of t){if(!Se.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(l=a[u])?Se.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=xf(t),t){const n=Se.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return S$(s);if(Se.isFunction(r))return r.call(this,s,n);if(Se.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=xf(t),t){const n=Se.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Mv(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=xf(o),o){const a=Se.findKey(n,o);a&&(!r||Mv(n,n[a],a,r))&&(delete n[a],s=!0)}}return Se.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||Mv(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return Se.forEach(this,(s,i)=>{const o=Se.findKey(n,i);if(o){r[o]=Jm(s),delete r[i];return}const a=t?E$(i):String(i).trim();a!==i&&delete r[i],r[a]=Jm(s),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Se.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&Se.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[IS]=this[IS]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=xf(o);n[a]||(j$(s,o),n[a]=!0)}return Se.isArray(t)?t.forEach(i):i(t),this}};ps.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Se.reduceDescriptors(ps.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Se.freezeMethods(ps);function Fv(e,t){const r=this||$h,n=t||r,s=ps.from(n.headers);let i=n.data;return Se.forEach(e,function(a){i=a.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function yC(e){return!!(e&&e.__CANCEL__)}function Cd(e,t,r){Rt.call(this,e??"canceled",Rt.ERR_CANCELED,t,r),this.name="CanceledError"}Se.inherits(Cd,Rt,{__CANCEL__:!0});function vC(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Rt("Request failed with status code "+r.status,[Rt.ERR_BAD_REQUEST,Rt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function A$(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function C$(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),d=n[i];o||(o=u),r[s]=l,n[s]=u;let h=i,m=0;for(;h!==s;)m+=r[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const f=d&&u-d;return f?Math.round(m*1e3/f):void 0}}function k$(e,t){let r=0,n=1e3/t,s,i;const o=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-h)))},()=>s&&o(s)]}const Wg=(e,t,r=3)=>{let n=0;const s=C$(50,250);return k$(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-n,u=s(l),d=o<=a;n=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(h)},r)},DS=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},MS=e=>(...t)=>Se.asap(()=>e(...t)),P$=Fn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Fn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Fn.origin),Fn.navigator&&/(msie|trident)/i.test(Fn.navigator.userAgent)):()=>!0,T$=Fn.hasStandardBrowserEnv?{write(e,t,r,n,s,i,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];Se.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),Se.isString(n)&&a.push(`path=${n}`),Se.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),Se.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function R$(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function L$(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function wC(e,t,r){let n=!R$(t);return e&&(n||r==!1)?L$(e,t):t}const FS=e=>e instanceof ps?{...e}:e;function mc(e,t){t=t||{};const r={};function n(u,d,h,m){return Se.isPlainObject(u)&&Se.isPlainObject(d)?Se.merge.call({caseless:m},u,d):Se.isPlainObject(d)?Se.merge({},d):Se.isArray(d)?d.slice():d}function s(u,d,h,m){if(Se.isUndefined(d)){if(!Se.isUndefined(u))return n(void 0,u,h,m)}else return n(u,d,h,m)}function i(u,d){if(!Se.isUndefined(d))return n(void 0,d)}function o(u,d){if(Se.isUndefined(d)){if(!Se.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function a(u,d,h){if(h in t)return n(u,d);if(h in e)return n(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,h)=>s(FS(u),FS(d),h,!0)};return Se.forEach(Object.keys({...e,...t}),function(d){const h=l[d]||s,m=h(e[d],t[d],d);Se.isUndefined(m)&&h!==a||(r[d]=m)}),r}const xC=e=>{const t=mc({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=ps.from(o),t.url=pC(wC(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),Se.isFormData(r)){if(Fn.hasStandardBrowserEnv||Fn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Se.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{u.includes(d.toLowerCase())&&o.set(d,h)})}}if(Fn.hasStandardBrowserEnv&&(n&&Se.isFunction(n)&&(n=n(t)),n||n!==!1&&P$(t.url))){const l=s&&i&&T$.read(i);l&&o.set(s,l)}return t},O$=typeof XMLHttpRequest<"u",I$=O$&&function(e){return new Promise(function(r,n){const s=xC(e);let i=s.data;const o=ps.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=s,d,h,m,f,w;function y(){f&&f(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function v(){if(!b)return;const _=ps.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:_,config:e,request:b};vC(function(D){r(D),y()},function(D){n(D),y()},T),b=null}"onloadend"in b?b.onloadend=v:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(v)},b.onabort=function(){b&&(n(new Rt("Request aborted",Rt.ECONNABORTED,e,b)),b=null)},b.onerror=function(E){const T=E&&E.message?E.message:"Network Error",F=new Rt(T,Rt.ERR_NETWORK,e,b);F.event=E||null,n(F),b=null},b.ontimeout=function(){let E=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||mC;s.timeoutErrorMessage&&(E=s.timeoutErrorMessage),n(new Rt(E,T.clarifyTimeoutError?Rt.ETIMEDOUT:Rt.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&Se.forEach(o.toJSON(),function(E,T){b.setRequestHeader(T,E)}),Se.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),a&&a!=="json"&&(b.responseType=s.responseType),u&&([m,w]=Wg(u,!0),b.addEventListener("progress",m)),l&&b.upload&&([h,f]=Wg(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",f)),(s.cancelToken||s.signal)&&(d=_=>{b&&(n(!_||_.type?new Cd(null,e,b):_),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const S=A$(s.url);if(S&&Fn.protocols.indexOf(S)===-1){n(new Rt("Unsupported protocol "+S+":",Rt.ERR_BAD_REQUEST,e));return}b.send(i||null)})},D$=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,a();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Rt?d:new Cd(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new Rt(`timeout ${t} of ms exceeded`,Rt.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:l}=n;return l.unsubscribe=()=>Se.asap(a),l}},M$=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},F$=async function*(e,t){for await(const r of B$(e))yield*M$(r,t)},B$=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},BS=(e,t,r,n)=>{const s=F$(e,t);let i=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await s.next();if(u){a(),l.close();return}let h=d.byteLength;if(r){let m=i+=h;r(m)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},$S=64*1024,{isFunction:am}=Se,$$=(({Request:e,Response:t})=>({Request:e,Response:t}))(Se.global),{ReadableStream:US,TextEncoder:qS}=Se.global,zS=(e,...t)=>{try{return!!e(...t)}catch{return!1}},U$=e=>{e=Se.merge.call({skipUndefined:!0},$$,e);const{fetch:t,Request:r,Response:n}=e,s=t?am(t):typeof fetch=="function",i=am(r),o=am(n);if(!s)return!1;const a=s&&am(US),l=s&&(typeof qS=="function"?(w=>y=>w.encode(y))(new qS):async w=>new Uint8Array(await new r(w).arrayBuffer())),u=i&&a&&zS(()=>{let w=!1;const y=new r(Fn.origin,{body:new US,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!y}),d=o&&a&&zS(()=>Se.isReadableStream(new n("").body)),h={stream:d&&(w=>w.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!h[w]&&(h[w]=(y,b)=>{let v=y&&y[w];if(v)return v.call(y);throw new Rt(`Response type '${w}' is not supported`,Rt.ERR_NOT_SUPPORT,b)})});const m=async w=>{if(w==null)return 0;if(Se.isBlob(w))return w.size;if(Se.isSpecCompliantForm(w))return(await new r(Fn.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(Se.isArrayBufferView(w)||Se.isArrayBuffer(w))return w.byteLength;if(Se.isURLSearchParams(w)&&(w=w+""),Se.isString(w))return(await l(w)).byteLength},f=async(w,y)=>{const b=Se.toFiniteNumber(w.getContentLength());return b??m(y)};return async w=>{let{url:y,method:b,data:v,signal:S,cancelToken:_,timeout:E,onDownloadProgress:T,onUploadProgress:F,responseType:D,headers:U,withCredentials:B="same-origin",fetchOptions:K}=xC(w),L=t||fetch;D=D?(D+"").toLowerCase():"text";let k=D$([S,_&&_.toAbortSignal()],E),W=null;const P=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let Z;try{if(F&&u&&b!=="get"&&b!=="head"&&(Z=await f(U,v))!==0){let de=new r(y,{method:"POST",body:v,duplex:"half"}),C;if(Se.isFormData(v)&&(C=de.headers.get("content-type"))&&U.setContentType(C),de.body){const[q,V]=DS(Z,Wg(MS(F)));v=BS(de.body,$S,q,V)}}Se.isString(B)||(B=B?"include":"omit");const ne=i&&"credentials"in r.prototype,ie={...K,signal:k,method:b.toUpperCase(),headers:U.normalize().toJSON(),body:v,duplex:"half",credentials:ne?B:void 0};W=i&&new r(y,ie);let M=await(i?L(W,K):L(y,ie));const H=d&&(D==="stream"||D==="response");if(d&&(T||H&&P)){const de={};["status","statusText","headers"].forEach(Y=>{de[Y]=M[Y]});const C=Se.toFiniteNumber(M.headers.get("content-length")),[q,V]=T&&DS(C,Wg(MS(T),!0))||[];M=new n(BS(M.body,$S,q,()=>{V&&V(),P&&P()}),de)}D=D||"text";let ae=await h[Se.findKey(h,D)||"text"](M,w);return!H&&P&&P(),await new Promise((de,C)=>{vC(de,C,{data:ae,headers:ps.from(M.headers),status:M.status,statusText:M.statusText,config:w,request:W})})}catch(ne){throw P&&P(),ne&&ne.name==="TypeError"&&/Load failed|fetch/i.test(ne.message)?Object.assign(new Rt("Network Error",Rt.ERR_NETWORK,w,W),{cause:ne.cause||ne}):Rt.from(ne,ne&&ne.code,w,W)}}},q$=new Map,bC=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,a=o,l,u,d=q$;for(;a--;)l=i[a],u=d.get(l),u===void 0&&d.set(l,u=a?new Map:U$(t)),d=u;return u};bC();const nb={http:i$,xhr:I$,fetch:{get:bC}};Se.forEach(nb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const VS=e=>`- ${e}`,z$=e=>Se.isFunction(e)||e===null||e===!1;function V$(e,t){e=Se.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let a;if(s=n,!z$(n)&&(s=nb[(a=String(n)).toLowerCase()],s===void 0))throw new Rt(`Unknown adapter '${a}'`);if(s&&(Se.isFunction(s)||(s=s.get(t))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=r?o.length>1?`since :
`+o.map(VS).join(`
`):" "+VS(o[0]):"as no adapter specified";throw new Rt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const _C={getAdapter:V$,adapters:nb};function Bv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cd(null,e)}function WS(e){return Bv(e),e.headers=ps.from(e.headers),e.data=Fv.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),_C.getAdapter(e.adapter||$h.adapter,e)(e).then(function(n){return Bv(e),n.data=Fv.call(e,e.transformResponse,n),n.headers=ps.from(n.headers),n},function(n){return yC(n)||(Bv(e),n&&n.response&&(n.response.data=Fv.call(e,e.transformResponse,n.response),n.response.headers=ps.from(n.response.headers))),Promise.reject(n)})}const SC="1.13.2",Q0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Q0[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const HS={};Q0.transitional=function(t,r,n){function s(i,o){return"[Axios v"+SC+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,a)=>{if(t===!1)throw new Rt(s(o," has been removed"+(r?" in "+r:"")),Rt.ERR_DEPRECATED);return r&&!HS[o]&&(HS[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,a):!0}};Q0.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function W$(e,t,r){if(typeof e!="object")throw new Rt("options must be an object",Rt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new Rt("option "+i+" must be "+l,Rt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Rt("Unknown option "+i,Rt.ERR_BAD_OPTION)}}const Ym={assertOptions:W$,validators:Q0},Ki=Ym.validators;let ic=class{constructor(t){this.defaults=t||{},this.interceptors={request:new OS,response:new OS}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=mc(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Ym.assertOptions(n,{silentJSONParsing:Ki.transitional(Ki.boolean),forcedJSONParsing:Ki.transitional(Ki.boolean),clarifyTimeoutError:Ki.transitional(Ki.boolean)},!1),s!=null&&(Se.isFunction(s)?r.paramsSerializer={serialize:s}:Ym.assertOptions(s,{encode:Ki.function,serialize:Ki.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ym.assertOptions(r,{baseUrl:Ki.spelling("baseURL"),withXsrfToken:Ki.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Se.merge(i.common,i[r.method]);i&&Se.forEach(["delete","get","head","post","put","patch","common"],w=>{delete i[w]}),r.headers=ps.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,h=0,m;if(!l){const w=[WS.bind(this),void 0];for(w.unshift(...a),w.push(...u),m=w.length,d=Promise.resolve(r);h<m;)d=d.then(w[h++],w[h++]);return d}m=a.length;let f=r;for(;h<m;){const w=a[h++],y=a[h++];try{f=w(f)}catch(b){y.call(this,b);break}}try{d=WS.call(this,f)}catch(w){return Promise.reject(w)}for(h=0,m=u.length;h<m;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=mc(this.defaults,t);const r=wC(t.baseURL,t.url,t.allowAbsoluteUrls);return pC(r,t.params,t.paramsSerializer)}};Se.forEach(["delete","get","head","options"],function(t){ic.prototype[t]=function(r,n){return this.request(mc(n||{},{method:t,url:r,data:(n||{}).data}))}});Se.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,a){return this.request(mc(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ic.prototype[t]=r(),ic.prototype[t+"Form"]=r(!0)});let H$=class NC{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{n.subscribe(a),i=a}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,a){n.reason||(n.reason=new Cd(i,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new NC(function(s){t=s}),cancel:t}}};function G$(e){return function(r){return e.apply(null,r)}}function K$(e){return Se.isObject(e)&&e.isAxiosError===!0}const U2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(U2).forEach(([e,t])=>{U2[t]=e});function EC(e){const t=new ic(e),r=rC(ic.prototype.request,t);return Se.extend(r,ic.prototype,t,{allOwnKeys:!0}),Se.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return EC(mc(e,s))},r}const $r=EC($h);$r.Axios=ic;$r.CanceledError=Cd;$r.CancelToken=H$;$r.isCancel=yC;$r.VERSION=SC;$r.toFormData=Y0;$r.AxiosError=Rt;$r.Cancel=$r.CanceledError;$r.all=function(t){return Promise.all(t)};$r.spread=G$;$r.isAxiosError=K$;$r.mergeConfig=mc;$r.AxiosHeaders=ps;$r.formToJSON=e=>gC(Se.isHTMLForm(e)?new FormData(e):e);$r.getAdapter=_C.getAdapter;$r.HttpStatusCode=U2;$r.default=$r;const{Axios:PX,AxiosError:TX,CanceledError:RX,isCancel:LX,CancelToken:OX,VERSION:IX,all:DX,Cancel:MX,isAxiosError:FX,spread:BX,toFormData:$X,AxiosHeaders:UX,HttpStatusCode:qX,formToJSON:zX,getAdapter:VX,mergeConfig:WX}=$r,jC="https://brick-data-rescue.preview.emergentagent.com";console.log("API Client initialized with URL:",jC);const Ze=$r.create({baseURL:`${jC}/api`,headers:{"Content-Type":"application/json"},timeout:3e4});Ze.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Ze.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.href="/"),Promise.reject(e)});const GS={login:async e=>(await Ze.post("/auth/login",e)).data,register:async e=>(await Ze.post("/auth/register",e)).data,getCurrentUser:async()=>(await Ze.get("/auth/me")).data},ph={getAll:async()=>(await Ze.get("/factories")).data,getById:async e=>(await Ze.get(`/factories/${e}`)).data,create:async e=>(await Ze.post("/factories",e)).data,update:async(e,t)=>(await Ze.put(`/factories/${e}`,t)).data,delete:async e=>{await Ze.delete(`/factories/${e}`)}},q2=Object.freeze(Object.defineProperty({__proto__:null,factoryApi:ph},Symbol.toStringTag,{value:"Module"})),oc={getByFactory:async e=>(await Ze.get(`/products/factory/${e}`)).data,getById:async e=>(await Ze.get(`/products/${e}`)).data,create:async e=>(await Ze.post("/products",e)).data,update:async(e,t)=>(await Ze.put(`/products/${e}`,t)).data,delete:async e=>{await Ze.delete(`/products/${e}`)}},Qm=Object.freeze(Object.defineProperty({__proto__:null,productApi:oc},Symbol.toStringTag,{value:"Module"})),ju={getByFactory:async(e,t,r)=>{const n=new URLSearchParams;return t&&n.append("start_date",t),r&&n.append("end_date",r),(await Ze.get(`/production/factory/${e}?${n.toString()}`)).data},getById:async e=>(await Ze.get(`/production/${e}`)).data,create:async e=>(await Ze.post("/production",e)).data,update:async(e,t)=>(await Ze.put(`/production/${e}`,t)).data,delete:async e=>{await Ze.delete(`/production/${e}`)}},Cs={getByFactory:async e=>(await Ze.get(`/materials/factory/${e}`)).data,create:async e=>(await Ze.post("/materials",e)).data,update:async(e,t)=>(await Ze.put(`/materials/${e}`,t)).data,delete:async e=>{await Ze.delete(`/materials/${e}`)},getPurchases:async(e,t,r)=>{const n=new URLSearchParams;return t&&n.append("start_date",t),r&&n.append("end_date",r),(await Ze.get(`/material-purchases/factory/${e}?${n.toString()}`)).data},createPurchase:async e=>(await Ze.post("/material-purchases",e)).data,deletePurchase:async e=>{await Ze.delete(`/material-purchases/${e}`)},getUsage:async(e,t,r)=>{const n=new URLSearchParams;return t&&n.append("start_date",t),r&&n.append("end_date",r),(await Ze.get(`/material-usage/factory/${e}?${n.toString()}`)).data},createUsage:async e=>(await Ze.post("/material-usage",e)).data,deleteUsage:async e=>{await Ze.delete(`/material-usage/${e}`)},getStock:async e=>(await Ze.get(`/materials/${e}/stock`)).data},Xm=Object.freeze(Object.defineProperty({__proto__:null,materialApi:Cs},Symbol.toStringTag,{value:"Module"})),Ra={getByFactory:async(e,t,r)=>{const n=new URLSearchParams;return t&&n.append("start_date",t),r&&n.append("end_date",r),(await Ze.get(`/sales/factory/${e}?${n.toString()}`)).data},getById:async e=>(await Ze.get(`/sales/${e}`)).data,create:async e=>(await Ze.post("/sales",e)).data,update:async(e,t)=>(await Ze.put(`/sales/${e}`,t)).data,delete:async e=>{await Ze.delete(`/sales/${e}`)},receivePayment:async(e,t)=>(await Ze.post(`/sales/${e}/receive-payment`,{amount:t})).data},sb={getByFactory:async e=>(await Ze.get(`/customers/factory/${e}`)).data,create:async e=>(await Ze.post("/customers",e)).data,update:async(e,t)=>(await Ze.put(`/customers/${e}`,t)).data,delete:async e=>{await Ze.delete(`/customers/${e}`)}},AC={getByFactory:async e=>(await Ze.get(`/suppliers/factory/${e}`)).data,create:async e=>(await Ze.post("/suppliers",e)).data,update:async(e,t)=>(await Ze.put(`/suppliers/${e}`,t)).data,delete:async e=>{await Ze.delete(`/suppliers/${e}`)}},qo={getByFactory:async e=>(await Ze.get(`/employees/factory/${e}`)).data,create:async e=>(await Ze.post("/employees",e)).data,update:async(e,t)=>(await Ze.put(`/employees/${e}`,t)).data,delete:async e=>{await Ze.delete(`/employees/${e}`)},getPayments:async(e,t,r)=>{const n=new URLSearchParams;return t&&n.append("start_date",t),r&&n.append("end_date",r),(await Ze.get(`/employee-payments/factory/${e}?${n.toString()}`)).data},createPayment:async e=>(await Ze.post("/employee-payments",e)).data,deletePayment:async e=>{await Ze.delete(`/employee-payments/${e}`)}},Zm={getRates:async e=>(await Ze.get(`/factory-rates/factory/${e}`)).data,createRate:async e=>(await Ze.post("/factory-rates",e)).data,updateRate:async(e,t)=>(await Ze.put(`/factory-rates/${e}`,t)).data,deleteRate:async e=>{await Ze.delete(`/factory-rates/${e}`)},getOtherExpenses:async(e,t,r)=>{const n=new URLSearchParams;return t&&n.append("start_date",t),r&&n.append("end_date",r),(await Ze.get(`/other-expenses/factory/${e}?${n.toString()}`)).data},createOtherExpense:async e=>(await Ze.post("/other-expenses",e)).data,updateOtherExpense:async(e,t)=>(await Ze.put(`/other-expenses/${e}`,t)).data,deleteOtherExpense:async e=>{await Ze.delete(`/other-expenses/${e}`)}},z2=Object.freeze(Object.defineProperty({__proto__:null,expenseApi:Zm},Symbol.toStringTag,{value:"Module"})),CC=x.createContext(void 0),kd=()=>{const e=x.useContext(CC);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},J$=({children:e})=>{const[t,r]=x.useState(null),[n,s]=x.useState(!0);x.useEffect(()=>{(async()=>{const d=localStorage.getItem("auth_token"),h=localStorage.getItem("user");if(d&&h)try{r(JSON.parse(h))}catch(m){console.error("Error parsing stored user:",m),localStorage.removeItem("auth_token"),localStorage.removeItem("user")}s(!1)})()},[]);const l={user:t,loading:n,login:async(u,d)=>{var h,m;try{const f=await GS.login({email:u,password:d});localStorage.setItem("auth_token",f.access_token),localStorage.setItem("user",JSON.stringify(f.user)),r(f.user)}catch(f){console.error("Login error:",f);const w=((m=(h=f.response)==null?void 0:h.data)==null?void 0:m.detail)||f.message||"Login failed";throw new Error(w)}},register:async(u,d)=>{var h,m;try{const f=await GS.register({email:u,password:d});localStorage.setItem("auth_token",f.access_token),localStorage.setItem("user",JSON.stringify(f.user)),r(f.user)}catch(f){console.error("Registration error:",f);const w=((m=(h=f.response)==null?void 0:h.data)==null?void 0:m.detail)||f.message||"Registration failed";throw new Error(w)}},logout:()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("user"),r(null)},isAuthenticated:!!t};return c.jsx(CC.Provider,{value:l,children:e})},Uh={getStatus:async()=>(await Ze.get("/api/subscription/status")).data,createOrder:async e=>(await Ze.post("/api/subscription/create-order",e)).data,completePayment:async e=>(await Ze.post("/api/subscription/complete",e)).data,restore:async()=>(await Ze.post("/api/subscription/restore",{})).data},kC=x.createContext(void 0),qh=()=>{const e=x.useContext(kC);if(!e)throw new Error("useSubscription must be used within a SubscriptionProvider");return e},Y$=({children:e})=>{const{user:t}=kd(),[r,n]=x.useState({isLoading:!0,isTrialExpired:!1,isActive:!1,subscriptionStatus:"trial",trialEndsAt:null,planExpiryDate:null,planType:null,factoryId:null,daysRemaining:0}),[s,i]=x.useState(!1),o=async()=>{try{if(!t){n(h=>({...h,isLoading:!1}));return}const l=await Uh.getStatus(),u=l.trial_ends_at?new Date(l.trial_ends_at):null,d=l.plan_expiry_date?new Date(l.plan_expiry_date):null;n({isLoading:!1,isTrialExpired:l.is_trial_expired,isActive:l.is_active,subscriptionStatus:l.subscription_status,trialEndsAt:u,planExpiryDate:d,planType:l.plan_type,factoryId:null,daysRemaining:l.days_remaining})}catch(l){console.error("Error fetching subscription:",l),n(u=>({...u,isLoading:!1}))}},a=()=>!!(r.isLoading||r.isActive||!r.isTrialExpired);return x.useEffect(()=>{t&&o()},[t]),c.jsx(kC.Provider,{value:{...r,refreshSubscription:o,canPerformAction:a,showUpgradeModal:s,setShowUpgradeModal:i},children:e})};var Q$=x.createContext(void 0);function ib(e){const t=x.useContext(Q$);return e||t||"ltr"}var $v=0;function X0(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??KS()),document.body.insertAdjacentElement("beforeend",e[1]??KS()),$v++,()=>{$v===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$v--}},[])}function KS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Uv="focusScope.autoFocusOnMount",qv="focusScope.autoFocusOnUnmount",JS={bubbles:!1,cancelable:!0},X$="FocusScope",zh=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=x.useState(null),u=ms(s),d=ms(i),h=x.useRef(null),m=$t(t,y=>l(y)),f=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let y=function(_){if(f.paused||!a)return;const E=_.target;a.contains(E)?h.current=E:Ea(h.current,{select:!0})},b=function(_){if(f.paused||!a)return;const E=_.relatedTarget;E!==null&&(a.contains(E)||Ea(h.current,{select:!0}))},v=function(_){if(document.activeElement===document.body)for(const T of _)T.removedNodes.length>0&&Ea(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const S=new MutationObserver(v);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),S.disconnect()}}},[n,a,f.paused]),x.useEffect(()=>{if(a){QS.add(f);const y=document.activeElement;if(!a.contains(y)){const v=new CustomEvent(Uv,JS);a.addEventListener(Uv,u),a.dispatchEvent(v),v.defaultPrevented||(Z$(sU(PC(a)),{select:!0}),document.activeElement===y&&Ea(a))}return()=>{a.removeEventListener(Uv,u),setTimeout(()=>{const v=new CustomEvent(qv,JS);a.addEventListener(qv,d),a.dispatchEvent(v),v.defaultPrevented||Ea(y??document.body,{select:!0}),a.removeEventListener(qv,d),QS.remove(f)},0)}}},[a,u,d,f]);const w=x.useCallback(y=>{if(!r&&!n||f.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(b&&v){const S=y.currentTarget,[_,E]=eU(S);_&&E?!y.shiftKey&&v===E?(y.preventDefault(),r&&Ea(_,{select:!0})):y.shiftKey&&v===_&&(y.preventDefault(),r&&Ea(E,{select:!0})):v===S&&y.preventDefault()}},[r,n,f.paused]);return c.jsx(Ct.div,{tabIndex:-1,...o,ref:m,onKeyDown:w})});zh.displayName=X$;function Z$(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ea(n,{select:t}),document.activeElement!==r)return}function eU(e){const t=PC(e),r=YS(t,e),n=YS(t.reverse(),e);return[r,n]}function PC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function YS(e,t){for(const r of e)if(!tU(r,{upTo:t}))return r}function tU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rU(e){return e instanceof HTMLInputElement&&"select"in e}function Ea(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&rU(e)&&t&&e.select()}}var QS=nU();function nU(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=XS(e,t),e.unshift(t)},remove(t){var r;e=XS(e,t),(r=e[0])==null||r.resume()}}}function XS(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function sU(e){return e.filter(t=>t.tagName!=="A")}var zv="rovingFocusGroup.onEntryFocus",iU={bubbles:!1,cancelable:!0},Vh="RovingFocusGroup",[V2,TC,oU]=P0(Vh),[aU,RC]=Oi(Vh,[oU]),[lU,cU]=aU(Vh),LC=x.forwardRef((e,t)=>c.jsx(V2.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(V2.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(uU,{...e,ref:t})})}));LC.displayName=Vh;var uU=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,m=x.useRef(null),f=$t(t,m),w=ib(i),[y,b]=hc({prop:o,defaultProp:a??null,onChange:l,caller:Vh}),[v,S]=x.useState(!1),_=ms(u),E=TC(r),T=x.useRef(!1),[F,D]=x.useState(0);return x.useEffect(()=>{const U=m.current;if(U)return U.addEventListener(zv,_),()=>U.removeEventListener(zv,_)},[_]),c.jsx(lU,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:y,onItemFocus:x.useCallback(U=>b(U),[b]),onItemShiftTab:x.useCallback(()=>S(!0),[]),onFocusableItemAdd:x.useCallback(()=>D(U=>U+1),[]),onFocusableItemRemove:x.useCallback(()=>D(U=>U-1),[]),children:c.jsx(Ct.div,{tabIndex:v||F===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:We(e.onMouseDown,()=>{T.current=!0}),onFocus:We(e.onFocus,U=>{const B=!T.current;if(U.target===U.currentTarget&&B&&!v){const K=new CustomEvent(zv,iU);if(U.currentTarget.dispatchEvent(K),!K.defaultPrevented){const L=E().filter(ne=>ne.focusable),k=L.find(ne=>ne.active),W=L.find(ne=>ne.id===y),Z=[k,W,...L].filter(Boolean).map(ne=>ne.ref.current);DC(Z,d)}}T.current=!1}),onBlur:We(e.onBlur,()=>S(!1))})})}),OC="RovingFocusGroupItem",IC=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...a}=e,l=Bn(),u=i||l,d=cU(OC,r),h=d.currentTabStopId===u,m=TC(r),{onFocusableItemAdd:f,onFocusableItemRemove:w,currentTabStopId:y}=d;return x.useEffect(()=>{if(n)return f(),()=>w()},[n,f,w]),c.jsx(V2.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:c.jsx(Ct.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:We(e.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:We(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:We(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const v=hU(b,d.orientation,d.dir);if(v!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let _=m().filter(E=>E.focusable).map(E=>E.ref.current);if(v==="last")_.reverse();else if(v==="prev"||v==="next"){v==="prev"&&_.reverse();const E=_.indexOf(b.currentTarget);_=d.loop?pU(_,E+1):_.slice(E+1)}setTimeout(()=>DC(_))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:y!=null}):o})})});IC.displayName=OC;var dU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fU(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function hU(e,t,r){const n=fU(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return dU[n]}function DC(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function pU(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var mU=LC,gU=IC;function yU(e){const t=vU(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,a=x.Children.toArray(i),l=a.find(xU);if(l){const u=l.props.children,d=a.map(h=>h===l?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return c.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function vU(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=_U(s),a=bU(i,s.props);return s.type!==x.Fragment&&(a.ref=n?Qn(n,o):o),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wU=Symbol("radix.slottable");function xU(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wU}function bU(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function _U(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var SU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xc=new WeakMap,lm=new WeakMap,cm={},Vv=0,MC=function(e){return e&&(e.host||MC(e.parentNode))},NU=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=MC(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},EU=function(e,t,r,n){var s=NU(t,Array.isArray(e)?e:[e]);cm[r]||(cm[r]=new WeakMap);var i=cm[r],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(m){if(a.has(m))d(m);else try{var f=m.getAttribute(n),w=f!==null&&f!=="false",y=(Xc.get(m)||0)+1,b=(i.get(m)||0)+1;Xc.set(m,y),i.set(m,b),o.push(m),y===1&&w&&lm.set(m,!0),b===1&&m.setAttribute(r,"true"),w||m.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return d(t),a.clear(),Vv++,function(){o.forEach(function(h){var m=Xc.get(h)-1,f=i.get(h)-1;Xc.set(h,m),i.set(h,f),m||(lm.has(h)||h.removeAttribute(n),lm.delete(h)),f||h.removeAttribute(r)}),Vv--,Vv||(Xc=new WeakMap,Xc=new WeakMap,lm=new WeakMap,cm={})}},Z0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=SU(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),EU(n,s,r,"aria-hidden")):function(){return null}},W2=function(e,t){return W2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},W2(e,t)};function FC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");W2(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ys=function(){return Ys=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ys.apply(this,arguments)};function ul(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function BC(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function $C(e,t){return function(r,n){t(r,n,e)}}function UC(e,t,r,n,s,i){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,m=!1,f=r.length-1;f>=0;f--){var w={};for(var y in n)w[y]=y==="access"?{}:n[y];for(var y in n.access)w.access[y]=n.access[y];w.addInitializer=function(v){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(v||null))};var b=(0,r[f])(a==="accessor"?{get:d.get,set:d.set}:d[l],w);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(h=o(b.get))&&(d.get=h),(h=o(b.set))&&(d.set=h),(h=o(b.init))&&s.unshift(h)}else(h=o(b))&&(a==="field"?s.unshift(h):d[l]=h)}u&&Object.defineProperty(u,n.name,d),m=!0}function qC(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function zC(e){return typeof e=="symbol"?e:"".concat(e)}function VC(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function WC(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ye(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}function HC(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var ey=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function GC(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ey(t,e,r)}function Hg(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ob(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function KC(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ob(arguments[t]));return e}function JC(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function ab(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function dd(e){return this instanceof dd?(this.v=e,this):new dd(e)}function YC(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(f){return function(w){return Promise.resolve(w).then(f,h)}}function a(f,w){n[f]&&(s[f]=function(y){return new Promise(function(b,v){i.push([f,y,b,v])>1||l(f,y)})},w&&(s[f]=w(s[f])))}function l(f,w){try{u(n[f](w))}catch(y){m(i[0][3],y)}}function u(f){f.value instanceof dd?Promise.resolve(f.value.v).then(d,h):m(i[0][2],f)}function d(f){l("next",f)}function h(f){l("throw",f)}function m(f,w){f(w),i.shift(),i.length&&l(i[0][0],i[0][1])}}function QC(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:dd(e[s](o)),done:!1}:i?i(o):o}:i}}function XC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Hg=="function"?Hg(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,l){o=e[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function ZC(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var jU=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},H2=function(e){return H2=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},H2(e)};function ek(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=H2(e),n=0;n<r.length;n++)r[n]!=="default"&&ey(t,e,r[n]);return jU(t,e),t}function tk(e){return e&&e.__esModule?e:{default:e}}function rk(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function nk(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function sk(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function ik(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var AU=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function ok(e){function t(i){e.error=e.hasError?new AU(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function ak(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}const CU={__extends:FC,__assign:Ys,__rest:ul,__decorate:BC,__param:$C,__esDecorate:UC,__runInitializers:qC,__propKey:zC,__setFunctionName:VC,__metadata:WC,__awaiter:Ye,__generator:HC,__createBinding:ey,__exportStar:GC,__values:Hg,__read:ob,__spread:KC,__spreadArrays:JC,__spreadArray:ab,__await:dd,__asyncGenerator:YC,__asyncDelegator:QC,__asyncValues:XC,__makeTemplateObject:ZC,__importStar:ek,__importDefault:tk,__classPrivateFieldGet:rk,__classPrivateFieldSet:nk,__classPrivateFieldIn:sk,__addDisposableResource:ik,__disposeResources:ok,__rewriteRelativeImportExtension:ak},kU=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ik,get __assign(){return Ys},__asyncDelegator:QC,__asyncGenerator:YC,__asyncValues:XC,__await:dd,__awaiter:Ye,__classPrivateFieldGet:rk,__classPrivateFieldIn:sk,__classPrivateFieldSet:nk,__createBinding:ey,__decorate:BC,__disposeResources:ok,__esDecorate:UC,__exportStar:GC,__extends:FC,__generator:HC,__importDefault:tk,__importStar:ek,__makeTemplateObject:ZC,__metadata:WC,__param:$C,__propKey:zC,__read:ob,__rest:ul,__rewriteRelativeImportExtension:ak,__runInitializers:qC,__setFunctionName:VC,__spread:KC,__spreadArray:ab,__spreadArrays:JC,__values:Hg,default:CU},Symbol.toStringTag,{value:"Module"}));var eg="right-scroll-bar-position",tg="width-before-scroll-bar",PU="with-scroll-bars-hidden",TU="--removed-body-scroll-bar-size";function Wv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function RU(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var LU=typeof window<"u"?x.useLayoutEffect:x.useEffect,ZS=new WeakMap;function OU(e,t){var r=RU(null,function(n){return e.forEach(function(s){return Wv(s,n)})});return LU(function(){var n=ZS.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(a){i.has(a)||Wv(a,null)}),i.forEach(function(a){s.has(a)||Wv(a,o)})}ZS.set(r,e)},[e]),r}function IU(e){return e}function DU(e,t){t===void 0&&(t=IU);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function MU(e){e===void 0&&(e={});var t=DU(null);return t.options=Ys({async:!0,ssr:!1},e),t}var lk=function(e){var t=e.sideCar,r=ul(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Ys({},r))};lk.isSideCarExport=!0;function FU(e,t){return e.useMedium(t),lk}var ck=MU(),Hv=function(){},ty=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:Hv,onWheelCapture:Hv,onTouchMoveCapture:Hv}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,m=e.sideCar,f=e.noRelative,w=e.noIsolation,y=e.inert,b=e.allowPinchZoom,v=e.as,S=v===void 0?"div":v,_=e.gapMode,E=ul(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=m,F=OU([r,t]),D=Ys(Ys({},E),s);return x.createElement(x.Fragment,null,d&&x.createElement(T,{sideCar:ck,removeScrollBar:u,shards:h,noRelative:f,noIsolation:w,inert:y,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:_}),o?x.cloneElement(x.Children.only(a),Ys(Ys({},D),{ref:F})):x.createElement(S,Ys({},D,{className:l,ref:F}),a))});ty.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ty.classNames={fullWidth:tg,zeroRight:eg};var BU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $U(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=BU();return t&&e.setAttribute("nonce",t),e}function UU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function qU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var zU=function(){var e=0,t=null;return{add:function(r){e==0&&(t=$U())&&(UU(t,r),qU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},VU=function(){var e=zU();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},uk=function(){var e=VU(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},WU={left:0,top:0,right:0,gap:0},Gv=function(e){return parseInt(e||"",10)||0},HU=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Gv(r),Gv(n),Gv(s)]},GU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return WU;var t=HU(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},KU=uk(),Du="data-scroll-locked",JU=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(PU,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Du,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(eg,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(tg,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(eg," .").concat(eg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(tg," .").concat(tg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Du,`] {
    `).concat(TU,": ").concat(a,`px;
  }
`)},eN=function(){var e=parseInt(document.body.getAttribute(Du)||"0",10);return isFinite(e)?e:0},YU=function(){x.useEffect(function(){return document.body.setAttribute(Du,(eN()+1).toString()),function(){var e=eN()-1;e<=0?document.body.removeAttribute(Du):document.body.setAttribute(Du,e.toString())}},[])},QU=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;YU();var i=x.useMemo(function(){return GU(s)},[s]);return x.createElement(KU,{styles:JU(i,!t,s,r?"":"!important")})},G2=!1;if(typeof window<"u")try{var um=Object.defineProperty({},"passive",{get:function(){return G2=!0,!0}});window.addEventListener("test",um,um),window.removeEventListener("test",um,um)}catch{G2=!1}var Zc=G2?{passive:!1}:!1,XU=function(e){return e.tagName==="TEXTAREA"},dk=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!XU(e)&&r[t]==="visible")},ZU=function(e){return dk(e,"overflowY")},eq=function(e){return dk(e,"overflowX")},tN=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=fk(e,n);if(s){var i=hk(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},tq=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},rq=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},fk=function(e,t){return e==="v"?ZU(t):eq(t)},hk=function(e,t){return e==="v"?tq(t):rq(t)},nq=function(e,t){return e==="h"&&t==="rtl"?-1:1},sq=function(e,t,r,n,s){var i=nq(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,l=t.contains(a),u=!1,d=o>0,h=0,m=0;do{if(!a)break;var f=hk(e,a),w=f[0],y=f[1],b=f[2],v=y-b-i*w;(w||v)&&fk(e,a)&&(h+=v,m+=w);var S=a.parentNode;a=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(h)<1||!d&&Math.abs(m)<1)&&(u=!0),u},dm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rN=function(e){return[e.deltaX,e.deltaY]},nN=function(e){return e&&"current"in e?e.current:e},iq=function(e,t){return e[0]===t[0]&&e[1]===t[1]},oq=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},aq=0,eu=[];function lq(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),s=x.useState(aq++)[0],i=x.useState(uk)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=ab([e.lockRef.current],(e.shards||[]).map(nN),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=x.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var v=dm(y),S=r.current,_="deltaX"in y?y.deltaX:S[0]-v[0],E="deltaY"in y?y.deltaY:S[1]-v[1],T,F=y.target,D=Math.abs(_)>Math.abs(E)?"h":"v";if("touches"in y&&D==="h"&&F.type==="range")return!1;var U=window.getSelection(),B=U&&U.anchorNode,K=B?B===F||B.contains(F):!1;if(K)return!1;var L=tN(D,F);if(!L)return!0;if(L?T=D:(T=D==="v"?"h":"v",L=tN(D,F)),!L)return!1;if(!n.current&&"changedTouches"in y&&(_||E)&&(n.current=T),!T)return!0;var k=n.current||T;return sq(k,b,y,k==="h"?_:E)},[]),l=x.useCallback(function(y){var b=y;if(!(!eu.length||eu[eu.length-1]!==i)){var v="deltaY"in b?rN(b):dm(b),S=t.current.filter(function(T){return T.name===b.type&&(T.target===b.target||b.target===T.shadowParent)&&iq(T.delta,v)})[0];if(S&&S.should){b.cancelable&&b.preventDefault();return}if(!S){var _=(o.current.shards||[]).map(nN).filter(Boolean).filter(function(T){return T.contains(b.target)}),E=_.length>0?a(b,_[0]):!o.current.noIsolation;E&&b.cancelable&&b.preventDefault()}}},[]),u=x.useCallback(function(y,b,v,S){var _={name:y,delta:b,target:v,should:S,shadowParent:cq(v)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(E){return E!==_})},1)},[]),d=x.useCallback(function(y){r.current=dm(y),n.current=void 0},[]),h=x.useCallback(function(y){u(y.type,rN(y),y.target,a(y,e.lockRef.current))},[]),m=x.useCallback(function(y){u(y.type,dm(y),y.target,a(y,e.lockRef.current))},[]);x.useEffect(function(){return eu.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Zc),document.addEventListener("touchmove",l,Zc),document.addEventListener("touchstart",d,Zc),function(){eu=eu.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Zc),document.removeEventListener("touchmove",l,Zc),document.removeEventListener("touchstart",d,Zc)}},[]);var f=e.removeScrollBar,w=e.inert;return x.createElement(x.Fragment,null,w?x.createElement(i,{styles:oq(s)}):null,f?x.createElement(QU,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function cq(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const uq=FU(ck,lq);var Wh=x.forwardRef(function(e,t){return x.createElement(ty,Ys({},e,{ref:t,sideCar:uq}))});Wh.classNames=ty.classNames;var K2=["Enter"," "],dq=["ArrowDown","PageUp","Home"],pk=["ArrowUp","PageDown","End"],fq=[...dq,...pk],hq={ltr:[...K2,"ArrowRight"],rtl:[...K2,"ArrowLeft"]},pq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Hh="Menu",[mh,mq,gq]=P0(Hh),[jc,mk]=Oi(Hh,[gq,cl,RC]),ry=cl(),gk=RC(),[yq,Ac]=jc(Hh),[vq,Gh]=jc(Hh),yk=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,a=ry(t),[l,u]=x.useState(null),d=x.useRef(!1),h=ms(i),m=ib(s);return x.useEffect(()=>{const f=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),c.jsx(Gx,{...a,children:c.jsx(yq,{scope:t,open:r,onOpenChange:h,content:l,onContentChange:u,children:c.jsx(vq,{scope:t,onClose:x.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:m,modal:o,children:n})})})};yk.displayName=Hh;var wq="MenuAnchor",lb=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=ry(r);return c.jsx(Dh,{...s,...n,ref:t})});lb.displayName=wq;var cb="MenuPortal",[xq,vk]=jc(cb,{forceMount:void 0}),wk=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Ac(cb,t);return c.jsx(xq,{scope:t,forceMount:r,children:c.jsx(ni,{present:r||i.open,children:c.jsx(bd,{asChild:!0,container:s,children:n})})})};wk.displayName=cb;var Zs="MenuContent",[bq,ub]=jc(Zs),xk=x.forwardRef((e,t)=>{const r=vk(Zs,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Ac(Zs,e.__scopeMenu),o=Gh(Zs,e.__scopeMenu);return c.jsx(mh.Provider,{scope:e.__scopeMenu,children:c.jsx(ni,{present:n||i.open,children:c.jsx(mh.Slot,{scope:e.__scopeMenu,children:o.modal?c.jsx(_q,{...s,ref:t}):c.jsx(Sq,{...s,ref:t})})})})}),_q=x.forwardRef((e,t)=>{const r=Ac(Zs,e.__scopeMenu),n=x.useRef(null),s=$t(t,n);return x.useEffect(()=>{const i=n.current;if(i)return Z0(i)},[]),c.jsx(db,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:We(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Sq=x.forwardRef((e,t)=>{const r=Ac(Zs,e.__scopeMenu);return c.jsx(db,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Nq=yU("MenuContent.ScrollLock"),db=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:f,disableOutsideScroll:w,...y}=e,b=Ac(Zs,r),v=Gh(Zs,r),S=ry(r),_=gk(r),E=mq(r),[T,F]=x.useState(null),D=x.useRef(null),U=$t(t,D,b.onContentChange),B=x.useRef(0),K=x.useRef(""),L=x.useRef(0),k=x.useRef(null),W=x.useRef("right"),P=x.useRef(0),Z=w?Wh:x.Fragment,ne=w?{as:Nq,allowPinchZoom:!0}:void 0,ie=H=>{var Q,ce;const ae=K.current+H,de=E().filter(ue=>!ue.disabled),C=document.activeElement,q=(Q=de.find(ue=>ue.ref.current===C))==null?void 0:Q.textValue,V=de.map(ue=>ue.textValue),Y=Dq(V,ae,q),se=(ce=de.find(ue=>ue.textValue===Y))==null?void 0:ce.ref.current;(function ue(me){K.current=me,window.clearTimeout(B.current),me!==""&&(B.current=window.setTimeout(()=>ue(""),1e3))})(ae),se&&setTimeout(()=>se.focus())};x.useEffect(()=>()=>window.clearTimeout(B.current),[]),X0();const M=x.useCallback(H=>{var de,C;return W.current===((de=k.current)==null?void 0:de.side)&&Fq(H,(C=k.current)==null?void 0:C.area)},[]);return c.jsx(bq,{scope:r,searchRef:K,onItemEnter:x.useCallback(H=>{M(H)&&H.preventDefault()},[M]),onItemLeave:x.useCallback(H=>{var ae;M(H)||((ae=D.current)==null||ae.focus(),F(null))},[M]),onTriggerLeave:x.useCallback(H=>{M(H)&&H.preventDefault()},[M]),pointerGraceTimerRef:L,onPointerGraceIntentChange:x.useCallback(H=>{k.current=H},[]),children:c.jsx(Z,{...ne,children:c.jsx(zh,{asChild:!0,trapped:s,onMountAutoFocus:We(i,H=>{var ae;H.preventDefault(),(ae=D.current)==null||ae.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:c.jsx(Ec,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:f,children:c.jsx(mU,{asChild:!0,..._,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:T,onCurrentTabStopIdChange:F,onEntryFocus:We(l,H=>{v.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(F0,{role:"menu","aria-orientation":"vertical","data-state":Dk(b.open),"data-radix-menu-content":"",dir:v.dir,...S,...y,ref:U,style:{outline:"none",...y.style},onKeyDown:We(y.onKeyDown,H=>{const de=H.target.closest("[data-radix-menu-content]")===H.currentTarget,C=H.ctrlKey||H.altKey||H.metaKey,q=H.key.length===1;de&&(H.key==="Tab"&&H.preventDefault(),!C&&q&&ie(H.key));const V=D.current;if(H.target!==V||!fq.includes(H.key))return;H.preventDefault();const se=E().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);pk.includes(H.key)&&se.reverse(),Oq(se)}),onBlur:We(e.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(B.current),K.current="")}),onPointerMove:We(e.onPointerMove,gh(H=>{const ae=H.target,de=P.current!==H.clientX;if(H.currentTarget.contains(ae)&&de){const C=H.clientX>P.current?"right":"left";W.current=C,P.current=H.clientX}}))})})})})})})});xk.displayName=Zs;var Eq="MenuGroup",fb=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return c.jsx(Ct.div,{role:"group",...n,ref:t})});fb.displayName=Eq;var jq="MenuLabel",bk=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return c.jsx(Ct.div,{...n,ref:t})});bk.displayName=jq;var Gg="MenuItem",sN="menu.itemSelect",ny=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=x.useRef(null),o=Gh(Gg,e.__scopeMenu),a=ub(Gg,e.__scopeMenu),l=$t(t,i),u=x.useRef(!1),d=()=>{const h=i.current;if(!r&&h){const m=new CustomEvent(sN,{bubbles:!0,cancelable:!0});h.addEventListener(sN,f=>n==null?void 0:n(f),{once:!0}),Tx(h,m),m.defaultPrevented?u.current=!1:o.onClose()}};return c.jsx(_k,{...s,ref:l,disabled:r,onClick:We(e.onClick,d),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),u.current=!0},onPointerUp:We(e.onPointerUp,h=>{var m;u.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:We(e.onKeyDown,h=>{const m=a.searchRef.current!=="";r||m&&h.key===" "||K2.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});ny.displayName=Gg;var _k=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=ub(Gg,r),a=gk(r),l=x.useRef(null),u=$t(t,l),[d,h]=x.useState(!1),[m,f]=x.useState("");return x.useEffect(()=>{const w=l.current;w&&f((w.textContent??"").trim())},[i.children]),c.jsx(mh.ItemSlot,{scope:r,disabled:n,textValue:s??m,children:c.jsx(gU,{asChild:!0,...a,focusable:!n,children:c.jsx(Ct.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:We(e.onPointerMove,gh(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:We(e.onPointerLeave,gh(w=>o.onItemLeave(w))),onFocus:We(e.onFocus,()=>h(!0)),onBlur:We(e.onBlur,()=>h(!1))})})})}),Aq="MenuCheckboxItem",Sk=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return c.jsx(Ck,{scope:e.__scopeMenu,checked:r,children:c.jsx(ny,{role:"menuitemcheckbox","aria-checked":Kg(r)?"mixed":r,...s,ref:t,"data-state":pb(r),onSelect:We(s.onSelect,()=>n==null?void 0:n(Kg(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Sk.displayName=Aq;var Nk="MenuRadioGroup",[Cq,kq]=jc(Nk,{value:void 0,onValueChange:()=>{}}),Ek=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=ms(n);return c.jsx(Cq,{scope:e.__scopeMenu,value:r,onValueChange:i,children:c.jsx(fb,{...s,ref:t})})});Ek.displayName=Nk;var jk="MenuRadioItem",Ak=x.forwardRef((e,t)=>{const{value:r,...n}=e,s=kq(jk,e.__scopeMenu),i=r===s.value;return c.jsx(Ck,{scope:e.__scopeMenu,checked:i,children:c.jsx(ny,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":pb(i),onSelect:We(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});Ak.displayName=jk;var hb="MenuItemIndicator",[Ck,Pq]=jc(hb,{checked:!1}),kk=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=Pq(hb,r);return c.jsx(ni,{present:n||Kg(i.checked)||i.checked===!0,children:c.jsx(Ct.span,{...s,ref:t,"data-state":pb(i.checked)})})});kk.displayName=hb;var Tq="MenuSeparator",Pk=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return c.jsx(Ct.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Pk.displayName=Tq;var Rq="MenuArrow",Tk=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=ry(r);return c.jsx(B0,{...s,...n,ref:t})});Tk.displayName=Rq;var Lq="MenuSub",[HX,Rk]=jc(Lq),Cf="MenuSubTrigger",Lk=x.forwardRef((e,t)=>{const r=Ac(Cf,e.__scopeMenu),n=Gh(Cf,e.__scopeMenu),s=Rk(Cf,e.__scopeMenu),i=ub(Cf,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),c.jsx(lb,{asChild:!0,...u,children:c.jsx(_k,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":Dk(r.open),...e,ref:Qn(t,s.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:We(e.onPointerMove,gh(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:We(e.onPointerLeave,gh(h=>{var f,w;d();const m=(f=r.content)==null?void 0:f.getBoundingClientRect();if(m){const y=(w=r.content)==null?void 0:w.dataset.side,b=y==="right",v=b?-5:5,S=m[b?"left":"right"],_=m[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:S,y:m.top},{x:_,y:m.top},{x:_,y:m.bottom},{x:S,y:m.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:We(e.onKeyDown,h=>{var f;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||hq[n.dir].includes(h.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),h.preventDefault())})})})});Lk.displayName=Cf;var Ok="MenuSubContent",Ik=x.forwardRef((e,t)=>{const r=vk(Zs,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Ac(Zs,e.__scopeMenu),o=Gh(Zs,e.__scopeMenu),a=Rk(Ok,e.__scopeMenu),l=x.useRef(null),u=$t(t,l);return c.jsx(mh.Provider,{scope:e.__scopeMenu,children:c.jsx(ni,{present:n||i.open,children:c.jsx(mh.Slot,{scope:e.__scopeMenu,children:c.jsx(db,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:We(e.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:We(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:We(e.onKeyDown,d=>{var f;const h=d.currentTarget.contains(d.target),m=pq[o.dir].includes(d.key);h&&m&&(i.onOpenChange(!1),(f=a.trigger)==null||f.focus(),d.preventDefault())})})})})})});Ik.displayName=Ok;function Dk(e){return e?"open":"closed"}function Kg(e){return e==="indeterminate"}function pb(e){return Kg(e)?"indeterminate":e?"checked":"unchecked"}function Oq(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Iq(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Dq(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Iq(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function Mq(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],l=t[o],u=a.x,d=a.y,h=l.x,m=l.y;d>n!=m>n&&r<(h-u)*(n-d)/(m-d)+u&&(s=!s)}return s}function Fq(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Mq(r,t)}function gh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Bq=yk,$q=lb,Uq=wk,qq=xk,zq=fb,Vq=bk,Wq=ny,Hq=Sk,Gq=Ek,Kq=Ak,Jq=kk,Yq=Pk,Qq=Tk,Xq=Lk,Zq=Ik,sy="DropdownMenu",[ez]=Oi(sy,[mk]),es=mk(),[tz,Mk]=ez(sy),Fk=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,l=es(t),u=x.useRef(null),[d,h]=hc({prop:s,defaultProp:i??!1,onChange:o,caller:sy});return c.jsx(tz,{scope:t,triggerId:Bn(),triggerRef:u,contentId:Bn(),open:d,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),modal:a,children:c.jsx(Bq,{...l,open:d,onOpenChange:h,dir:n,modal:a,children:r})})};Fk.displayName=sy;var Bk="DropdownMenuTrigger",$k=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=Mk(Bk,r),o=es(r);return c.jsx($q,{asChild:!0,...o,children:c.jsx(Ct.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Qn(t,i.triggerRef),onPointerDown:We(e.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:We(e.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});$k.displayName=Bk;var rz="DropdownMenuPortal",Uk=e=>{const{__scopeDropdownMenu:t,...r}=e,n=es(t);return c.jsx(Uq,{...n,...r})};Uk.displayName=rz;var qk="DropdownMenuContent",zk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Mk(qk,r),i=es(r),o=x.useRef(!1);return c.jsx(qq,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:We(e.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:We(e.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zk.displayName=qk;var nz="DropdownMenuGroup",sz=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return c.jsx(zq,{...s,...n,ref:t})});sz.displayName=nz;var iz="DropdownMenuLabel",Vk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return c.jsx(Vq,{...s,...n,ref:t})});Vk.displayName=iz;var oz="DropdownMenuItem",Wk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return c.jsx(Wq,{...s,...n,ref:t})});Wk.displayName=oz;var az="DropdownMenuCheckboxItem",Hk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return c.jsx(Hq,{...s,...n,ref:t})});Hk.displayName=az;var lz="DropdownMenuRadioGroup",cz=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return c.jsx(Gq,{...s,...n,ref:t})});cz.displayName=lz;var uz="DropdownMenuRadioItem",Gk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return c.jsx(Kq,{...s,...n,ref:t})});Gk.displayName=uz;var dz="DropdownMenuItemIndicator",Kk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return c.jsx(Jq,{...s,...n,ref:t})});Kk.displayName=dz;var fz="DropdownMenuSeparator",Jk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return c.jsx(Yq,{...s,...n,ref:t})});Jk.displayName=fz;var hz="DropdownMenuArrow",pz=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return c.jsx(Qq,{...s,...n,ref:t})});pz.displayName=hz;var mz="DropdownMenuSubTrigger",Yk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return c.jsx(Xq,{...s,...n,ref:t})});Yk.displayName=mz;var gz="DropdownMenuSubContent",Qk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=es(r);return c.jsx(Zq,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Qk.displayName=gz;var yz=Fk,vz=$k,wz=Uk,Xk=zk,Zk=Vk,eP=Wk,tP=Hk,rP=Gk,nP=Kk,sP=Jk,iP=Yk,oP=Qk;const xz=yz,bz=vz,_z=x.forwardRef(({className:e,inset:t,children:r,...n},s)=>c.jsxs(iP,{ref:s,className:Qe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,c.jsx(R7,{className:"ml-auto h-4 w-4"})]}));_z.displayName=iP.displayName;const Sz=x.forwardRef(({className:e,...t},r)=>c.jsx(oP,{ref:r,className:Qe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Sz.displayName=oP.displayName;const aP=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>c.jsx(wz,{children:c.jsx(Xk,{ref:n,sideOffset:t,className:Qe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));aP.displayName=Xk.displayName;const J2=x.forwardRef(({className:e,inset:t,...r},n)=>c.jsx(eP,{ref:n,className:Qe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));J2.displayName=eP.displayName;const Nz=x.forwardRef(({className:e,children:t,checked:r,...n},s)=>c.jsxs(tP,{ref:s,className:Qe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(nP,{children:c.jsx(Oh,{className:"h-4 w-4"})})}),t]}));Nz.displayName=tP.displayName;const Ez=x.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(rP,{ref:n,className:Qe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(nP,{children:c.jsx(I7,{className:"h-2 w-2 fill-current"})})}),t]}));Ez.displayName=rP.displayName;const jz=x.forwardRef(({className:e,inset:t,...r},n)=>c.jsx(Zk,{ref:n,className:Qe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));jz.displayName=Zk.displayName;const lP=x.forwardRef(({className:e,...t},r)=>c.jsx(sP,{ref:r,className:Qe("-mx-1 my-1 h-px bg-muted",e),...t}));lP.displayName=sP.displayName;const mo=()=>{const{user:e}=kd(),[t,r]=x.useState(null),[n,s]=x.useState(!0),[i,o]=x.useState(null);return x.useEffect(()=>{(async()=>{if(!e){s(!1);return}try{const l=await ph.getAll();l.length>0&&r(l[0])}catch(l){o(l),console.error("Error loading factory:",l)}finally{s(!1)}})()},[e]),{factory:t,factoryId:(t==null?void 0:t.id)||null,loading:n,error:i,refetch:async()=>{if(!e)return;const a=await ph.getAll();a.length>0&&r(a[0])}}},Az=({activeTab:e,onTabChange:t})=>{const{factory:r}=mo(),{logout:n}=kd(),s=(r==null?void 0:r.name)||"BrickWorks Manager",i=[{id:"dashboard",label:"Dashboard",icon:T7},{id:"production",label:"Production",icon:od},{id:"materials",label:"Materials",icon:co},{id:"sales",label:"Sales",icon:Dx},{id:"payments",label:"Payments",icon:Hj},{id:"expenses",label:"Other Expenses",icon:Mg},{id:"weekly",label:"Reports",icon:id},{id:"subscription",label:"Subscription & Pricing",icon:Ix},{id:"settings",label:"Settings",icon:Qj}];return c.jsx("nav",{className:"bg-background border-b border-border sticky top-0 z-50 backdrop-blur-sm",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsxs(xz,{children:[c.jsx(bz,{asChild:!0,children:c.jsx("button",{className:"p-3 rounded-full transition-colors bg-card hover:bg-primary/20 text-foreground",children:c.jsx(U7,{className:"h-6 w-6"})})}),c.jsxs(aP,{align:"start",className:"w-80 bg-card border-border z-50",children:[i.map(o=>{const a=o.icon;return c.jsxs(J2,{onClick:()=>t(o.id),className:`flex items-center gap-3 cursor-pointer ${e===o.id?"bg-primary/20 text-primary":""}`,children:[c.jsx(a,{className:"h-4 w-4"}),o.label]},o.id)}),c.jsx(lP,{}),c.jsxs(J2,{onClick:()=>n(),className:"flex items-center gap-3 cursor-pointer text-destructive",children:[c.jsx(Jj,{className:"h-4 w-4"}),"Logout"]})]})]}),c.jsx("h1",{className:"text-lg font-bold text-foreground truncate max-w-[200px] sm:max-w-none",children:s}),c.jsx("div",{className:"hidden lg:flex items-center space-x-2",children:i.slice(0,7).map(o=>{const a=o.icon;return c.jsxs("button",{onClick:()=>t(o.id),className:e===o.id?"nav-tab-active":"nav-tab-inactive",children:[c.jsx(a,{className:"h-4 w-4 mr-2"}),o.label]},o.id)})}),c.jsx("div",{className:"w-12 lg:hidden"})]})})})};function Cz(e){const t=kz(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,a=x.Children.toArray(i),l=a.find(Tz);if(l){const u=l.props.children,d=a.map(h=>h===l?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return c.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function kz(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=Lz(s),a=Rz(i,s.props);return s.type!==x.Fragment&&(a.ref=n?Qn(n,o):o),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Pz=Symbol("radix.slottable");function Tz(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Pz}function Rz(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Lz(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var iy="Dialog",[cP,uP]=Oi(iy),[Oz,Di]=cP(iy),dP=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=x.useRef(null),l=x.useRef(null),[u,d]=hc({prop:n,defaultProp:s??!1,onChange:i,caller:iy});return c.jsx(Oz,{scope:t,triggerRef:a,contentRef:l,contentId:Bn(),titleId:Bn(),descriptionId:Bn(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};dP.displayName=iy;var fP="DialogTrigger",hP=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Di(fP,r),i=$t(t,s.triggerRef);return c.jsx(Ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":yb(s.open),...n,ref:i,onClick:We(e.onClick,s.onOpenToggle)})});hP.displayName=fP;var mb="DialogPortal",[Iz,pP]=cP(mb,{forceMount:void 0}),mP=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Di(mb,t);return c.jsx(Iz,{scope:t,forceMount:r,children:x.Children.map(n,o=>c.jsx(ni,{present:r||i.open,children:c.jsx(bd,{asChild:!0,container:s,children:o})}))})};mP.displayName=mb;var Jg="DialogOverlay",gP=x.forwardRef((e,t)=>{const r=pP(Jg,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Di(Jg,e.__scopeDialog);return i.modal?c.jsx(ni,{present:n||i.open,children:c.jsx(Mz,{...s,ref:t})}):null});gP.displayName=Jg;var Dz=Cz("DialogOverlay.RemoveScroll"),Mz=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Di(Jg,r);return c.jsx(Wh,{as:Dz,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(Ct.div,{"data-state":yb(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),gc="DialogContent",yP=x.forwardRef((e,t)=>{const r=pP(gc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Di(gc,e.__scopeDialog);return c.jsx(ni,{present:n||i.open,children:i.modal?c.jsx(Fz,{...s,ref:t}):c.jsx(Bz,{...s,ref:t})})});yP.displayName=gc;var Fz=x.forwardRef((e,t)=>{const r=Di(gc,e.__scopeDialog),n=x.useRef(null),s=$t(t,r.contentRef,n);return x.useEffect(()=>{const i=n.current;if(i)return Z0(i)},[]),c.jsx(vP,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:We(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:We(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:We(e.onFocusOutside,i=>i.preventDefault())})}),Bz=x.forwardRef((e,t)=>{const r=Di(gc,e.__scopeDialog),n=x.useRef(!1),s=x.useRef(!1);return c.jsx(vP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),vP=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Di(gc,r),l=x.useRef(null),u=$t(t,l);return X0(),c.jsxs(c.Fragment,{children:[c.jsx(zh,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Ec,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":yb(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(Uz,{titleId:a.titleId}),c.jsx(zz,{contentRef:l,descriptionId:a.descriptionId})]})]})}),gb="DialogTitle",wP=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Di(gb,r);return c.jsx(Ct.h2,{id:s.titleId,...n,ref:t})});wP.displayName=gb;var xP="DialogDescription",bP=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Di(xP,r);return c.jsx(Ct.p,{id:s.descriptionId,...n,ref:t})});bP.displayName=xP;var _P="DialogClose",SP=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Di(_P,r);return c.jsx(Ct.button,{type:"button",...n,ref:t,onClick:We(e.onClick,()=>s.onOpenChange(!1))})});SP.displayName=_P;function yb(e){return e?"open":"closed"}var NP="DialogTitleWarning",[$z,EP]=PI(NP,{contentName:gc,titleName:gb,docsSlug:"dialog"}),Uz=({titleId:e})=>{const t=EP(NP),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},qz="DialogDescriptionWarning",zz=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${EP(qz).contentName}}.`;return x.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},vb=dP,jP=hP,wb=mP,oy=gP,ay=yP,xb=wP,bb=bP,_b=SP;const dn=vb,yh=jP,Vz=wb,AP=x.forwardRef(({className:e,...t},r)=>c.jsx(oy,{ref:r,className:Qe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));AP.displayName=oy.displayName;const tn=x.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(Vz,{children:[c.jsx(AP,{}),c.jsxs(ay,{ref:n,className:Qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,c.jsxs(_b,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(Mx,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));tn.displayName=ay.displayName;const rn=({className:e,...t})=>c.jsx("div",{className:Qe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});rn.displayName="DialogHeader";const Y2=({className:e,...t})=>c.jsx("div",{className:Qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Y2.displayName="DialogFooter";const nn=x.forwardRef(({className:e,...t},r)=>c.jsx(xb,{ref:r,className:Qe("text-lg font-semibold leading-none tracking-tight",e),...t}));nn.displayName=xb.displayName;const Wz=x.forwardRef(({className:e,...t},r)=>c.jsx(bb,{ref:r,className:Qe("text-sm text-muted-foreground",e),...t}));Wz.displayName=bb.displayName;var Hz=Symbol.for("react.lazy"),Yg=p0[" use ".trim().toString()];function Gz(e){return typeof e=="object"&&e!==null&&"then"in e}function CP(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Hz&&"_payload"in e&&Gz(e._payload)}function Sb(e){const t=Jz(e),r=x.forwardRef((n,s)=>{let{children:i,...o}=n;CP(i)&&typeof Yg=="function"&&(i=Yg(i._payload));const a=x.Children.toArray(i),l=a.find(Qz);if(l){const u=l.props.children,d=a.map(h=>h===l?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return c.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var Kz=Sb("Slot");function Jz(e){const t=x.forwardRef((r,n)=>{let{children:s,...i}=r;if(CP(s)&&typeof Yg=="function"&&(s=Yg(s._payload)),x.isValidElement(s)){const o=Zz(s),a=Xz(i,s.props);return s.type!==x.Fragment&&(a.ref=n?Qn(n,o):o),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Yz=Symbol("radix.slottable");function Qz(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Yz}function Xz(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Zz(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Nb=L0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Be=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?Kz:"button";return c.jsx(o,{className:Qe(Nb({variant:t,size:r,className:e})),ref:i,...s})});Be.displayName="Button";const Ge=x.forwardRef(({className:e,type:t,...r},n)=>c.jsx("input",{type:t,className:Qe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ge.displayName="Input";var eV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tV=eV.reduce((e,t)=>{const r=Sb(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),rV="Label",kP=x.forwardRef((e,t)=>c.jsx(tV.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));kP.displayName=rV;var PP=kP;const nV=L0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ze=x.forwardRef(({className:e,...t},r)=>c.jsx(PP,{ref:r,className:Qe(nV(),e),...t}));ze.displayName=PP.displayName;function iN(e,[t,r]){return Math.min(r,Math.max(t,e))}function sV(e){const t=iV(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,a=x.Children.toArray(i),l=a.find(aV);if(l){const u=l.props.children,d=a.map(h=>h===l?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return c.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function iV(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=cV(s),a=lV(i,s.props);return s.type!==x.Fragment&&(a.ref=n?Qn(n,o):o),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oV=Symbol("radix.slottable");function aV(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oV}function lV(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function cV(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function uV(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var dV=[" ","Enter","ArrowUp","ArrowDown"],fV=[" ","Enter"],yc="Select",[ly,cy,hV]=P0(yc),[Pd]=Oi(yc,[hV,cl]),uy=cl(),[pV,dl]=Pd(yc),[mV,gV]=Pd(yc),TP=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:m,required:f,form:w}=e,y=uy(t),[b,v]=x.useState(null),[S,_]=x.useState(null),[E,T]=x.useState(!1),F=ib(u),[D,U]=hc({prop:n,defaultProp:s??!1,onChange:i,caller:yc}),[B,K]=hc({prop:o,defaultProp:a,onChange:l,caller:yc}),L=x.useRef(null),k=b?w||!!b.closest("form"):!0,[W,P]=x.useState(new Set),Z=Array.from(W).map(ne=>ne.props.value).join(";");return c.jsx(Gx,{...y,children:c.jsxs(pV,{required:f,scope:t,trigger:b,onTriggerChange:v,valueNode:S,onValueNodeChange:_,valueNodeHasChildren:E,onValueNodeHasChildrenChange:T,contentId:Bn(),value:B,onValueChange:K,open:D,onOpenChange:U,dir:F,triggerPointerDownPosRef:L,disabled:m,children:[c.jsx(ly.Provider,{scope:t,children:c.jsx(mV,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(ne=>{P(ie=>new Set(ie).add(ne))},[]),onNativeOptionRemove:x.useCallback(ne=>{P(ie=>{const M=new Set(ie);return M.delete(ne),M})},[]),children:r})}),k?c.jsxs(t6,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:B,onChange:ne=>K(ne.target.value),disabled:m,form:w,children:[B===void 0?c.jsx("option",{value:""}):null,Array.from(W)]},Z):null]})})};TP.displayName=yc;var RP="SelectTrigger",LP=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=uy(r),o=dl(RP,r),a=o.disabled||n,l=$t(t,o.onTriggerChange),u=cy(r),d=x.useRef("touch"),[h,m,f]=n6(y=>{const b=u().filter(_=>!_.disabled),v=b.find(_=>_.value===o.value),S=s6(b,y,v);S!==void 0&&o.onValueChange(S.value)}),w=y=>{a||(o.onOpenChange(!0),f()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return c.jsx(Dh,{asChild:!0,...i,children:c.jsx(Ct.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":r6(o.value)?"":void 0,...s,ref:l,onClick:We(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&w(y)}),onPointerDown:We(s.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:We(s.onKeyDown,y=>{const b=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(b&&y.key===" ")&&dV.includes(y.key)&&(w(),y.preventDefault())})})})});LP.displayName=RP;var OP="SelectValue",IP=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...a}=e,l=dl(OP,r),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,h=$t(t,l.onValueNodeChange);return An(()=>{u(d)},[u,d]),c.jsx(Ct.span,{...a,ref:h,style:{pointerEvents:"none"},children:r6(l.value)?c.jsx(c.Fragment,{children:o}):i})});IP.displayName=OP;var yV="SelectIcon",DP=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return c.jsx(Ct.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});DP.displayName=yV;var vV="SelectPortal",MP=e=>c.jsx(bd,{asChild:!0,...e});MP.displayName=vV;var vc="SelectContent",FP=x.forwardRef((e,t)=>{const r=dl(vc,e.__scopeSelect),[n,s]=x.useState();if(An(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Nc.createPortal(c.jsx(BP,{scope:e.__scopeSelect,children:c.jsx(ly.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),i):null}return c.jsx($P,{...e,ref:t})});FP.displayName=vc;var gi=10,[BP,fl]=Pd(vc),wV="SelectContentImpl",xV=sV("SelectContent.RemoveScroll"),$P=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:w,hideWhenDetached:y,avoidCollisions:b,...v}=e,S=dl(vc,r),[_,E]=x.useState(null),[T,F]=x.useState(null),D=$t(t,Q=>E(Q)),[U,B]=x.useState(null),[K,L]=x.useState(null),k=cy(r),[W,P]=x.useState(!1),Z=x.useRef(!1);x.useEffect(()=>{if(_)return Z0(_)},[_]),X0();const ne=x.useCallback(Q=>{const[ce,...ue]=k().map(be=>be.ref.current),[me]=ue.slice(-1),ve=document.activeElement;for(const be of Q)if(be===ve||(be==null||be.scrollIntoView({block:"nearest"}),be===ce&&T&&(T.scrollTop=0),be===me&&T&&(T.scrollTop=T.scrollHeight),be==null||be.focus(),document.activeElement!==ve))return},[k,T]),ie=x.useCallback(()=>ne([U,_]),[ne,U,_]);x.useEffect(()=>{W&&ie()},[W,ie]);const{onOpenChange:M,triggerPointerDownPosRef:H}=S;x.useEffect(()=>{if(_){let Q={x:0,y:0};const ce=me=>{var ve,be;Q={x:Math.abs(Math.round(me.pageX)-(((ve=H.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(me.pageY)-(((be=H.current)==null?void 0:be.y)??0))}},ue=me=>{Q.x<=10&&Q.y<=10?me.preventDefault():_.contains(me.target)||M(!1),document.removeEventListener("pointermove",ce),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",ue,{capture:!0})}}},[_,M,H]),x.useEffect(()=>{const Q=()=>M(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[M]);const[ae,de]=n6(Q=>{const ce=k().filter(ve=>!ve.disabled),ue=ce.find(ve=>ve.ref.current===document.activeElement),me=s6(ce,Q,ue);me&&setTimeout(()=>me.ref.current.focus())}),C=x.useCallback((Q,ce,ue)=>{const me=!Z.current&&!ue;(S.value!==void 0&&S.value===ce||me)&&(B(Q),me&&(Z.current=!0))},[S.value]),q=x.useCallback(()=>_==null?void 0:_.focus(),[_]),V=x.useCallback((Q,ce,ue)=>{const me=!Z.current&&!ue;(S.value!==void 0&&S.value===ce||me)&&L(Q)},[S.value]),Y=n==="popper"?Q2:UP,se=Y===Q2?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:w,hideWhenDetached:y,avoidCollisions:b}:{};return c.jsx(BP,{scope:r,content:_,viewport:T,onViewportChange:F,itemRefCallback:C,selectedItem:U,onItemLeave:q,itemTextRefCallback:V,focusSelectedItem:ie,selectedItemText:K,position:n,isPositioned:W,searchRef:ae,children:c.jsx(Wh,{as:xV,allowPinchZoom:!0,children:c.jsx(zh,{asChild:!0,trapped:S.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:We(s,Q=>{var ce;(ce=S.trigger)==null||ce.focus({preventScroll:!0}),Q.preventDefault()}),children:c.jsx(Ec,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:c.jsx(Y,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:Q=>Q.preventDefault(),...v,...se,onPlaced:()=>P(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:We(v.onKeyDown,Q=>{const ce=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!ce&&Q.key.length===1&&de(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let me=k().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const ve=Q.target,be=me.indexOf(ve);me=me.slice(be+1)}setTimeout(()=>ne(me)),Q.preventDefault()}})})})})})})});$P.displayName=wV;var bV="SelectItemAlignedPosition",UP=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=dl(vc,r),o=fl(vc,r),[a,l]=x.useState(null),[u,d]=x.useState(null),h=$t(t,D=>d(D)),m=cy(r),f=x.useRef(!1),w=x.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:v,focusSelectedItem:S}=o,_=x.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&y&&b&&v){const D=i.trigger.getBoundingClientRect(),U=u.getBoundingClientRect(),B=i.valueNode.getBoundingClientRect(),K=v.getBoundingClientRect();if(i.dir!=="rtl"){const ve=K.left-U.left,be=B.left-ve,Ne=D.left-be,Ue=D.width+Ne,R=Math.max(Ue,U.width),Te=window.innerWidth-gi,He=iN(be,[gi,Math.max(gi,Te-R)]);a.style.minWidth=Ue+"px",a.style.left=He+"px"}else{const ve=U.right-K.right,be=window.innerWidth-B.right-ve,Ne=window.innerWidth-D.right-be,Ue=D.width+Ne,R=Math.max(Ue,U.width),Te=window.innerWidth-gi,He=iN(be,[gi,Math.max(gi,Te-R)]);a.style.minWidth=Ue+"px",a.style.right=He+"px"}const L=m(),k=window.innerHeight-gi*2,W=y.scrollHeight,P=window.getComputedStyle(u),Z=parseInt(P.borderTopWidth,10),ne=parseInt(P.paddingTop,10),ie=parseInt(P.borderBottomWidth,10),M=parseInt(P.paddingBottom,10),H=Z+ne+W+M+ie,ae=Math.min(b.offsetHeight*5,H),de=window.getComputedStyle(y),C=parseInt(de.paddingTop,10),q=parseInt(de.paddingBottom,10),V=D.top+D.height/2-gi,Y=k-V,se=b.offsetHeight/2,Q=b.offsetTop+se,ce=Z+ne+Q,ue=H-ce;if(ce<=V){const ve=L.length>0&&b===L[L.length-1].ref.current;a.style.bottom="0px";const be=u.clientHeight-y.offsetTop-y.offsetHeight,Ne=Math.max(Y,se+(ve?q:0)+be+ie),Ue=ce+Ne;a.style.height=Ue+"px"}else{const ve=L.length>0&&b===L[0].ref.current;a.style.top="0px";const Ne=Math.max(V,Z+y.offsetTop+(ve?C:0)+se)+ue;a.style.height=Ne+"px",y.scrollTop=ce-V+y.offsetTop}a.style.margin=`${gi}px 0`,a.style.minHeight=ae+"px",a.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[m,i.trigger,i.valueNode,a,u,y,b,v,i.dir,n]);An(()=>_(),[_]);const[E,T]=x.useState();An(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const F=x.useCallback(D=>{D&&w.current===!0&&(_(),S==null||S(),w.current=!1)},[_,S]);return c.jsx(SV,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:F,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:c.jsx(Ct.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});UP.displayName=bV;var _V="SelectPopperPosition",Q2=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=gi,...i}=e,o=uy(r);return c.jsx(F0,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Q2.displayName=_V;var[SV,Eb]=Pd(vc,{}),X2="SelectViewport",qP=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=fl(X2,r),o=Eb(X2,r),a=$t(t,i.onViewportChange),l=x.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(ly.Slot,{scope:r,children:c.jsx(Ct.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:We(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const f=Math.abs(l.current-d.scrollTop);if(f>0){const w=window.innerHeight-gi*2,y=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),v=Math.max(y,b);if(v<w){const S=v+f,_=Math.min(w,S),E=S-_;h.style.height=_+"px",h.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});qP.displayName=X2;var zP="SelectGroup",[NV,EV]=Pd(zP),jV=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Bn();return c.jsx(NV,{scope:r,id:s,children:c.jsx(Ct.div,{role:"group","aria-labelledby":s,...n,ref:t})})});jV.displayName=zP;var VP="SelectLabel",WP=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=EV(VP,r);return c.jsx(Ct.div,{id:s.id,...n,ref:t})});WP.displayName=VP;var Qg="SelectItem",[AV,HP]=Pd(Qg),GP=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,a=dl(Qg,r),l=fl(Qg,r),u=a.value===n,[d,h]=x.useState(i??""),[m,f]=x.useState(!1),w=$t(t,S=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,S,n,s)}),y=Bn(),b=x.useRef("touch"),v=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(AV,{scope:r,value:n,disabled:s,textId:y,isSelected:u,onItemTextChange:x.useCallback(S=>{h(_=>_||((S==null?void 0:S.textContent)??"").trim())},[]),children:c.jsx(ly.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:c.jsx(Ct.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:We(o.onFocus,()=>f(!0)),onBlur:We(o.onBlur,()=>f(!1)),onClick:We(o.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:We(o.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:We(o.onPointerDown,S=>{b.current=S.pointerType}),onPointerMove:We(o.onPointerMove,S=>{var _;b.current=S.pointerType,s?(_=l.onItemLeave)==null||_.call(l):b.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:We(o.onPointerLeave,S=>{var _;S.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:We(o.onKeyDown,S=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&S.key===" "||(fV.includes(S.key)&&v(),S.key===" "&&S.preventDefault())})})})})});GP.displayName=Qg;var kf="SelectItemText",KP=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=dl(kf,r),a=fl(kf,r),l=HP(kf,r),u=gV(kf,r),[d,h]=x.useState(null),m=$t(t,v=>h(v),l.onItemTextChange,v=>{var S;return(S=a.itemTextRefCallback)==null?void 0:S.call(a,v,l.value,l.disabled)}),f=d==null?void 0:d.textContent,w=x.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=u;return An(()=>(y(w),()=>b(w)),[y,b,w]),c.jsxs(c.Fragment,{children:[c.jsx(Ct.span,{id:l.textId,...i,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Nc.createPortal(i.children,o.valueNode):null]})});KP.displayName=kf;var JP="SelectItemIndicator",YP=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return HP(JP,r).isSelected?c.jsx(Ct.span,{"aria-hidden":!0,...n,ref:t}):null});YP.displayName=JP;var Z2="SelectScrollUpButton",QP=x.forwardRef((e,t)=>{const r=fl(Z2,e.__scopeSelect),n=Eb(Z2,e.__scopeSelect),[s,i]=x.useState(!1),o=$t(t,n.onScrollButtonChange);return An(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?c.jsx(ZP,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});QP.displayName=Z2;var ew="SelectScrollDownButton",XP=x.forwardRef((e,t)=>{const r=fl(ew,e.__scopeSelect),n=Eb(ew,e.__scopeSelect),[s,i]=x.useState(!1),o=$t(t,n.onScrollButtonChange);return An(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?c.jsx(ZP,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});XP.displayName=ew;var ZP=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=fl("SelectScrollButton",r),o=x.useRef(null),a=cy(r),l=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),An(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(Ct.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:We(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:We(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:We(s.onPointerLeave,()=>{l()})})}),CV="SelectSeparator",e6=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return c.jsx(Ct.div,{"aria-hidden":!0,...n,ref:t})});e6.displayName=CV;var tw="SelectArrow",kV=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=uy(r),i=dl(tw,r),o=fl(tw,r);return i.open&&o.position==="popper"?c.jsx(B0,{...s,...n,ref:t}):null});kV.displayName=tw;var PV="SelectBubbleInput",t6=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=x.useRef(null),i=$t(n,s),o=uV(t);return x.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(h)}},[o,t]),c.jsx(Ct.select,{...r,style:{..._j,...r.style},ref:i,defaultValue:t})});t6.displayName=PV;function r6(e){return e===""||e===void 0}function n6(e){const t=ms(e),r=x.useRef(""),n=x.useRef(0),s=x.useCallback(o=>{const a=r.current+o;t(a),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function s6(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=TV(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function TV(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var RV=TP,i6=LP,LV=IP,OV=DP,IV=MP,o6=FP,DV=qP,a6=WP,l6=GP,MV=KP,FV=YP,c6=QP,u6=XP,d6=e6;const so=RV,io=LV,Ei=x.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(i6,{ref:n,className:Qe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,c.jsx(OV,{asChild:!0,children:c.jsx(Wj,{className:"h-4 w-4 opacity-50"})})]}));Ei.displayName=i6.displayName;const f6=x.forwardRef(({className:e,...t},r)=>c.jsx(c6,{ref:r,className:Qe("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(L7,{className:"h-4 w-4"})}));f6.displayName=c6.displayName;const h6=x.forwardRef(({className:e,...t},r)=>c.jsx(u6,{ref:r,className:Qe("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(Wj,{className:"h-4 w-4"})}));h6.displayName=u6.displayName;const ji=x.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>c.jsx(IV,{children:c.jsxs(o6,{ref:s,className:Qe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[c.jsx(f6,{}),c.jsx(DV,{className:Qe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c.jsx(h6,{})]})}));ji.displayName=o6.displayName;const BV=x.forwardRef(({className:e,...t},r)=>c.jsx(a6,{ref:r,className:Qe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));BV.displayName=a6.displayName;const os=x.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(l6,{ref:n,className:Qe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(FV,{children:c.jsx(Oh,{className:"h-4 w-4"})})}),c.jsx(MV,{children:t})]}));os.displayName=l6.displayName;const $V=x.forwardRef(({className:e,...t},r)=>c.jsx(d6,{ref:r,className:Qe("-mx-1 my-1 h-px bg-muted",e),...t}));$V.displayName=d6.displayName;const Ho=x.forwardRef(({className:e,...t},r)=>c.jsx("textarea",{className:Qe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ho.displayName="Textarea";var oN=1,UV=.9,qV=.8,zV=.17,Kv=.1,Jv=.999,VV=.9999,WV=.99,HV=/[\\\/_+.#"@\[\(\{&]/,GV=/[\\\/_+.#"@\[\(\{&]/g,KV=/[\s-]/,p6=/[\s-]/g;function rw(e,t,r,n,s,i,o){if(i===t.length)return s===e.length?oN:WV;var a=`${s},${i}`;if(o[a]!==void 0)return o[a];for(var l=n.charAt(i),u=r.indexOf(l,s),d=0,h,m,f,w;u>=0;)h=rw(e,t,r,n,u+1,i+1,o),h>d&&(u===s?h*=oN:HV.test(e.charAt(u-1))?(h*=qV,f=e.slice(s,u-1).match(GV),f&&s>0&&(h*=Math.pow(Jv,f.length))):KV.test(e.charAt(u-1))?(h*=UV,w=e.slice(s,u-1).match(p6),w&&s>0&&(h*=Math.pow(Jv,w.length))):(h*=zV,s>0&&(h*=Math.pow(Jv,u-s))),e.charAt(u)!==t.charAt(i)&&(h*=VV)),(h<Kv&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(m=rw(e,t,r,n,u+1,i+2,o),m*Kv>h&&(h=m*Kv)),h>d&&(d=h),u=r.indexOf(l,u+1);return o[a]=d,d}function aN(e){return e.toLowerCase().replace(p6," ")}function JV(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,rw(e,t,aN(e),aN(t),0,0,{})}var YV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hl=YV.reduce((e,t)=>{const r=Sb(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),bf='[cmdk-group=""]',Yv='[cmdk-group-items=""]',QV='[cmdk-group-heading=""]',m6='[cmdk-item=""]',lN=`${m6}:not([aria-disabled="true"])`,nw="cmdk-item-select",lu="data-value",XV=(e,t,r)=>JV(e,t,r),g6=x.createContext(void 0),Kh=()=>x.useContext(g6),y6=x.createContext(void 0),jb=()=>x.useContext(y6),v6=x.createContext(void 0),w6=x.forwardRef((e,t)=>{let r=cu(()=>{var C,q;return{search:"",value:(q=(C=e.value)!=null?C:e.defaultValue)!=null?q:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=cu(()=>new Set),s=cu(()=>new Map),i=cu(()=>new Map),o=cu(()=>new Set),a=x6(e),{label:l,children:u,value:d,onValueChange:h,filter:m,shouldFilter:f,loop:w,disablePointerSelection:y=!1,vimBindings:b=!0,...v}=e,S=Bn(),_=Bn(),E=Bn(),T=x.useRef(null),F=cW();wc(()=>{if(d!==void 0){let C=d.trim();r.current.value=C,D.emit()}},[d]),wc(()=>{F(6,W)},[]);let D=x.useMemo(()=>({subscribe:C=>(o.current.add(C),()=>o.current.delete(C)),snapshot:()=>r.current,setState:(C,q,V)=>{var Y,se,Q,ce;if(!Object.is(r.current[C],q)){if(r.current[C]=q,C==="search")k(),K(),F(1,L);else if(C==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ue=document.getElementById(E);ue?ue.focus():(Y=document.getElementById(S))==null||Y.focus()}if(F(7,()=>{var ue;r.current.selectedItemId=(ue=P())==null?void 0:ue.id,D.emit()}),V||F(5,W),((se=a.current)==null?void 0:se.value)!==void 0){let ue=q??"";(ce=(Q=a.current).onValueChange)==null||ce.call(Q,ue);return}}D.emit()}},emit:()=>{o.current.forEach(C=>C())}}),[]),U=x.useMemo(()=>({value:(C,q,V)=>{var Y;q!==((Y=i.current.get(C))==null?void 0:Y.value)&&(i.current.set(C,{value:q,keywords:V}),r.current.filtered.items.set(C,B(q,V)),F(2,()=>{K(),D.emit()}))},item:(C,q)=>(n.current.add(C),q&&(s.current.has(q)?s.current.get(q).add(C):s.current.set(q,new Set([C]))),F(3,()=>{k(),K(),r.current.value||L(),D.emit()}),()=>{i.current.delete(C),n.current.delete(C),r.current.filtered.items.delete(C);let V=P();F(4,()=>{k(),(V==null?void 0:V.getAttribute("id"))===C&&L(),D.emit()})}),group:C=>(s.current.has(C)||s.current.set(C,new Set),()=>{i.current.delete(C),s.current.delete(C)}),filter:()=>a.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:S,inputId:E,labelId:_,listInnerRef:T}),[]);function B(C,q){var V,Y;let se=(Y=(V=a.current)==null?void 0:V.filter)!=null?Y:XV;return C?se(C,r.current.search,q):0}function K(){if(!r.current.search||a.current.shouldFilter===!1)return;let C=r.current.filtered.items,q=[];r.current.filtered.groups.forEach(Y=>{let se=s.current.get(Y),Q=0;se.forEach(ce=>{let ue=C.get(ce);Q=Math.max(ue,Q)}),q.push([Y,Q])});let V=T.current;Z().sort((Y,se)=>{var Q,ce;let ue=Y.getAttribute("id"),me=se.getAttribute("id");return((Q=C.get(me))!=null?Q:0)-((ce=C.get(ue))!=null?ce:0)}).forEach(Y=>{let se=Y.closest(Yv);se?se.appendChild(Y.parentElement===se?Y:Y.closest(`${Yv} > *`)):V.appendChild(Y.parentElement===V?Y:Y.closest(`${Yv} > *`))}),q.sort((Y,se)=>se[1]-Y[1]).forEach(Y=>{var se;let Q=(se=T.current)==null?void 0:se.querySelector(`${bf}[${lu}="${encodeURIComponent(Y[0])}"]`);Q==null||Q.parentElement.appendChild(Q)})}function L(){let C=Z().find(V=>V.getAttribute("aria-disabled")!=="true"),q=C==null?void 0:C.getAttribute(lu);D.setState("value",q||void 0)}function k(){var C,q,V,Y;if(!r.current.search||a.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let se=0;for(let Q of n.current){let ce=(q=(C=i.current.get(Q))==null?void 0:C.value)!=null?q:"",ue=(Y=(V=i.current.get(Q))==null?void 0:V.keywords)!=null?Y:[],me=B(ce,ue);r.current.filtered.items.set(Q,me),me>0&&se++}for(let[Q,ce]of s.current)for(let ue of ce)if(r.current.filtered.items.get(ue)>0){r.current.filtered.groups.add(Q);break}r.current.filtered.count=se}function W(){var C,q,V;let Y=P();Y&&(((C=Y.parentElement)==null?void 0:C.firstChild)===Y&&((V=(q=Y.closest(bf))==null?void 0:q.querySelector(QV))==null||V.scrollIntoView({block:"nearest"})),Y.scrollIntoView({block:"nearest"}))}function P(){var C;return(C=T.current)==null?void 0:C.querySelector(`${m6}[aria-selected="true"]`)}function Z(){var C;return Array.from(((C=T.current)==null?void 0:C.querySelectorAll(lN))||[])}function ne(C){let q=Z()[C];q&&D.setState("value",q.getAttribute(lu))}function ie(C){var q;let V=P(),Y=Z(),se=Y.findIndex(ce=>ce===V),Q=Y[se+C];(q=a.current)!=null&&q.loop&&(Q=se+C<0?Y[Y.length-1]:se+C===Y.length?Y[0]:Y[se+C]),Q&&D.setState("value",Q.getAttribute(lu))}function M(C){let q=P(),V=q==null?void 0:q.closest(bf),Y;for(;V&&!Y;)V=C>0?aW(V,bf):lW(V,bf),Y=V==null?void 0:V.querySelector(lN);Y?D.setState("value",Y.getAttribute(lu)):ie(C)}let H=()=>ne(Z().length-1),ae=C=>{C.preventDefault(),C.metaKey?H():C.altKey?M(1):ie(1)},de=C=>{C.preventDefault(),C.metaKey?ne(0):C.altKey?M(-1):ie(-1)};return x.createElement(hl.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:C=>{var q;(q=v.onKeyDown)==null||q.call(v,C);let V=C.nativeEvent.isComposing||C.keyCode===229;if(!(C.defaultPrevented||V))switch(C.key){case"n":case"j":{b&&C.ctrlKey&&ae(C);break}case"ArrowDown":{ae(C);break}case"p":case"k":{b&&C.ctrlKey&&de(C);break}case"ArrowUp":{de(C);break}case"Home":{C.preventDefault(),ne(0);break}case"End":{C.preventDefault(),H();break}case"Enter":{C.preventDefault();let Y=P();if(Y){let se=new Event(nw);Y.dispatchEvent(se)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:U.inputId,id:U.labelId,style:dW},l),dy(e,C=>x.createElement(y6.Provider,{value:D},x.createElement(g6.Provider,{value:U},C))))}),ZV=x.forwardRef((e,t)=>{var r,n;let s=Bn(),i=x.useRef(null),o=x.useContext(v6),a=Kh(),l=x6(e),u=(n=(r=l.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;wc(()=>{if(!u)return a.item(s,o==null?void 0:o.id)},[u]);let d=b6(s,i,[e.value,e.children,i],e.keywords),h=jb(),m=sl(F=>F.value&&F.value===d.current),f=sl(F=>u||a.filter()===!1?!0:F.search?F.filtered.items.get(s)>0:!0);x.useEffect(()=>{let F=i.current;if(!(!F||e.disabled))return F.addEventListener(nw,w),()=>F.removeEventListener(nw,w)},[f,e.onSelect,e.disabled]);function w(){var F,D;y(),(D=(F=l.current).onSelect)==null||D.call(F,d.current)}function y(){h.setState("value",d.current,!0)}if(!f)return null;let{disabled:b,value:v,onSelect:S,forceMount:_,keywords:E,...T}=e;return x.createElement(hl.div,{ref:Qn(i,t),...T,id:s,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!m,"data-disabled":!!b,"data-selected":!!m,onPointerMove:b||a.getDisablePointerSelection()?void 0:y,onClick:b?void 0:w},e.children)}),eW=x.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...i}=e,o=Bn(),a=x.useRef(null),l=x.useRef(null),u=Bn(),d=Kh(),h=sl(f=>s||d.filter()===!1?!0:f.search?f.filtered.groups.has(o):!0);wc(()=>d.group(o),[]),b6(o,a,[e.value,e.heading,l]);let m=x.useMemo(()=>({id:o,forceMount:s}),[s]);return x.createElement(hl.div,{ref:Qn(a,t),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&x.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),dy(e,f=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},x.createElement(v6.Provider,{value:m},f))))}),tW=x.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=x.useRef(null),i=sl(o=>!o.search);return!r&&!i?null:x.createElement(hl.div,{ref:Qn(s,t),...n,"cmdk-separator":"",role:"separator"})}),rW=x.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,i=jb(),o=sl(u=>u.search),a=sl(u=>u.selectedItemId),l=Kh();return x.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),x.createElement(hl.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:s?e.value:o,onChange:u=>{s||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),nW=x.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,i=x.useRef(null),o=x.useRef(null),a=sl(u=>u.selectedItemId),l=Kh();return x.useEffect(()=>{if(o.current&&i.current){let u=o.current,d=i.current,h,m=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let f=u.offsetHeight;d.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(h),m.unobserve(u)}}},[]),x.createElement(hl.div,{ref:Qn(i,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":n,id:l.listId},dy(e,u=>x.createElement("div",{ref:Qn(o,l.listInnerRef),"cmdk-list-sizer":""},u)))}),sW=x.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:i,container:o,...a}=e;return x.createElement(vb,{open:r,onOpenChange:n},x.createElement(wb,{container:o},x.createElement(oy,{"cmdk-overlay":"",className:s}),x.createElement(ay,{"aria-label":e.label,"cmdk-dialog":"",className:i},x.createElement(w6,{ref:t,...a}))))}),iW=x.forwardRef((e,t)=>sl(r=>r.filtered.count===0)?x.createElement(hl.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),oW=x.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...i}=e;return x.createElement(hl.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},dy(e,o=>x.createElement("div",{"aria-hidden":!0},o)))}),ys=Object.assign(w6,{List:nW,Item:ZV,Input:rW,Group:eW,Separator:tW,Dialog:sW,Empty:iW,Loading:oW});function aW(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function lW(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function x6(e){let t=x.useRef(e);return wc(()=>{t.current=e}),t}var wc=typeof window>"u"?x.useEffect:x.useLayoutEffect;function cu(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function sl(e){let t=jb(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function b6(e,t,r,n=[]){let s=x.useRef(),i=Kh();return wc(()=>{var o;let a=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():s.current}})(),l=n.map(u=>u.trim());i.value(e,a,l),(o=t.current)==null||o.setAttribute(lu,a),s.current=a}),s}var cW=()=>{let[e,t]=x.useState(),r=cu(()=>new Map);return wc(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function uW(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function dy({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(uW(t),{ref:t.ref},r(t.props.children)):r(t)}var dW={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const _6=x.forwardRef(({className:e,...t},r)=>c.jsx(ys,{ref:r,className:Qe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));_6.displayName=ys.displayName;const S6=x.forwardRef(({className:e,...t},r)=>c.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[c.jsx(Yj,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),c.jsx(ys.Input,{ref:r,className:Qe("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));S6.displayName=ys.Input.displayName;const fW=x.forwardRef(({className:e,...t},r)=>c.jsx(ys.List,{ref:r,className:Qe("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));fW.displayName=ys.List.displayName;const N6=x.forwardRef((e,t)=>c.jsx(ys.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));N6.displayName=ys.Empty.displayName;const E6=x.forwardRef(({className:e,...t},r)=>c.jsx(ys.Group,{ref:r,className:Qe("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));E6.displayName=ys.Group.displayName;const hW=x.forwardRef(({className:e,...t},r)=>c.jsx(ys.Separator,{ref:r,className:Qe("-mx-1 h-px bg-border",e),...t}));hW.displayName=ys.Separator.displayName;const j6=x.forwardRef(({className:e,...t},r)=>c.jsx(ys.Item,{ref:r,className:Qe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));j6.displayName=ys.Item.displayName;function pW(e){const t=mW(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,a=x.Children.toArray(i),l=a.find(yW);if(l){const u=l.props.children,d=a.map(h=>h===l?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return c.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function mW(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=wW(s),a=vW(i,s.props);return s.type!==x.Fragment&&(a.ref=n?Qn(n,o):o),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gW=Symbol("radix.slottable");function yW(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gW}function vW(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function wW(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var fy="Popover",[A6]=Oi(fy,[cl]),Jh=cl(),[xW,pl]=A6(fy),C6=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,a=Jh(t),l=x.useRef(null),[u,d]=x.useState(!1),[h,m]=hc({prop:n,defaultProp:s??!1,onChange:i,caller:fy});return c.jsx(Gx,{...a,children:c.jsx(xW,{scope:t,contentId:Bn(),triggerRef:l,open:h,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(f=>!f),[m]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:o,children:r})})};C6.displayName=fy;var k6="PopoverAnchor",bW=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=pl(k6,r),i=Jh(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return x.useEffect(()=>(o(),()=>a()),[o,a]),c.jsx(Dh,{...i,...n,ref:t})});bW.displayName=k6;var P6="PopoverTrigger",T6=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=pl(P6,r),i=Jh(r),o=$t(t,s.triggerRef),a=c.jsx(Ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":D6(s.open),...n,ref:o,onClick:We(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:c.jsx(Dh,{asChild:!0,...i,children:a})});T6.displayName=P6;var Ab="PopoverPortal",[_W,SW]=A6(Ab,{forceMount:void 0}),R6=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=pl(Ab,t);return c.jsx(_W,{scope:t,forceMount:r,children:c.jsx(ni,{present:r||i.open,children:c.jsx(bd,{asChild:!0,container:s,children:n})})})};R6.displayName=Ab;var fd="PopoverContent",L6=x.forwardRef((e,t)=>{const r=SW(fd,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=pl(fd,e.__scopePopover);return c.jsx(ni,{present:n||i.open,children:i.modal?c.jsx(EW,{...s,ref:t}):c.jsx(jW,{...s,ref:t})})});L6.displayName=fd;var NW=pW("PopoverContent.RemoveScroll"),EW=x.forwardRef((e,t)=>{const r=pl(fd,e.__scopePopover),n=x.useRef(null),s=$t(t,n),i=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return Z0(o)},[]),c.jsx(Wh,{as:NW,allowPinchZoom:!0,children:c.jsx(O6,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:We(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:We(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:We(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),jW=x.forwardRef((e,t)=>{const r=pl(fd,e.__scopePopover),n=x.useRef(!1),s=x.useRef(!1);return c.jsx(O6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),O6=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...h}=e,m=pl(fd,r),f=Jh(r);return X0(),c.jsx(zh,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Ec,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:c.jsx(F0,{"data-state":D6(m.open),role:"dialog",id:m.contentId,...f,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),I6="PopoverClose",AW=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=pl(I6,r);return c.jsx(Ct.button,{type:"button",...n,ref:t,onClick:We(e.onClick,()=>s.onOpenChange(!1))})});AW.displayName=I6;var CW="PopoverArrow",kW=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Jh(r);return c.jsx(B0,{...s,...n,ref:t})});kW.displayName=CW;function D6(e){return e?"open":"closed"}var PW=C6,TW=T6,RW=R6,M6=L6;const LW=PW,OW=TW,F6=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>c.jsx(RW,{children:c.jsx(M6,{ref:s,align:t,sideOffset:r,className:Qe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));F6.displayName=M6.displayName;function vh({value:e,onValueChange:t,options:r,placeholder:n="Select...",searchPlaceholder:s="Search...",onAddNew:i,addNewLabel:o="Add New",className:a}){var d;const[l,u]=x.useState(!1);return c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(LW,{open:l,onOpenChange:u,children:[c.jsx(OW,{asChild:!0,children:c.jsxs(Be,{variant:"outline",role:"combobox","aria-expanded":l,className:Qe("w-full justify-between",a),children:[e?(d=r.find(h=>h.value===e))==null?void 0:d.label:n,c.jsx(O7,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(F6,{className:"w-[300px] p-0 bg-background border-border z-50",children:c.jsxs(_6,{className:"bg-background",children:[c.jsx(S6,{placeholder:s,className:"bg-background"}),c.jsx(N6,{children:"No results found."}),c.jsx(E6,{className:"max-h-64 overflow-auto",children:r.map(h=>c.jsxs(j6,{value:h.label,onSelect:()=>{t(h.value),u(!1)},className:"cursor-pointer hover:bg-accent",children:[c.jsx(Oh,{className:Qe("mr-2 h-4 w-4",e===h.value?"opacity-100":"opacity-0")}),h.label]},h.value))})]})})]}),i&&c.jsx(Be,{type:"button",variant:"outline",size:"icon",onClick:i,className:"shrink-0",children:c.jsx(Pi,{className:"h-4 w-4"})})]})}function B6({open:e,onOpenChange:t,onCustomerAdded:r}){const{toast:n}=gs(),{factoryId:s}=mo(),[i,o]=x.useState({customer_name:"",customer_phone:""}),a=async l=>{var u,d;if(l.preventDefault(),!i.customer_name||!s){n({title:"Error",description:"Name is required",variant:"destructive"});return}try{await sb.create({factory_id:s,name:i.customer_name,phone:i.customer_phone||void 0}),n({title:"Customer added"}),r(i.customer_name,i.customer_phone),o({customer_name:"",customer_phone:""}),t(!1)}catch(h){n({title:"Error",description:((d=(u=h.response)==null?void 0:u.data)==null?void 0:d.detail)||"Failed to add customer",variant:"destructive"})}};return c.jsx(dn,{open:e,onOpenChange:t,children:c.jsxs(tn,{className:"sm:max-w-[425px]",children:[c.jsx(rn,{children:c.jsx(nn,{children:"Add New Customer"})}),c.jsxs("form",{onSubmit:a,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"customer_name",children:"Customer Name *"}),c.jsx(Ge,{id:"customer_name",value:i.customer_name,onChange:l=>o({...i,customer_name:l.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"customer_phone",children:"Phone Number"}),c.jsx(Ge,{id:"customer_phone",type:"tel",value:i.customer_phone,onChange:l=>o({...i,customer_phone:l.target.value})})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Be,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),c.jsx(Be,{type:"submit",children:"Save Customer"})]})]})]})})}function $6({open:e,onOpenChange:t,onEmployeeAdded:r}){const{toast:n}=gs(),{factoryId:s}=mo(),[i,o]=x.useState({employee_name:""}),a=async l=>{var u,d;if(l.preventDefault(),!i.employee_name||!s){n({title:"Error",description:"Employee name is required",variant:"destructive"});return}try{await qo.create({factory_id:s,name:i.employee_name,is_active:!0}),n({title:"Employee added"}),r(i.employee_name),o({employee_name:""}),t(!1)}catch(h){n({title:"Error",description:((d=(u=h.response)==null?void 0:u.data)==null?void 0:d.detail)||"Failed to add employee",variant:"destructive"})}};return c.jsx(dn,{open:e,onOpenChange:t,children:c.jsxs(tn,{className:"sm:max-w-[425px]",children:[c.jsx(rn,{children:c.jsx(nn,{children:"Add New Employee"})}),c.jsxs("form",{onSubmit:a,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"employee_name",children:"Employee Name *"}),c.jsx(Ge,{id:"employee_name",value:i.employee_name,onChange:l=>o({...i,employee_name:l.target.value}),required:!0})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Be,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),c.jsx(Be,{type:"submit",children:"Save Employee"})]})]})]})})}function IW({type:e,onClose:t,onSuccess:r}){const{toast:n}=gs(),{factoryId:s}=mo(),[i,o]=x.useState([]),[a,l]=x.useState([]),[u,d]=x.useState([]),[h,m]=x.useState([]),[f,w]=x.useState(!1),[y,b]=x.useState(!1),[v,S]=x.useState({date:new Date().toISOString().split("T")[0],customer_name:"",customer_phone:"",product_id:"",quantity_sold:"",rate_per_brick:"",amount_received:"",notes:""}),[_,E]=x.useState({date:new Date().toISOString().split("T")[0],product_id:"",punches:"",quantity:"",remarks:""}),[T,F]=x.useState({date:new Date().toISOString().split("T")[0],material_id:"",quantity_used:"",purpose:""}),[D,U]=x.useState({date:new Date().toISOString().split("T")[0],employee_name:"",amount:"",payment_type:"",notes:""});x.useEffect(()=>{e&&s&&B()},[e,s]);const B=async()=>{if(s)try{const P=await oc.getByFactory(s);o(P||[]);const Z=await Cs.getByFactory(s);l(Z||[]);const ne=await sb.getByFactory(s);d(ne.map(H=>({value:H.name,label:H.name,phone:H.phone||""})));const M=(await qo.getByFactory(s)).filter(H=>H.is_active);m(M.map(H=>({value:H.name,label:H.name})))}catch(P){console.error("Error loading initial data:",P)}},K=async P=>{var Z,ne;if(P.preventDefault(),!!s)try{await Ra.create({factory_id:s,date:v.date,customer_name:v.customer_name,customer_phone:v.customer_phone||void 0,product_id:v.product_id,quantity_sold:Number(v.quantity_sold),rate_per_brick:Number(v.rate_per_brick),total_amount:Number(v.quantity_sold)*Number(v.rate_per_brick),amount_received:Number(v.amount_received||0),balance_due:Number(v.quantity_sold)*Number(v.rate_per_brick)-Number(v.amount_received||0),notes:v.notes||void 0}),n({title:"Sale added successfully"}),r(),t()}catch(ie){n({title:"Error",description:((ne=(Z=ie.response)==null?void 0:Z.data)==null?void 0:ne.detail)||"Failed to add sale",variant:"destructive"})}},L=async P=>{var ne,ie;if(P.preventDefault(),!s)return;const Z=i.find(M=>M.id===_.product_id);try{await ju.create({factory_id:s,date:_.date,product_id:_.product_id,product_name:(Z==null?void 0:Z.name)||"",punches:Number(_.punches)||void 0,quantity:Number(_.quantity),remarks:_.remarks||void 0}),n({title:"Production recorded successfully"}),r(),t()}catch(M){n({title:"Error",description:((ie=(ne=M.response)==null?void 0:ne.data)==null?void 0:ie.detail)||"Failed to record production",variant:"destructive"})}},k=async P=>{var Z,ne;if(P.preventDefault(),!!s)try{await Cs.createUsage({factory_id:s,date:T.date,material_id:T.material_id,quantity_used:Number(T.quantity_used),purpose:T.purpose}),n({title:"Material usage recorded successfully"}),r(),t()}catch(ie){n({title:"Error",description:((ne=(Z=ie.response)==null?void 0:Z.data)==null?void 0:ne.detail)||"Failed to record usage",variant:"destructive"})}},W=async P=>{var Z,ne;if(P.preventDefault(),!!s)try{await qo.createPayment({factory_id:s,date:D.date,employee_name:D.employee_name,amount:Number(D.amount),payment_type:D.payment_type,notes:D.notes||void 0}),n({title:"Payment recorded successfully"}),r(),t()}catch(ie){n({title:"Error",description:((ne=(Z=ie.response)==null?void 0:Z.data)==null?void 0:ne.detail)||"Failed to record payment",variant:"destructive"})}};return c.jsxs(c.Fragment,{children:[c.jsx(dn,{open:e==="sale",onOpenChange:P=>!P&&t(),children:c.jsxs(tn,{children:[c.jsx(rn,{children:c.jsx(nn,{children:"Add New Sale"})}),c.jsxs("form",{onSubmit:K,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{children:"Date"}),c.jsx(Ge,{type:"date",value:v.date,onChange:P=>S({...v,date:P.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Product Type"}),c.jsxs(so,{value:v.product_id,onValueChange:P=>S({...v,product_id:P}),children:[c.jsx(Ei,{children:c.jsx(io,{placeholder:"Select type"})}),c.jsx(ji,{children:i.map(P=>c.jsx(os,{value:P.id,children:P.name},P.id))})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{children:"Customer Name"}),c.jsx(vh,{value:v.customer_name,onValueChange:P=>{const Z=u.find(ne=>ne.value===P);S({...v,customer_name:P,customer_phone:(Z==null?void 0:Z.phone)||""})},options:u,placeholder:"Select customer...",onAddNew:()=>w(!0)})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Phone"}),c.jsx(Ge,{value:v.customer_phone,readOnly:!0,className:"bg-muted"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{children:"Quantity"}),c.jsx(Ge,{type:"number",value:v.quantity_sold,onChange:P=>S({...v,quantity_sold:P.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Rate per Unit ()"}),c.jsx(Ge,{type:"number",step:"0.01",value:v.rate_per_brick,onChange:P=>S({...v,rate_per_brick:P.target.value}),required:!0})]})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Amount Received ()"}),c.jsx(Ge,{type:"number",step:"0.01",value:v.amount_received,onChange:P=>S({...v,amount_received:P.target.value})})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Notes"}),c.jsx(Ho,{value:v.notes,onChange:P=>S({...v,notes:P.target.value})})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Be,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),c.jsx(Be,{type:"submit",children:"Save Sale"})]})]})]})}),c.jsx(dn,{open:e==="production",onOpenChange:P=>!P&&t(),children:c.jsxs(tn,{children:[c.jsx(rn,{children:c.jsx(nn,{children:"New Production Entry"})}),c.jsxs("form",{onSubmit:L,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{children:"Date"}),c.jsx(Ge,{type:"date",value:_.date,onChange:P=>E({..._,date:P.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Brick Type"}),c.jsxs(so,{value:_.product_id,onValueChange:P=>E({..._,product_id:P}),children:[c.jsx(Ei,{children:c.jsx(io,{placeholder:"Select type"})}),c.jsx(ji,{children:i.map(P=>c.jsx(os,{value:P.id,children:P.name},P.id))})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{children:"Number of Punches"}),c.jsx(Ge,{type:"number",value:_.punches,onChange:P=>E({..._,punches:P.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Actual Quantity Produced"}),c.jsx(Ge,{type:"number",value:_.quantity,onChange:P=>E({..._,quantity:P.target.value}),required:!0})]})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Remarks"}),c.jsx(Ho,{value:_.remarks,onChange:P=>E({..._,remarks:P.target.value})})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Be,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),c.jsx(Be,{type:"submit",children:"Save Production"})]})]})]})}),c.jsx(dn,{open:e==="usage",onOpenChange:P=>!P&&t(),children:c.jsxs(tn,{children:[c.jsx(rn,{children:c.jsx(nn,{children:"Add Material Usage"})}),c.jsxs("form",{onSubmit:k,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{children:"Date"}),c.jsx(Ge,{type:"date",value:T.date,onChange:P=>F({...T,date:P.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Material"}),c.jsxs(so,{value:T.material_id,onValueChange:P=>F({...T,material_id:P}),children:[c.jsx(Ei,{children:c.jsx(io,{placeholder:"Select material"})}),c.jsx(ji,{children:a.map(P=>c.jsx(os,{value:P.id,children:P.material_name},P.id))})]})]})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Quantity Used"}),c.jsx(Ge,{type:"number",step:"0.01",value:T.quantity_used,onChange:P=>F({...T,quantity_used:P.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Reason for Use"}),c.jsx(Ge,{value:T.purpose,onChange:P=>F({...T,purpose:P.target.value}),required:!0})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Be,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),c.jsx(Be,{type:"submit",children:"Save Usage"})]})]})]})}),c.jsx(dn,{open:e==="payment",onOpenChange:P=>!P&&t(),children:c.jsxs(tn,{children:[c.jsx(rn,{children:c.jsx(nn,{children:"Add Employee Payment"})}),c.jsxs("form",{onSubmit:W,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{children:"Date"}),c.jsx(Ge,{type:"date",value:D.date,onChange:P=>U({...D,date:P.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Payment Type"}),c.jsxs(so,{value:D.payment_type,onValueChange:P=>U({...D,payment_type:P}),children:[c.jsx(Ei,{children:c.jsx(io,{placeholder:"Select type"})}),c.jsxs(ji,{children:[c.jsx(os,{value:"Salary",children:"Salary"}),c.jsx(os,{value:"Advance",children:"Advance"}),c.jsx(os,{value:"Bonus",children:"Bonus"}),c.jsx(os,{value:"Incentive",children:"Incentive"})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{children:"Employee Name"}),c.jsx(vh,{value:D.employee_name,onValueChange:P=>U({...D,employee_name:P}),options:h,placeholder:"Select employee...",onAddNew:()=>b(!0)})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Amount ()"}),c.jsx(Ge,{type:"number",step:"0.01",value:D.amount,onChange:P=>U({...D,amount:P.target.value}),required:!0})]})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Notes"}),c.jsx(Ho,{value:D.notes,onChange:P=>U({...D,notes:P.target.value})})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Be,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),c.jsx(Be,{type:"submit",children:"Save Payment"})]})]})]})}),c.jsx(B6,{open:f,onOpenChange:w,onCustomerAdded:(P,Z)=>{S({...v,customer_name:P,customer_phone:Z}),B()}}),c.jsx($6,{open:y,onOpenChange:b,onEmployeeAdded:P=>{U({...D,employee_name:P}),B()}})]})}const Yh=()=>{const{canPerformAction:e,setShowUpgradeModal:t,isTrialExpired:r,isActive:n}=qh();return{guardAction:o=>{e()?o():t(!0)},isReadOnly:r&&!n,showUpgradePrompt:()=>t(!0)}},fm=({icon:e,label:t,onClick:r,disabled:n})=>c.jsxs("button",{onClick:r,className:`card-dark p-4 text-center hover-scale relative ${n?"opacity-60":""}`,disabled:n,children:[n&&c.jsx("div",{className:"absolute top-2 right-2",children:c.jsx(Kj,{className:"h-4 w-4 text-muted-foreground"})}),c.jsx(e,{className:"h-8 w-8 text-primary mx-auto mb-2"}),c.jsx("p",{className:"text-sm font-medium text-foreground",children:t})]}),DW=()=>{const[e,t]=x.useState(null),[r,n]=x.useState([]),[s,i]=x.useState([]),[o,a]=x.useState(null),[l,u]=x.useState({monthlyRevenue:0,outstandingReceivables:0}),[d,h]=x.useState(0),{user:m}=kd(),{guardAction:f,isReadOnly:w}=Yh(),y=T=>{f(()=>t(T))},b=async()=>{if(m)try{const T=await ph.getAll();T.length>0&&a(T[0].id)}catch(T){console.error("Error loading factory:",T)}},v=async()=>{if(o)try{const T=new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],F=new Date(Date.now()-7*24*60*60*1e3).toISOString().split("T")[0],D=await oc.getByFactory(o),U=await ju.getByFactory(o),B=await Ra.getByFactory(o),K=(D||[]).map(ie=>{const M=(U==null?void 0:U.filter(ae=>ae.product_id===ie.id).reduce((ae,de)=>ae+de.quantity,0))||0,H=(B==null?void 0:B.filter(ae=>ae.product_id===ie.id).reduce((ae,de)=>ae+de.quantity_sold,0))||0;return{id:ie.id,name:ie.name,stock:M-H}});n(K);const L=await Ra.getByFactory(o,T),k=(L==null?void 0:L.reduce((ie,M)=>ie+M.total_amount,0))||0,W=(B==null?void 0:B.reduce((ie,M)=>ie+M.balance_due,0))||0;u({monthlyRevenue:k,outstandingReceivables:W});const P=await Cs.getByFactory(o);i(P||[]);const Z=await qo.getPayments(o,F),ne=(Z==null?void 0:Z.reduce((ie,M)=>ie+M.amount,0))||0;h(ne)}catch(T){console.error("Error loading dashboard data:",T)}};x.useEffect(()=>{b()},[]),x.useEffect(()=>{o&&v()},[o]);const S=T=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(T),_=()=>{window.dispatchEvent(new CustomEvent("changeTab",{detail:{tab:"sales",showDuesOnly:!0}}))},E=s.reduce((T,F)=>T+F.current_stock_qty*F.average_cost_per_unit,0);return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[w&&c.jsx("div",{className:"bg-destructive/20 border border-destructive/30 rounded-lg p-4 animate-fade-in",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-destructive-foreground font-medium",children:"Your free trial has ended  Upgrade to continue adding new entries."}),c.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("changeTab",{detail:"subscription"})),className:"bg-primary text-primary-foreground px-4 py-2 rounded-md font-medium hover:bg-primary/90 transition-colors",children:"Upgrade Now"})]})}),c.jsxs("section",{className:"animate-fade-in",children:[c.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Sales Summary"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx("div",{className:"card-metric",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-secondary",children:"Monthly Total Sales"}),c.jsx("p",{className:"text-metric text-success",children:S(l.monthlyRevenue)})]}),c.jsx(ad,{className:"h-12 w-12 text-success"})]})}),c.jsx("div",{className:"card-metric cursor-pointer hover:ring-2 hover:ring-warning transition-all",onClick:_,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-secondary",children:"Outstanding (Click to view)"}),c.jsx("p",{className:"text-metric text-warning",children:S(l.outstandingReceivables)})]}),c.jsx(Fg,{className:"h-12 w-12 text-warning"})]})})]})]}),c.jsxs("section",{className:"animate-slide-up",children:[c.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Production Overview"}),c.jsx("div",{className:"card-metric",children:r.length===0?c.jsx("div",{className:"text-center text-muted-foreground py-4",children:"No brick types defined. Add brick types in Settings."}):c.jsx("div",{className:`grid gap-6 ${r.length>2?"grid-cols-2 md:grid-cols-3":"grid-cols-2"}`,children:r.map(T=>c.jsxs("div",{className:"text-center",children:[c.jsx(co,{className:"h-8 w-8 text-warning mx-auto mb-2"}),c.jsx("p",{className:"text-secondary",children:T.name}),c.jsx("p",{className:"text-2xl font-bold text-foreground",children:T.stock.toLocaleString()}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"In Stock"})]},T.id))})})]}),c.jsxs("section",{className:"animate-slide-up",children:[c.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Material Stock Overview"}),c.jsx("div",{className:"card-metric",children:s.length===0?c.jsx("div",{className:"text-center text-muted-foreground py-4",children:"No materials defined. Add materials in Settings."}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`grid gap-6 ${s.length>3?"grid-cols-2 md:grid-cols-4":"grid-cols-1 md:grid-cols-3"}`,children:s.map(T=>c.jsxs("div",{className:"text-center",children:[c.jsx(co,{className:"h-8 w-8 text-primary mx-auto mb-2"}),c.jsx("p",{className:"text-secondary",children:T.material_name}),c.jsxs("p",{className:"text-xl font-bold text-foreground",children:[T.current_stock_qty," ",T.unit]})]},T.id))}),c.jsxs("div",{className:"mt-4 pt-4 border-t border-border text-center",children:[c.jsx("p",{className:"text-secondary",children:"Total Stock Value"}),c.jsx("p",{className:"text-xl font-bold text-primary",children:S(E)})]})]})})]}),c.jsxs("section",{className:"animate-fade-in",children:[c.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Employee Payments"}),c.jsx("div",{className:"grid grid-cols-1 gap-6",children:c.jsx("div",{className:"card-metric",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-secondary",children:"Weekly Payments"}),c.jsx("p",{className:"text-metric text-warning",children:S(d)})]}),c.jsx(Zj,{className:"h-12 w-12 text-warning"})]})})})]}),c.jsxs("section",{className:"animate-scale-in",children:[c.jsxs("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:["New Entry",w&&c.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:"(Upgrade to unlock)"})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx(fm,{icon:od,label:"Production",action:"production",onClick:()=>y("production"),disabled:w}),c.jsx(fm,{icon:Dx,label:"Sale",action:"sale",onClick:()=>y("sale"),disabled:w}),c.jsx(fm,{icon:co,label:"Material",action:"usage",onClick:()=>y("usage"),disabled:w}),c.jsx(fm,{icon:Hj,label:"Payment",action:"payment",onClick:()=>y("payment"),disabled:w})]})]})]}),c.jsx(IW,{type:e,onClose:()=>t(null),onSuccess:()=>v()})]})};var MW=Symbol("radix.slottable");function FW(e){const t=({children:r})=>c.jsx(c.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=MW,t}var U6="AlertDialog",[BW]=Oi(U6,[uP]),ta=uP(),q6=e=>{const{__scopeAlertDialog:t,...r}=e,n=ta(t);return c.jsx(vb,{...n,...r,modal:!0})};q6.displayName=U6;var $W="AlertDialogTrigger",UW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ta(r);return c.jsx(jP,{...s,...n,ref:t})});UW.displayName=$W;var qW="AlertDialogPortal",z6=e=>{const{__scopeAlertDialog:t,...r}=e,n=ta(t);return c.jsx(wb,{...n,...r})};z6.displayName=qW;var zW="AlertDialogOverlay",V6=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ta(r);return c.jsx(oy,{...s,...n,ref:t})});V6.displayName=zW;var Mu="AlertDialogContent",[VW,WW]=BW(Mu),HW=FW("AlertDialogContent"),W6=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=ta(r),o=x.useRef(null),a=$t(t,o),l=x.useRef(null);return c.jsx($z,{contentName:Mu,titleName:H6,docsSlug:"alert-dialog",children:c.jsx(VW,{scope:r,cancelRef:l,children:c.jsxs(ay,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:We(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(HW,{children:n}),c.jsx(KW,{contentRef:o})]})})})});W6.displayName=Mu;var H6="AlertDialogTitle",G6=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ta(r);return c.jsx(xb,{...s,...n,ref:t})});G6.displayName=H6;var K6="AlertDialogDescription",J6=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ta(r);return c.jsx(bb,{...s,...n,ref:t})});J6.displayName=K6;var GW="AlertDialogAction",Y6=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ta(r);return c.jsx(_b,{...s,...n,ref:t})});Y6.displayName=GW;var Q6="AlertDialogCancel",X6=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=WW(Q6,r),i=ta(r),o=$t(t,s);return c.jsx(_b,{...i,...n,ref:o})});X6.displayName=Q6;var KW=({contentRef:e})=>{const t=`\`${Mu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Mu}\` by passing a \`${K6}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Mu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},JW=q6,YW=z6,Z6=V6,eT=W6,tT=Y6,rT=X6,nT=G6,sT=J6;const Td=JW,QW=YW,iT=x.forwardRef(({className:e,...t},r)=>c.jsx(Z6,{className:Qe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));iT.displayName=Z6.displayName;const Cc=x.forwardRef(({className:e,...t},r)=>c.jsxs(QW,{children:[c.jsx(iT,{}),c.jsx(eT,{ref:r,className:Qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Cc.displayName=eT.displayName;const kc=({className:e,...t})=>c.jsx("div",{className:Qe("flex flex-col space-y-2 text-center sm:text-left",e),...t});kc.displayName="AlertDialogHeader";const Pc=({className:e,...t})=>c.jsx("div",{className:Qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Pc.displayName="AlertDialogFooter";const Tc=x.forwardRef(({className:e,...t},r)=>c.jsx(nT,{ref:r,className:Qe("text-lg font-semibold",e),...t}));Tc.displayName=nT.displayName;const Rc=x.forwardRef(({className:e,...t},r)=>c.jsx(sT,{ref:r,className:Qe("text-sm text-muted-foreground",e),...t}));Rc.displayName=sT.displayName;const Lc=x.forwardRef(({className:e,...t},r)=>c.jsx(tT,{ref:r,className:Qe(Nb(),e),...t}));Lc.displayName=tT.displayName;const Oc=x.forwardRef(({className:e,...t},r)=>c.jsx(rT,{ref:r,className:Qe(Nb({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Oc.displayName=rT.displayName;const XW=()=>{const{toast:e}=gs(),{factoryId:t}=mo(),{guardAction:r,isReadOnly:n}=Yh(),[s,i]=x.useState([]),[o,a]=x.useState([]),[l,u]=x.useState(!1),[d,h]=x.useState(null),[m,f]=x.useState({date:new Date().toISOString().split("T")[0],product_id:"",punches:"",quantity:"",remarks:""}),w=()=>{r(()=>u(!0))};x.useEffect(()=>{t&&(y(),b())},[t]),x.useEffect(()=>{o.length>0&&!m.product_id&&!d&&f(k=>({...k,product_id:o[0].id}))},[o,d]);const y=async()=>{if(t)try{const k=await oc.getByFactory(t);a(k||[])}catch(k){console.error("Error loading product types:",k),e({title:"Error",description:"Failed to load product types",variant:"destructive"})}},b=async()=>{if(t)try{const k=await ju.getByFactory(t);i(k||[])}catch(k){console.error("Error loading production records:",k),e({title:"Error",description:"Failed to load production records",variant:"destructive"})}},v=k=>o.find(W=>W.id===k),S=(k,W)=>{const P=v(W);return P!=null&&P.items_per_punch?k*P.items_per_punch:0},_=(k,W)=>W>0?k/W*100:0,E=async k=>{if(k.preventDefault(),!t)return;console.log("=== PRODUCTION FORM SUBMIT ==="),console.log("formData:",m),console.log("product_id:",m.product_id),console.log("productTypes list:",o);const W=v(m.product_id);try{if(!m.product_id||m.product_id.trim()===""){console.error("VALIDATION FAILED: No product selected"),e({title:"Error",description:"Please select a product type from the dropdown",variant:"destructive"});return}const P={date:m.date,product_id:m.product_id,product_name:(W==null?void 0:W.name)||"",punches:parseInt(m.punches)||void 0,quantity:parseInt(m.quantity),remarks:m.remarks||void 0,factory_id:t};d?(await ju.update(d.id,P),e({title:"Success",description:"Production record updated successfully"})):(await ju.create(P),e({title:"Success",description:"Production record added successfully"})),T(),await b()}catch(P){console.error("Error saving production record:",P),e({title:"Error",description:"Failed to save production record",variant:"destructive"})}},T=()=>{f({date:new Date().toISOString().split("T")[0],product_id:o.length>0?o[0].id:"",punches:"",quantity:"",remarks:""}),h(null),u(!1)},F=k=>{var W;h(k),f({date:k.date||new Date().toISOString().split("T")[0],product_id:k.product_id,punches:((W=k.punches)==null?void 0:W.toString())||"",quantity:k.quantity.toString(),remarks:k.remarks||""}),u(!0)},[D,U]=x.useState({open:!1,id:""}),B=async k=>{try{await ju.delete(k),e({title:"Success",description:"Production record deleted successfully"}),i(W=>W.filter(P=>P.id!==k)),await b()}catch(W){console.error("Error deleting production record:",W),e({title:"Error",description:"Failed to delete production record",variant:"destructive"})}U({open:!1,id:""})},K=m.punches&&m.product_id?S(parseInt(m.punches),m.product_id):0,L=o.map(k=>({...k,totalProduced:s.filter(W=>W.product_id===k.id).reduce((W,P)=>W+P.quantity,0)}));return c.jsxs("div",{className:"min-h-screen bg-background p-6",children:[c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Production Management"}),c.jsx("p",{className:"text-muted-foreground",children:"Track and manage production efficiency"})]}),c.jsxs(Be,{className:"btn-orange",onClick:w,disabled:n,children:[n&&c.jsx(Kj,{className:"h-4 w-4 mr-2"}),c.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Add Production"]}),c.jsx(dn,{open:l,onOpenChange:u,children:c.jsxs(tn,{className:"sm:max-w-md",children:[c.jsx(rn,{children:c.jsxs(nn,{className:"text-primary",children:[d?"Edit":"Add"," Production"]})}),c.jsxs("form",{onSubmit:E,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Date"}),c.jsx(Ge,{type:"date",value:m.date,onChange:k=>f({...m,date:k.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Product Type"}),c.jsxs(so,{value:m.product_id,onValueChange:k=>f({...m,product_id:k}),children:[c.jsx(Ei,{children:c.jsx(io,{placeholder:"Select product"})}),c.jsx(ji,{children:o.map(k=>c.jsx(os,{value:k.id,children:k.name},k.id))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Punches"}),c.jsx(Ge,{type:"number",value:m.punches,onChange:k=>f({...m,punches:k.target.value}),placeholder:"Number of punches"}),K>0&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Expected: ",K," pieces"]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Actual Quantity"}),c.jsx(Ge,{type:"number",value:m.quantity,onChange:k=>f({...m,quantity:k.target.value}),required:!0,placeholder:"Actual pieces produced"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Remarks (Optional)"}),c.jsx(Ge,{value:m.remarks,onChange:k=>f({...m,remarks:k.target.value}),placeholder:"Any notes..."})]}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx(Be,{type:"button",variant:"outline",onClick:T,children:"Cancel"}),c.jsx(Be,{type:"submit",className:"btn-orange",children:"Save"})]})]})]})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:L.map(k=>c.jsxs("div",{className:"card-stat",children:[c.jsx(od,{className:"h-8 w-8 text-primary mb-2"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:k.name}),c.jsx("p",{className:"text-3xl font-bold text-foreground",children:k.totalProduced.toLocaleString()}),c.jsx("p",{className:"text-xs text-muted-foreground",children:k.unit})]},k.id))}),c.jsxs("div",{className:"bg-card rounded-lg border border-border p-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Production Records"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-border",children:[c.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),c.jsx("th",{className:"text-left py-3 px-4",children:"Product"}),c.jsx("th",{className:"text-right py-3 px-4",children:"Punches"}),c.jsx("th",{className:"text-right py-3 px-4",children:"Quantity"}),c.jsx("th",{className:"text-right py-3 px-4",children:"Efficiency"}),c.jsx("th",{className:"text-left py-3 px-4",children:"Remarks"}),c.jsx("th",{className:"text-right py-3 px-4",children:"Actions"})]})}),c.jsx("tbody",{children:s.map(k=>{const W=S(k.punches||0,k.product_id),P=_(k.quantity,W);return c.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[c.jsx("td",{className:"py-3 px-4",children:new Date(k.date||"").toLocaleDateString()}),c.jsx("td",{className:"py-3 px-4",children:k.product_name}),c.jsx("td",{className:"py-3 px-4 text-right",children:k.punches||"-"}),c.jsx("td",{className:"py-3 px-4 text-right",children:k.quantity}),c.jsx("td",{className:"py-3 px-4 text-right",children:c.jsx("span",{className:P>=100?"text-success":P>=90?"text-warning":"text-destructive",children:P>0?`${P.toFixed(1)}%`:"-"})}),c.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:k.remarks||"-"}),c.jsx("td",{className:"py-3 px-4",children:c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx(Be,{size:"sm",variant:"ghost",onClick:()=>F(k),disabled:n,children:c.jsx(q7,{className:"h-4 w-4"})}),c.jsx(Be,{size:"sm",variant:"ghost",onClick:()=>U({open:!0,id:k.id}),disabled:n,children:c.jsx(fo,{className:"h-4 w-4 text-destructive"})})]})})]},k.id)})})]})})]})]}),c.jsx(Td,{open:D.open,onOpenChange:k=>U({...D,open:k}),children:c.jsxs(Cc,{children:[c.jsxs(kc,{children:[c.jsx(Tc,{children:"Confirm Deletion"}),c.jsx(Rc,{children:"Are you sure you want to delete this production record? This action cannot be undone."})]}),c.jsxs(Pc,{children:[c.jsx(Oc,{children:"Cancel"}),c.jsx(Lc,{onClick:()=>B(D.id),className:"bg-destructive",children:"Delete"})]})]})})]})};function ZW({open:e,onOpenChange:t,onSupplierAdded:r}){const{toast:n}=gs(),{factoryId:s}=mo(),[i,o]=x.useState({supplier_name:"",supplier_phone:""}),a=async l=>{var u,d;if(l.preventDefault(),!i.supplier_name||!s){n({title:"Error",description:"Supplier name is required",variant:"destructive"});return}try{await AC.create({factory_id:s,name:i.supplier_name,contact_number:i.supplier_phone||void 0}),n({title:"Success",description:"Supplier saved"}),r(i.supplier_name,i.supplier_phone),o({supplier_name:"",supplier_phone:""}),t(!1)}catch(h){n({title:"Error",description:((d=(u=h.response)==null?void 0:u.data)==null?void 0:d.detail)||"Failed to add supplier",variant:"destructive"})}};return c.jsx(dn,{open:e,onOpenChange:t,children:c.jsxs(tn,{className:"sm:max-w-[425px]",children:[c.jsx(rn,{children:c.jsx(nn,{children:"Add New Supplier"})}),c.jsxs("form",{onSubmit:a,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"supplier_name",children:"Supplier Name *"}),c.jsx(Ge,{id:"supplier_name",value:i.supplier_name,onChange:l=>o({...i,supplier_name:l.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"supplier_phone",children:"Supplier Phone"}),c.jsx(Ge,{id:"supplier_phone",type:"tel",value:i.supplier_phone,onChange:l=>o({...i,supplier_phone:l.target.value})})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Be,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),c.jsx(Be,{type:"submit",children:"Save Supplier"})]})]})]})})}const eH=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[s,i]=x.useState([]),[o,a]=x.useState(!1),[l,u]=x.useState(!1),[d,h]=x.useState(null),[m,f]=x.useState(null),[w,y]=x.useState(!1),[b,v]=x.useState([]),[S,_]=x.useState(null),[E,T]=x.useState(!1),[F,D]=x.useState(null),[U,B]=x.useState(0),[K,L]=x.useState(""),{toast:k}=gs(),{factoryId:W}=mo();Yh(),x.useEffect(()=>{W&&_(W)},[W]);const[P,Z]=x.useState({date:new Date().toISOString().split("T")[0],material_id:"",quantity_purchased:"",unit_cost:"",supplier_name:"",supplier_phone:"",payment_made:"",notes:""}),[ne,ie]=x.useState({date:new Date().toISOString().split("T")[0],material_id:"",quantity_used:"",purpose:""}),M=R=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(R),H=async()=>{},ae=async()=>{if(S)try{const R=await Cs.getByFactory(S);t(R||[])}catch(R){k({title:"Error loading materials",description:R.message,variant:"destructive"})}},de=async()=>{if(S)try{const R=await Cs.getPurchases(S),Te=await Cs.getByFactory(S),He=R.map(oe=>({...oe,materials:Te.find(X=>X.id===oe.material_id)||{id:oe.material_id,material_name:"Unknown",unit:""}}));n(He)}catch(R){k({title:"Error loading purchases",description:R.message,variant:"destructive"})}},C=async()=>{if(S){try{const R=await Cs.getUsage(S),Te=await Cs.getByFactory(S),He=R.map(oe=>({...oe,materials:Te.find(X=>X.id===oe.material_id)||{id:oe.material_id,material_name:"Unknown",unit:""}}));i(He)}catch(R){k({title:"Error loading usage",description:R.message,variant:"destructive"})}error?k({title:"Error loading usage",description:error.message,variant:"destructive"}):i(data||[])}},q=async()=>{if(S)try{const R=await AC.getByFactory(S);R&&R.length>0?v(R.map(Te=>({value:Te.name,label:Te.name}))):v([])}catch(R){console.error("Error loading suppliers:",R),v([])}},V=R=>Number(R.quantity_purchased)*Number(R.unit_cost)-Number(R.payment_made),Y=async R=>{var He,oe;if(R.preventDefault(),!S)return;if(console.log("=== PURCHASE FORM SUBMIT ==="),console.log("purchaseForm:",P),console.log("material_id:",P.material_id),console.log("materials list:",e),!P.material_id||P.material_id.trim()===""){console.error("VALIDATION FAILED: No material selected"),k({title:"Error",description:"Please select a material from the dropdown",variant:"destructive"});return}const Te={date:P.date,material_id:P.material_id,quantity_purchased:Number(P.quantity_purchased),unit_cost:Number(P.unit_cost),supplier_name:P.supplier_name,supplier_phone:P.supplier_phone,payment_made:Number(P.payment_made)||0,notes:P.notes,factory_id:S};console.log("Sending purchase data:",Te);try{if(d){k({title:"Update functionality coming soon"});return}else await Cs.createPurchase(Te);await de(),await ae(),a(!1),h(null),Z({date:new Date().toISOString().split("T")[0],material_id:"",quantity_purchased:"",unit_cost:"",supplier_name:"",supplier_phone:"",payment_made:"",notes:""}),k({title:d?"Purchase updated successfully":"Purchase added successfully"})}catch(X){k({title:"Error",description:((oe=(He=X.response)==null?void 0:He.data)==null?void 0:oe.detail)||"Failed to save purchase",variant:"destructive"})}},se=async R=>{var He,oe;if(R.preventDefault(),!S)return;if(!ne.material_id||ne.material_id.trim()===""){k({title:"Error",description:"Please select a material",variant:"destructive"});return}const Te={date:ne.date,material_id:ne.material_id,quantity_used:Number(ne.quantity_used),purpose:ne.purpose,factory_id:S};try{if(m){k({title:"Update functionality coming soon"});return}else await Cs.createUsage(Te);await C(),await ae(),u(!1),f(null),ie({date:new Date().toISOString().split("T")[0],material_id:"",quantity_used:"",purpose:""}),k({title:m?"Usage updated successfully":"Usage added successfully"})}catch(X){k({title:"Error",description:((oe=(He=X.response)==null?void 0:He.data)==null?void 0:oe.detail)||"Failed to save usage",variant:"destructive"})}},[Q,ce]=x.useState({open:!1,id:"",materialId:"",type:"purchase"}),ue=async(R,Te)=>{var He,oe;try{await Cs.deletePurchase(R),await de(),await ae(),k({title:"Purchase deleted successfully"})}catch(X){k({title:"Error deleting purchase",description:((oe=(He=X.response)==null?void 0:He.data)==null?void 0:oe.detail)||"Failed to delete",variant:"destructive"})}ce({open:!1,id:"",materialId:"",type:"purchase"})},me=async(R,Te)=>{var He,oe;try{await Cs.deleteUsage(R),await C(),await ae(),k({title:"Usage deleted successfully"})}catch(X){k({title:"Error deleting usage",description:((oe=(He=X.response)==null?void 0:He.data)==null?void 0:oe.detail)||"Failed to delete",variant:"destructive"})}ce({open:!1,id:"",materialId:"",type:"usage"})},ve=R=>{h(R),Z({date:R.date,material_id:R.material_id,quantity_purchased:R.quantity_purchased.toString(),unit_cost:R.unit_cost.toString(),supplier_name:R.supplier_name,supplier_phone:R.supplier_phone||"",payment_made:R.payment_made.toString(),notes:R.notes||""}),a(!0)},be=R=>{f(R),ie({date:R.date,material_id:R.material_id,quantity_used:R.quantity_used.toString(),purpose:R.purpose}),u(!0)},Ne=async R=>{D(R);const Te=V(R);L(Te.toString());const oe=r.filter(X=>X.supplier_name===R.supplier_name).reduce((X,ye)=>X+V(ye),0);B(oe),T(!0)},Ue=async()=>{if(!F||!K)return;const R=Number(K);if(R<=0){k({title:"Invalid payment amount",variant:"destructive"});return}const Te=Number(F.payment_made)+R,{error:He}=await supabase.from("material_purchases").update({payment_made:Te}).eq("id",F.id);if(He){k({title:"Error recording payment",description:He.message,variant:"destructive"});return}await de(),T(!1),D(null),L(""),k({title:"Payment recorded successfully"})};return x.useEffect(()=>{H()},[]),x.useEffect(()=>{S&&(ae(),de(),C(),q())},[S]),x.useEffect(()=>{e.length>0&&!P.material_id&&!d&&Z(R=>({...R,material_id:e[0].id}))},[e,d]),x.useEffect(()=>{e.length>0&&!ne.material_id&&!m&&ie(R=>({...R,material_id:e[0].id}))},[e,m]),c.jsxs("div",{className:"min-h-screen bg-background p-6",children:[c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Materials Management"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs(dn,{open:o,onOpenChange:a,children:[c.jsx(yh,{asChild:!0,children:c.jsxs(Be,{className:"btn-primary",children:[c.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Add Purchase"]})}),c.jsxs(tn,{className:"modal-content",children:[c.jsx(rn,{children:c.jsx(nn,{className:"text-foreground",children:d?"Edit Purchase":"Add Material Purchase"})}),c.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"date",children:"Date"}),c.jsx(Ge,{id:"date",type:"date",value:P.date,onChange:R=>Z({...P,date:R.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"material",children:"Material"}),c.jsxs(so,{value:P.material_id,onValueChange:R=>Z({...P,material_id:R}),children:[c.jsx(Ei,{children:c.jsx(io,{placeholder:"Select material"})}),c.jsx(ji,{children:e.map(R=>c.jsxs(os,{value:R.id,children:[R.material_name," (",R.unit,")"]},R.id))})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"quantity",children:"Quantity Purchased"}),c.jsx(Ge,{id:"quantity",type:"number",step:"0.01",value:P.quantity_purchased,onChange:R=>Z({...P,quantity_purchased:R.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"unitCost",children:"Unit Cost ()"}),c.jsx(Ge,{id:"unitCost",type:"number",step:"0.01",value:P.unit_cost,onChange:R=>Z({...P,unit_cost:R.target.value}),required:!0})]})]}),P.quantity_purchased&&P.unit_cost&&c.jsx("div",{className:"p-3 bg-muted rounded-lg",children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total Cost: ",M(Number(P.quantity_purchased)*Number(P.unit_cost))]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"supplier",children:"Supplier Name"}),c.jsx(vh,{value:P.supplier_name,onValueChange:R=>{Z({...P,supplier_name:R})},options:b,placeholder:"Select supplier",searchPlaceholder:"Search suppliers...",onAddNew:()=>y(!0),addNewLabel:"Add Supplier"})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"phone",children:"Supplier Phone"}),c.jsx(Ge,{id:"phone",value:P.supplier_phone,onChange:R=>Z({...P,supplier_phone:R.target.value})})]})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"payment",children:"Amount Paid ()"}),c.jsx(Ge,{id:"payment",type:"number",step:"0.01",value:P.payment_made,onChange:R=>Z({...P,payment_made:R.target.value}),placeholder:"0"}),P.quantity_purchased&&P.unit_cost&&c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Balance Due: ",M(Number(P.quantity_purchased)*Number(P.unit_cost)-(Number(P.payment_made)||0))]})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"notes",children:"Notes"}),c.jsx(Ho,{id:"notes",value:P.notes,onChange:R=>Z({...P,notes:R.target.value})})]}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx(Be,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),c.jsxs(Be,{type:"submit",className:"btn-primary",children:[d?"Update":"Add"," Purchase"]})]})]})]})]}),c.jsxs(dn,{open:l,onOpenChange:u,children:[c.jsx(yh,{asChild:!0,children:c.jsxs(Be,{className:"btn-secondary",children:[c.jsx(Mg,{className:"h-4 w-4 mr-2"}),"Add Usage"]})}),c.jsxs(tn,{className:"modal-content",children:[c.jsx(rn,{children:c.jsx(nn,{className:"text-foreground",children:m?"Edit Usage":"Add Material Usage"})}),c.jsxs("form",{onSubmit:se,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"usageDate",children:"Date"}),c.jsx(Ge,{id:"usageDate",type:"date",value:ne.date,onChange:R=>ie({...ne,date:R.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"usageMaterial",children:"Material"}),c.jsxs(so,{value:ne.material_id,onValueChange:R=>ie({...ne,material_id:R}),children:[c.jsx(Ei,{children:c.jsx(io,{placeholder:"Select material"})}),c.jsx(ji,{children:e.map(R=>c.jsxs(os,{value:R.id,children:[R.material_name," (",R.unit,")"]},R.id))})]})]})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"usageQuantity",children:"Quantity Used"}),c.jsx(Ge,{id:"usageQuantity",type:"number",step:"0.01",value:ne.quantity_used,onChange:R=>ie({...ne,quantity_used:R.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"purpose",children:"Reason for Use"}),c.jsx(Ge,{id:"purpose",value:ne.purpose,onChange:R=>ie({...ne,purpose:R.target.value}),required:!0,placeholder:"e.g., Production batch #123, Maintenance"})]}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx(Be,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),c.jsxs(Be,{type:"submit",className:"btn-secondary",children:[m?"Update":"Add"," Usage"]})]})]})]})]})]})]}),c.jsx(Td,{open:Q.open,onOpenChange:R=>ce({...Q,open:R}),children:c.jsxs(Cc,{children:[c.jsxs(kc,{children:[c.jsx(Tc,{children:"Are you sure?"}),c.jsxs(Rc,{children:["This action cannot be undone. This will permanently delete this ",Q.type," record."]})]}),c.jsxs(Pc,{children:[c.jsx(Oc,{children:"Cancel"}),c.jsx(Lc,{onClick:()=>{Q.type==="purchase"?ue(Q.id,Q.materialId):me(Q.id,Q.materialId)},children:"Delete"})]})]})}),c.jsx(dn,{open:E,onOpenChange:T,children:c.jsxs(tn,{className:"modal-content",children:[c.jsx(rn,{children:c.jsx(nn,{className:"text-foreground",children:"Pay Supplier"})}),F&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Supplier"}),c.jsx("p",{className:"text-lg font-semibold text-foreground",children:F.supplier_name})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-4 bg-destructive/10 rounded-lg border border-destructive/20",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Due for this Bill"}),c.jsx("p",{className:"text-xl font-bold text-destructive",children:M(V(F))})]}),c.jsxs("div",{className:"p-4 bg-warning/10 rounded-lg border border-warning/20",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Supplier Debt"}),c.jsx("p",{className:"text-xl font-bold text-warning",children:M(U)})]})]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.jsxs("p",{children:["Material: ",F.materials.material_name]}),c.jsxs("p",{children:["Purchase Date: ",new Date(F.date).toLocaleDateString("en-IN")]}),c.jsxs("p",{children:["Total Bill: ",M(F.quantity_purchased*F.unit_cost)]}),c.jsxs("p",{children:["Already Paid: ",M(F.payment_made)]})]})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"payAmount",children:"Amount to Pay ()"}),c.jsx(Ge,{id:"payAmount",type:"number",step:"0.01",value:K,onChange:R=>L(R.target.value),className:"mt-2"})]}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx(Be,{type:"button",variant:"outline",onClick:()=>T(!1),children:"Cancel"}),c.jsx(Be,{onClick:Ue,className:"btn-primary",children:"Submit Payment"})]})]})]})}),c.jsxs("section",{className:"animate-fade-in",children:[c.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Stock Overview"}),e.length===0?c.jsxs("div",{className:"card-dark p-8 text-center",children:[c.jsx(co,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"No materials defined yet. Add materials in Settings."})]}):c.jsxs("div",{className:"card-metric",children:[c.jsx("div",{className:`grid gap-6 ${e.length>3?"grid-cols-2 md:grid-cols-4":"grid-cols-1 md:grid-cols-3"}`,children:e.map(R=>c.jsxs("div",{className:"text-center",children:[R.material_name.toLowerCase().includes("diesel")?c.jsx(B7,{className:"h-8 w-8 text-warning mx-auto mb-2"}):c.jsx(co,{className:"h-8 w-8 text-primary mx-auto mb-2"}),c.jsx("p",{className:"text-secondary",children:R.material_name}),c.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[R.current_stock_qty.toLocaleString()," ",R.unit]}),c.jsx("p",{className:"text-sm text-secondary",children:M(R.current_stock_qty*R.average_cost_per_unit)}),R.current_stock_qty<=0&&c.jsxs("div",{className:"flex items-center justify-center mt-2 text-warning",children:[c.jsx(Fg,{className:"h-4 w-4 mr-1"}),c.jsx("span",{className:"text-sm",children:"Out of Stock"})]})]},R.id))}),c.jsxs("div",{className:"mt-4 pt-4 border-t border-border text-center",children:[c.jsx("p",{className:"text-secondary",children:"Total Stock Value"}),c.jsx("p",{className:"text-xl font-bold text-primary",children:M(e.reduce((R,Te)=>R+Te.current_stock_qty*Te.average_cost_per_unit,0))})]})]})]}),c.jsxs("section",{className:"animate-slide-up",children:[c.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Recent Purchases"}),c.jsx("div",{className:"card-dark",children:c.jsx("div",{className:"overflow-x-auto max-h-[450px] overflow-y-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"sticky top-0 bg-card z-10 border-b-2 border-border",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Date"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Material & Qty"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Supplier"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Total Cost"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Status"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Actions"})]})}),c.jsx("tbody",{children:r.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"py-8 text-center text-muted-foreground",children:"No purchases yet"})}):r.map(R=>{const Te=V(R),He=Te<=0;return c.jsxs("tr",{className:"border-b border-border hover:bg-accent/5",children:[c.jsx("td",{className:"py-3 px-4 text-foreground",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(id,{className:"h-4 w-4 mr-2 text-secondary"}),new Date(R.date).toLocaleDateString("en-IN")]})}),c.jsx("td",{className:"py-3 px-4 text-foreground",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:R.materials.material_name}),c.jsxs("p",{className:"text-sm text-secondary",children:[R.quantity_purchased," ",R.materials.unit]})]})}),c.jsx("td",{className:"py-3 px-4 text-foreground",children:c.jsxs("div",{children:[c.jsx("p",{children:R.supplier_name}),R.supplier_phone&&c.jsx("p",{className:"text-sm text-secondary",children:R.supplier_phone})]})}),c.jsx("td",{className:"py-3 px-4 text-foreground",children:M(R.quantity_purchased*R.unit_cost)}),c.jsx("td",{className:"py-3 px-4",children:He?c.jsx("span",{className:"text-sm px-3 py-1 rounded-full bg-success/20 text-success font-medium",children:"Paid"}):c.jsxs("span",{className:"text-sm px-3 py-1 rounded-full bg-destructive/20 text-destructive font-medium",children:["Due: ",M(Te)]})}),c.jsx("td",{className:"py-3 px-4",children:c.jsxs("div",{className:"flex gap-2",children:[!He&&c.jsx(Be,{size:"sm",variant:"outline",onClick:()=>Ne(R),className:"text-success hover:bg-success/20",children:c.jsx(H7,{className:"h-4 w-4"})}),c.jsx(Be,{size:"sm",variant:"outline",onClick:()=>ve(R),children:c.jsx(Dg,{className:"h-4 w-4"})}),c.jsx(Be,{size:"sm",variant:"destructive",onClick:()=>ce({open:!0,id:R.id,materialId:R.material_id,type:"purchase"}),children:c.jsx(fo,{className:"h-4 w-4"})})]})})]},R.id)})})]})})})]}),c.jsxs("section",{className:"animate-fade-in",children:[c.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Recent Usage"}),c.jsx("div",{className:"card-dark",children:c.jsx("div",{className:"overflow-x-auto max-h-[450px] overflow-y-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"sticky top-0 bg-card z-10 border-b-2 border-border",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Date"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Material & Qty"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Reason"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Actions"})]})}),c.jsx("tbody",{children:s.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"py-8 text-center text-muted-foreground",children:"No usage records yet"})}):s.map(R=>c.jsxs("tr",{className:"border-b border-border hover:bg-accent/5",children:[c.jsx("td",{className:"py-3 px-4 text-foreground",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(id,{className:"h-4 w-4 mr-2 text-secondary"}),new Date(R.date).toLocaleDateString("en-IN")]})}),c.jsx("td",{className:"py-3 px-4 text-foreground",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:R.materials.material_name}),c.jsxs("p",{className:"text-sm text-secondary",children:[R.quantity_used," ",R.materials.unit]})]})}),c.jsx("td",{className:"py-3 px-4 text-foreground",children:R.purpose}),c.jsx("td",{className:"py-3 px-4",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Be,{size:"sm",variant:"outline",onClick:()=>be(R),children:c.jsx(Dg,{className:"h-4 w-4"})}),c.jsx(Be,{size:"sm",variant:"destructive",onClick:()=>ce({open:!0,id:R.id,materialId:R.material_id,type:"usage"}),children:c.jsx(fo,{className:"h-4 w-4"})})]})})]},R.id))})]})})})]})]}),c.jsx(ZW,{open:w,onOpenChange:y,onSupplierAdded:(R,Te)=>{Z({...P,supplier_name:R,supplier_phone:Te||""}),q()}})]})},tH="modulepreload",rH=function(e){return"/"+e},cN={},Sn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=rH(l),l in cN)return;cN[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":tH,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((m,f)=>{h.addEventListener("load",m),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};function Xt(e){"@babel/helpers - typeof";return Xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xt(e)}var Li=Uint8Array,Ls=Uint16Array,Cb=Int32Array,kb=new Li([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Pb=new Li([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),uN=new Li([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),oT=function(e,t){for(var r=new Ls(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new Cb(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},aT=oT(kb,2),nH=aT.b,sw=aT.r;nH[28]=258,sw[258]=28;var sH=oT(Pb,0),dN=sH.r,iw=new Ls(32768);for(var fr=0;fr<32768;++fr){var _a=(fr&43690)>>1|(fr&21845)<<1;_a=(_a&52428)>>2|(_a&13107)<<2,_a=(_a&61680)>>4|(_a&3855)<<4,iw[fr]=((_a&65280)>>8|(_a&255)<<8)>>1}var qf=function(e,t,r){for(var n=e.length,s=0,i=new Ls(t);s<n;++s)e[s]&&++i[e[s]-1];var o=new Ls(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var a;if(r){a=new Ls(1<<t);var l=15-t;for(s=0;s<n;++s)if(e[s])for(var u=s<<4|e[s],d=t-e[s],h=o[e[s]-1]++<<d,m=h|(1<<d)-1;h<=m;++h)a[iw[h]>>l]=u}else for(a=new Ls(n),s=0;s<n;++s)e[s]&&(a[s]=iw[o[e[s]-1]++]>>15-e[s]);return a},xc=new Li(288);for(var fr=0;fr<144;++fr)xc[fr]=8;for(var fr=144;fr<256;++fr)xc[fr]=9;for(var fr=256;fr<280;++fr)xc[fr]=7;for(var fr=280;fr<288;++fr)xc[fr]=8;var Xg=new Li(32);for(var fr=0;fr<32;++fr)Xg[fr]=5;var iH=qf(xc,9,0),oH=qf(Xg,5,0),lT=function(e){return(e+7)/8|0},aH=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Li(e.subarray(t,r))},Oo=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},_f=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Qv=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:uT,l:0};if(s==1){var o=new Li(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(T,F){return T.f-F.f}),r.push({s:-1,f:25001});var a=r[0],l=r[1],u=0,d=1,h=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=s-1;)a=r[r[u].f<r[h].f?u++:h++],l=r[u!=d&&r[u].f<r[h].f?u++:h++],r[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var m=i[0].s,n=1;n<s;++n)i[n].s>m&&(m=i[n].s);var f=new Ls(m+1),w=ow(r[d-1],f,0);if(w>t){var n=0,y=0,b=w-t,v=1<<b;for(i.sort(function(F,D){return f[D.s]-f[F.s]||F.f-D.f});n<s;++n){var S=i[n].s;if(f[S]>t)y+=v-(1<<w-f[S]),f[S]=t;else break}for(y>>=b;y>0;){var _=i[n].s;f[_]<t?y-=1<<t-f[_]++-1:++n}for(;n>=0&&y;--n){var E=i[n].s;f[E]==t&&(--f[E],++y)}w=t}return{t:new Li(f),l:w}},ow=function(e,t,r){return e.s==-1?Math.max(ow(e.l,t,r+1),ow(e.r,t,r+1)):t[e.s]=r},fN=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ls(++t),n=0,s=e[0],i=1,o=function(l){r[n++]=l},a=1;a<=t;++a)if(e[a]==s&&a!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[a]}return{c:r.subarray(0,n),n:t}},Sf=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},cT=function(e,t,r){var n=r.length,s=lT(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},hN=function(e,t,r,n,s,i,o,a,l,u,d){Oo(t,d++,r),++s[256];for(var h=Qv(s,15),m=h.t,f=h.l,w=Qv(i,15),y=w.t,b=w.l,v=fN(m),S=v.c,_=v.n,E=fN(y),T=E.c,F=E.n,D=new Ls(19),U=0;U<S.length;++U)++D[S[U]&31];for(var U=0;U<T.length;++U)++D[T[U]&31];for(var B=Qv(D,7),K=B.t,L=B.l,k=19;k>4&&!K[uN[k-1]];--k);var W=u+5<<3,P=Sf(s,xc)+Sf(i,Xg)+o,Z=Sf(s,m)+Sf(i,y)+o+14+3*k+Sf(D,K)+2*D[16]+3*D[17]+7*D[18];if(l>=0&&W<=P&&W<=Z)return cT(t,d,e.subarray(l,l+u));var ne,ie,M,H;if(Oo(t,d,1+(Z<P)),d+=2,Z<P){ne=qf(m,f,0),ie=m,M=qf(y,b,0),H=y;var ae=qf(K,L,0);Oo(t,d,_-257),Oo(t,d+5,F-1),Oo(t,d+10,k-4),d+=14;for(var U=0;U<k;++U)Oo(t,d+3*U,K[uN[U]]);d+=3*k;for(var de=[S,T],C=0;C<2;++C)for(var q=de[C],U=0;U<q.length;++U){var V=q[U]&31;Oo(t,d,ae[V]),d+=K[V],V>15&&(Oo(t,d,q[U]>>5&127),d+=q[U]>>12)}}else ne=iH,ie=xc,M=oH,H=Xg;for(var U=0;U<a;++U){var Y=n[U];if(Y>255){var V=Y>>18&31;_f(t,d,ne[V+257]),d+=ie[V+257],V>7&&(Oo(t,d,Y>>23&31),d+=kb[V]);var se=Y&31;_f(t,d,M[se]),d+=H[se],se>3&&(_f(t,d,Y>>5&8191),d+=Pb[se])}else _f(t,d,ne[Y]),d+=ie[Y]}return _f(t,d,ne[256]),d+ie[256]},lH=new Cb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uT=new Li(0),cH=function(e,t,r,n,s,i){var o=i.z||e.length,a=new Li(n+o+5*(1+Math.ceil(o/7e3))+s),l=a.subarray(n,a.length-s),u=i.l,d=(i.r||0)&7;if(t){d&&(l[0]=i.r>>3);for(var h=lH[t-1],m=h>>13,f=h&8191,w=(1<<r)-1,y=i.p||new Ls(32768),b=i.h||new Ls(w+1),v=Math.ceil(r/3),S=2*v,_=function(Ue){return(e[Ue]^e[Ue+1]<<v^e[Ue+2]<<S)&w},E=new Cb(25e3),T=new Ls(288),F=new Ls(32),D=0,U=0,B=i.i||0,K=0,L=i.w||0,k=0;B+2<o;++B){var W=_(B),P=B&32767,Z=b[W];if(y[P]=Z,b[W]=P,L<=B){var ne=o-B;if((D>7e3||K>24576)&&(ne>423||!u)){d=hN(e,l,0,E,T,F,U,K,k,B-k,d),K=D=U=0,k=B;for(var ie=0;ie<286;++ie)T[ie]=0;for(var ie=0;ie<30;++ie)F[ie]=0}var M=2,H=0,ae=f,de=P-Z&32767;if(ne>2&&W==_(B-de))for(var C=Math.min(m,ne)-1,q=Math.min(32767,B),V=Math.min(258,ne);de<=q&&--ae&&P!=Z;){if(e[B+M]==e[B+M-de]){for(var Y=0;Y<V&&e[B+Y]==e[B+Y-de];++Y);if(Y>M){if(M=Y,H=de,Y>C)break;for(var se=Math.min(de,Y-2),Q=0,ie=0;ie<se;++ie){var ce=B-de+ie&32767,ue=y[ce],me=ce-ue&32767;me>Q&&(Q=me,Z=ce)}}}P=Z,Z=y[P],de+=P-Z&32767}if(H){E[K++]=268435456|sw[M]<<18|dN[H];var ve=sw[M]&31,be=dN[H]&31;U+=kb[ve]+Pb[be],++T[257+ve],++F[be],L=B+M,++D}else E[K++]=e[B],++T[e[B]]}}for(B=Math.max(B,L);B<o;++B)E[K++]=e[B],++T[e[B]];d=hN(e,l,u,E,T,F,U,K,k,B-k,d),u||(i.r=d&7|l[d/8|0]<<3,d-=7,i.h=b,i.p=y,i.i=B,i.w=L)}else{for(var B=i.w||0;B<o+u;B+=65535){var Ne=B+65535;Ne>=o&&(l[d/8|0]=u,Ne=o),d=cT(l,d+1,e.subarray(B,Ne))}i.i=o}return aH(a,0,n+lT(d)+s)},dT=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,o=0;o!=i;){for(var a=Math.min(o+2655,i);o<a;++o)s+=n+=r[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},uH=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Li(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return cH(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},fT=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},dH=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=dT();s.p(t.dictionary),fT(e,2,s.d())}};function aw(e,t){t||(t={});var r=dT();r.p(e);var n=uH(e,t,t.dictionary?6:2,4);return dH(n,t),fT(n,n.length-4,r.d()),n}var fH=typeof TextDecoder<"u"&&new TextDecoder,hH=0;try{fH.decode(uT,{stream:!0}),hH=1}catch{}function pH(e){if(Array.isArray(e))return e}function mH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,a=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return a}}function pN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function gH(e,t){if(e){if(typeof e=="string")return pN(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pN(e,t):void 0}}function yH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mN(e,t){return pH(e)||mH(e,t)||gH(e,t)||yH()}function gN(e,t="utf8"){return new TextDecoder(t).decode(e)}const vH=new TextEncoder;function wH(e){return vH.encode(e)}const xH=1024*8,bH=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Xv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Tb{constructor(t=xH,r={}){Qt(this,"buffer");Qt(this,"byteLength");Qt(this,"byteOffset");Qt(this,"length");Qt(this,"offset");Qt(this,"lastWrittenByte");Qt(this,"littleEndian");Qt(this,"_data");Qt(this,"_mark");Qt(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let o=s;(ArrayBuffer.isView(t)||t instanceof Tb)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=Xv[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===bH&&r!=="uint8"&&r!=="int8"){const a=new Uint8Array(this.buffer.slice(s,s+n));a.reverse();const l=new Xv[r](a.buffer);return this.offset+=n,l.reverse(),l}const o=new Xv[r](i);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return gN(this.readBytes(t))}decodeText(t=1,r="utf8"){return gN(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(wH(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Rd(e){let t=e.length;for(;--t>=0;)e[t]=0}const _H=3,SH=258,hT=29,NH=256,EH=NH+1+hT,pT=30,jH=512,AH=new Array((EH+2)*2);Rd(AH);const CH=new Array(pT*2);Rd(CH);const kH=new Array(jH);Rd(kH);const PH=new Array(SH-_H+1);Rd(PH);const TH=new Array(hT);Rd(TH);const RH=new Array(pT);Rd(RH);const LH=(e,t,r,n)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+t[n++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var lw=LH;const OH=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},IH=new Uint32Array(OH()),DH=(e,t,r,n)=>{const s=IH,i=n+r;e^=-1;for(let o=n;o<i;o++)e=e>>>8^s[(e^t[o])&255];return e^-1};var Ji=DH,cw={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},mT={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const MH=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var FH=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)MH(r,n)&&(e[n]=r[n])}}return e},BH=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,i=e.length;n<i;n++){let o=e[n];r.set(o,s),s+=o.length}return r},gT={assign:FH,flattenChunks:BH};let yT=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{yT=!1}const wh=new Uint8Array(256);for(let e=0;e<256;e++)wh[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;wh[254]=wh[254]=1;var $H=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,i,o=e.length,a=0;for(s=0;s<o;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(a),i=0,s=0;i<a;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const UH=(e,t)=>{if(t<65534&&e.subarray&&yT)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var qH=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let o=e[n++];if(o<128){i[s++]=o;continue}let a=wh[o];if(a>4){i[s++]=65533,n+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&n<r;)o=o<<6|e[n++]&63,a--;if(a>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return UH(i,s)},zH=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+wh[e[r]]>t?r:t},uw={string2buf:$H,buf2string:qH,utf8border:zH};function VH(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var WH=VH;const hm=16209,HH=16191;var GH=function(t,r){let n,s,i,o,a,l,u,d,h,m,f,w,y,b,v,S,_,E,T,F,D,U,B,K;const L=t.state;n=t.next_in,B=t.input,s=n+(t.avail_in-5),i=t.next_out,K=t.output,o=i-(r-t.avail_out),a=i+(t.avail_out-257),l=L.dmax,u=L.wsize,d=L.whave,h=L.wnext,m=L.window,f=L.hold,w=L.bits,y=L.lencode,b=L.distcode,v=(1<<L.lenbits)-1,S=(1<<L.distbits)-1;e:do{w<15&&(f+=B[n++]<<w,w+=8,f+=B[n++]<<w,w+=8),_=y[f&v];t:for(;;){if(E=_>>>24,f>>>=E,w-=E,E=_>>>16&255,E===0)K[i++]=_&65535;else if(E&16){T=_&65535,E&=15,E&&(w<E&&(f+=B[n++]<<w,w+=8),T+=f&(1<<E)-1,f>>>=E,w-=E),w<15&&(f+=B[n++]<<w,w+=8,f+=B[n++]<<w,w+=8),_=b[f&S];r:for(;;){if(E=_>>>24,f>>>=E,w-=E,E=_>>>16&255,E&16){if(F=_&65535,E&=15,w<E&&(f+=B[n++]<<w,w+=8,w<E&&(f+=B[n++]<<w,w+=8)),F+=f&(1<<E)-1,F>l){t.msg="invalid distance too far back",L.mode=hm;break e}if(f>>>=E,w-=E,E=i-o,F>E){if(E=F-E,E>d&&L.sane){t.msg="invalid distance too far back",L.mode=hm;break e}if(D=0,U=m,h===0){if(D+=u-E,E<T){T-=E;do K[i++]=m[D++];while(--E);D=i-F,U=K}}else if(h<E){if(D+=u+h-E,E-=h,E<T){T-=E;do K[i++]=m[D++];while(--E);if(D=0,h<T){E=h,T-=E;do K[i++]=m[D++];while(--E);D=i-F,U=K}}}else if(D+=h-E,E<T){T-=E;do K[i++]=m[D++];while(--E);D=i-F,U=K}for(;T>2;)K[i++]=U[D++],K[i++]=U[D++],K[i++]=U[D++],T-=3;T&&(K[i++]=U[D++],T>1&&(K[i++]=U[D++]))}else{D=i-F;do K[i++]=K[D++],K[i++]=K[D++],K[i++]=K[D++],T-=3;while(T>2);T&&(K[i++]=K[D++],T>1&&(K[i++]=K[D++]))}}else if(E&64){t.msg="invalid distance code",L.mode=hm;break e}else{_=b[(_&65535)+(f&(1<<E)-1)];continue r}break}}else if(E&64)if(E&32){L.mode=HH;break e}else{t.msg="invalid literal/length code",L.mode=hm;break e}else{_=y[(_&65535)+(f&(1<<E)-1)];continue t}break}}while(n<s&&i<a);T=w>>3,n-=T,w-=T<<3,f&=(1<<w)-1,t.next_in=n,t.next_out=i,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=i<a?257+(a-i):257-(i-a),L.hold=f,L.bits=w};const tu=15,yN=852,vN=592,wN=0,Zv=1,xN=2,KH=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),JH=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),YH=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),QH=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),XH=(e,t,r,n,s,i,o,a)=>{const l=a.bits;let u=0,d=0,h=0,m=0,f=0,w=0,y=0,b=0,v=0,S=0,_,E,T,F,D,U=null,B;const K=new Uint16Array(tu+1),L=new Uint16Array(tu+1);let k=null,W,P,Z;for(u=0;u<=tu;u++)K[u]=0;for(d=0;d<n;d++)K[t[r+d]]++;for(f=l,m=tu;m>=1&&K[m]===0;m--);if(f>m&&(f=m),m===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<m&&K[h]===0;h++);for(f<h&&(f=h),b=1,u=1;u<=tu;u++)if(b<<=1,b-=K[u],b<0)return-1;if(b>0&&(e===wN||m!==1))return-1;for(L[1]=0,u=1;u<tu;u++)L[u+1]=L[u]+K[u];for(d=0;d<n;d++)t[r+d]!==0&&(o[L[t[r+d]]++]=d);if(e===wN?(U=k=o,B=20):e===Zv?(U=KH,k=JH,B=257):(U=YH,k=QH,B=0),S=0,d=0,u=h,D=i,w=f,y=0,T=-1,v=1<<f,F=v-1,e===Zv&&v>yN||e===xN&&v>vN)return 1;for(;;){W=u-y,o[d]+1<B?(P=0,Z=o[d]):o[d]>=B?(P=k[o[d]-B],Z=U[o[d]-B]):(P=96,Z=0),_=1<<u-y,E=1<<w,h=E;do E-=_,s[D+(S>>y)+E]=W<<24|P<<16|Z|0;while(E!==0);for(_=1<<u-1;S&_;)_>>=1;if(_!==0?(S&=_-1,S+=_):S=0,d++,--K[u]===0){if(u===m)break;u=t[r+o[d]]}if(u>f&&(S&F)!==T){for(y===0&&(y=f),D+=h,w=u-y,b=1<<w;w+y<m&&(b-=K[w+y],!(b<=0));)w++,b<<=1;if(v+=1<<w,e===Zv&&v>yN||e===xN&&v>vN)return 1;T=S&F,s[T]=f<<24|w<<16|D-i|0}}return S!==0&&(s[D+S]=u-y<<24|64<<16|0),a.bits=f,0};var zf=XH;const ZH=0,vT=1,wT=2,{Z_FINISH:bN,Z_BLOCK:eG,Z_TREES:pm,Z_OK:bc,Z_STREAM_END:tG,Z_NEED_DICT:rG,Z_STREAM_ERROR:ri,Z_DATA_ERROR:xT,Z_MEM_ERROR:bT,Z_BUF_ERROR:nG,Z_DEFLATED:_N}=mT,hy=16180,SN=16181,NN=16182,EN=16183,jN=16184,AN=16185,CN=16186,kN=16187,PN=16188,TN=16189,Zg=16190,Io=16191,e1=16192,RN=16193,t1=16194,LN=16195,ON=16196,IN=16197,DN=16198,mm=16199,gm=16200,MN=16201,FN=16202,BN=16203,$N=16204,UN=16205,r1=16206,qN=16207,zN=16208,gr=16209,_T=16210,ST=16211,sG=852,iG=592,oG=15,aG=oG,VN=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function lG(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ic=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<hy||t.mode>ST?1:0},NT=e=>{if(Ic(e))return ri;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=hy,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(sG),t.distcode=t.distdyn=new Int32Array(iG),t.sane=1,t.back=-1,bc},ET=e=>{if(Ic(e))return ri;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,NT(e)},jT=(e,t)=>{let r;if(Ic(e))return ri;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ri:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,ET(e))},AT=(e,t)=>{if(!e)return ri;const r=new lG;e.state=r,r.strm=e,r.window=null,r.mode=hy;const n=jT(e,t);return n!==bc&&(e.state=null),n},cG=e=>AT(e,aG);let WN=!0,n1,s1;const uG=e=>{if(WN){n1=new Int32Array(512),s1=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(zf(vT,e.lens,0,288,n1,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;zf(wT,e.lens,0,32,s1,0,e.work,{bits:5}),WN=!1}e.lencode=n1,e.lenbits=9,e.distcode=s1,e.distbits=5},CT=(e,t,r,n)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(t.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},dG=(e,t)=>{let r,n,s,i,o,a,l,u,d,h,m,f,w,y,b=0,v,S,_,E,T,F,D,U;const B=new Uint8Array(4);let K,L;const k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ic(e)||!e.output||!e.input&&e.avail_in!==0)return ri;r=e.state,r.mode===Io&&(r.mode=e1),o=e.next_out,s=e.output,l=e.avail_out,i=e.next_in,n=e.input,a=e.avail_in,u=r.hold,d=r.bits,h=a,m=l,U=bc;e:for(;;)switch(r.mode){case hy:if(r.wrap===0){r.mode=e1;break}for(;d<16;){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,B[0]=u&255,B[1]=u>>>8&255,r.check=Ji(r.check,B,2,0),u=0,d=0,r.mode=SN;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=gr;break}if((u&15)!==_N){e.msg="unknown compression method",r.mode=gr;break}if(u>>>=4,d-=4,D=(u&15)+8,r.wbits===0&&(r.wbits=D),D>15||D>r.wbits){e.msg="invalid window size",r.mode=gr;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?TN:Io,u=0,d=0;break;case SN:for(;d<16;){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==_N){e.msg="unknown compression method",r.mode=gr;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=gr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,r.check=Ji(r.check,B,2,0)),u=0,d=0,r.mode=NN;case NN:for(;d<32;){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,B[2]=u>>>16&255,B[3]=u>>>24&255,r.check=Ji(r.check,B,4,0)),u=0,d=0,r.mode=EN;case EN:for(;d<16;){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,r.check=Ji(r.check,B,2,0)),u=0,d=0,r.mode=jN;case jN:if(r.flags&1024){for(;d<16;){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,r.check=Ji(r.check,B,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=AN;case AN:if(r.flags&1024&&(f=r.length,f>a&&(f=a),f&&(r.head&&(D=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+f),D)),r.flags&512&&r.wrap&4&&(r.check=Ji(r.check,n,f,i)),a-=f,i+=f,r.length-=f),r.length))break e;r.length=0,r.mode=CN;case CN:if(r.flags&2048){if(a===0)break e;f=0;do D=n[i+f++],r.head&&D&&r.length<65536&&(r.head.name+=String.fromCharCode(D));while(D&&f<a);if(r.flags&512&&r.wrap&4&&(r.check=Ji(r.check,n,f,i)),a-=f,i+=f,D)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=kN;case kN:if(r.flags&4096){if(a===0)break e;f=0;do D=n[i+f++],r.head&&D&&r.length<65536&&(r.head.comment+=String.fromCharCode(D));while(D&&f<a);if(r.flags&512&&r.wrap&4&&(r.check=Ji(r.check,n,f,i)),a-=f,i+=f,D)break e}else r.head&&(r.head.comment=null);r.mode=PN;case PN:if(r.flags&512){for(;d<16;){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=gr;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Io;break;case TN:for(;d<32;){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}e.adler=r.check=VN(u),u=0,d=0,r.mode=Zg;case Zg:if(r.havedict===0)return e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=a,r.hold=u,r.bits=d,rG;e.adler=r.check=1,r.mode=Io;case Io:if(t===eG||t===pm)break e;case e1:if(r.last){u>>>=d&7,d-=d&7,r.mode=r1;break}for(;d<3;){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=RN;break;case 1:if(uG(r),r.mode=mm,t===pm){u>>>=2,d-=2;break e}break;case 2:r.mode=ON;break;case 3:e.msg="invalid block type",r.mode=gr}u>>>=2,d-=2;break;case RN:for(u>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=gr;break}if(r.length=u&65535,u=0,d=0,r.mode=t1,t===pm)break e;case t1:r.mode=LN;case LN:if(f=r.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;s.set(n.subarray(i,i+f),o),a-=f,i+=f,l-=f,o+=f,r.length-=f;break}r.mode=Io;break;case ON:for(;d<14;){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=gr;break}r.have=0,r.mode=IN;case IN:for(;r.have<r.ncode;){for(;d<3;){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}r.lens[k[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[k[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,K={bits:r.lenbits},U=zf(ZH,r.lens,0,19,r.lencode,0,r.work,K),r.lenbits=K.bits,U){e.msg="invalid code lengths set",r.mode=gr;break}r.have=0,r.mode=DN;case DN:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[u&(1<<r.lenbits)-1],v=b>>>24,S=b>>>16&255,_=b&65535,!(v<=d);){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}if(_<16)u>>>=v,d-=v,r.lens[r.have++]=_;else{if(_===16){for(L=v+2;d<L;){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}if(u>>>=v,d-=v,r.have===0){e.msg="invalid bit length repeat",r.mode=gr;break}D=r.lens[r.have-1],f=3+(u&3),u>>>=2,d-=2}else if(_===17){for(L=v+3;d<L;){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}u>>>=v,d-=v,D=0,f=3+(u&7),u>>>=3,d-=3}else{for(L=v+7;d<L;){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}u>>>=v,d-=v,D=0,f=11+(u&127),u>>>=7,d-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=gr;break}for(;f--;)r.lens[r.have++]=D}}if(r.mode===gr)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=gr;break}if(r.lenbits=9,K={bits:r.lenbits},U=zf(vT,r.lens,0,r.nlen,r.lencode,0,r.work,K),r.lenbits=K.bits,U){e.msg="invalid literal/lengths set",r.mode=gr;break}if(r.distbits=6,r.distcode=r.distdyn,K={bits:r.distbits},U=zf(wT,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,K),r.distbits=K.bits,U){e.msg="invalid distances set",r.mode=gr;break}if(r.mode=mm,t===pm)break e;case mm:r.mode=gm;case gm:if(a>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=a,r.hold=u,r.bits=d,GH(e,m),o=e.next_out,s=e.output,l=e.avail_out,i=e.next_in,n=e.input,a=e.avail_in,u=r.hold,d=r.bits,r.mode===Io&&(r.back=-1);break}for(r.back=0;b=r.lencode[u&(1<<r.lenbits)-1],v=b>>>24,S=b>>>16&255,_=b&65535,!(v<=d);){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}if(S&&!(S&240)){for(E=v,T=S,F=_;b=r.lencode[F+((u&(1<<E+T)-1)>>E)],v=b>>>24,S=b>>>16&255,_=b&65535,!(E+v<=d);){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}u>>>=E,d-=E,r.back+=E}if(u>>>=v,d-=v,r.back+=v,r.length=_,S===0){r.mode=UN;break}if(S&32){r.back=-1,r.mode=Io;break}if(S&64){e.msg="invalid literal/length code",r.mode=gr;break}r.extra=S&15,r.mode=MN;case MN:if(r.extra){for(L=r.extra;d<L;){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=FN;case FN:for(;b=r.distcode[u&(1<<r.distbits)-1],v=b>>>24,S=b>>>16&255,_=b&65535,!(v<=d);){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}if(!(S&240)){for(E=v,T=S,F=_;b=r.distcode[F+((u&(1<<E+T)-1)>>E)],v=b>>>24,S=b>>>16&255,_=b&65535,!(E+v<=d);){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}u>>>=E,d-=E,r.back+=E}if(u>>>=v,d-=v,r.back+=v,S&64){e.msg="invalid distance code",r.mode=gr;break}r.offset=_,r.extra=S&15,r.mode=BN;case BN:if(r.extra){for(L=r.extra;d<L;){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=gr;break}r.mode=$N;case $N:if(l===0)break e;if(f=m-l,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=gr;break}f>r.wnext?(f-=r.wnext,w=r.wsize-f):w=r.wnext-f,f>r.length&&(f=r.length),y=r.window}else y=s,w=o-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do s[o++]=y[w++];while(--f);r.length===0&&(r.mode=gm);break;case UN:if(l===0)break e;s[o++]=r.length,l--,r.mode=gm;break;case r1:if(r.wrap){for(;d<32;){if(a===0)break e;a--,u|=n[i++]<<d,d+=8}if(m-=l,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Ji(r.check,s,m,o-m):lw(r.check,s,m,o-m)),m=l,r.wrap&4&&(r.flags?u:VN(u))!==r.check){e.msg="incorrect data check",r.mode=gr;break}u=0,d=0}r.mode=qN;case qN:if(r.wrap&&r.flags){for(;d<32;){if(a===0)break e;a--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=gr;break}u=0,d=0}r.mode=zN;case zN:U=tG;break e;case gr:U=xT;break e;case _T:return bT;case ST:default:return ri}return e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=a,r.hold=u,r.bits=d,(r.wsize||m!==e.avail_out&&r.mode<gr&&(r.mode<r1||t!==bN))&&CT(e,e.output,e.next_out,m-e.avail_out),h-=e.avail_in,m-=e.avail_out,e.total_in+=h,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Ji(r.check,s,m,e.next_out-m):lw(r.check,s,m,e.next_out-m)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Io?128:0)+(r.mode===mm||r.mode===t1?256:0),(h===0&&m===0||t===bN)&&U===bc&&(U=nG),U},fG=e=>{if(Ic(e))return ri;let t=e.state;return t.window&&(t.window=null),e.state=null,bc},hG=(e,t)=>{if(Ic(e))return ri;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,bc):ri},pG=(e,t)=>{const r=t.length;let n,s,i;return Ic(e)||(n=e.state,n.wrap!==0&&n.mode!==Zg)?ri:n.mode===Zg&&(s=1,s=lw(s,t,r,0),s!==n.check)?xT:(i=CT(e,t,r,r),i?(n.mode=_T,bT):(n.havedict=1,bc))};var mG=ET,gG=jT,yG=NT,vG=cG,wG=AT,xG=dG,bG=fG,_G=hG,SG=pG,NG="pako inflate (from Nodeca project)",$o={inflateReset:mG,inflateReset2:gG,inflateResetKeep:yG,inflateInit:vG,inflateInit2:wG,inflate:xG,inflateEnd:bG,inflateGetHeader:_G,inflateSetDictionary:SG,inflateInfo:NG};function EG(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var jG=EG;const kT=Object.prototype.toString,{Z_NO_FLUSH:AG,Z_FINISH:CG,Z_OK:xh,Z_STREAM_END:i1,Z_NEED_DICT:o1,Z_STREAM_ERROR:kG,Z_DATA_ERROR:HN,Z_MEM_ERROR:PG}=mT;function Qh(e){this.options=gT.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new WH,this.strm.avail_out=0;let r=$o.inflateInit2(this.strm,t.windowBits);if(r!==xh)throw new Error(cw[r]);if(this.header=new jG,$o.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=uw.string2buf(t.dictionary):kT.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=$o.inflateSetDictionary(this.strm,t.dictionary),r!==xh)))throw new Error(cw[r])}Qh.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?CG:AG,kT.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=$o.inflate(r,o),i===o1&&s&&(i=$o.inflateSetDictionary(r,s),i===xh?i=$o.inflate(r,o):i===HN&&(i=o1));r.avail_in>0&&i===i1&&r.state.wrap>0&&e[r.next_in]!==0;)$o.inflateReset(r),i=$o.inflate(r,o);switch(i){case kG:case HN:case o1:case PG:return this.onEnd(i),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(r.avail_out===0||i===i1))if(this.options.to==="string"){let l=uw.utf8border(r.output,r.next_out),u=r.next_out-l,d=uw.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===xh&&a===0)){if(i===i1)return i=$o.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Qh.prototype.onData=function(e){this.chunks.push(e)};Qh.prototype.onEnd=function(e){e===xh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gT.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function TG(e,t){const r=new Qh(t);if(r.push(e),r.err)throw r.msg||cw[r.err];return r.result}var RG=Qh,LG=TG,OG={Inflate:RG,inflate:LG};const{Inflate:IG,inflate:DG}=OG;var GN=IG,MG=DG;const PT=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;PT[e]=t}const KN=4294967295;function FG(e,t,r){let n=e;for(let s=0;s<r;s++)n=PT[(n^t[s])&255]^n>>>8;return n}function BG(e,t){return(FG(KN,e,t)^KN)>>>0}function JN(e,t,r){const n=e.readUint32(),s=BG(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function TT(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function RT(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function LT(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function OT(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function IT(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+$G(t[i-s],r[i],r[i-s])&255}}function $G(e,t,r){const n=e+t-r,s=Math.abs(n-e),i=Math.abs(n-t),o=Math.abs(n-r);return s<=i&&s<=o?e:i<=o?t:r}function UG(e,t,r,n,s,i){switch(e){case 0:TT(t,r,s);break;case 1:RT(t,r,s,i);break;case 2:LT(t,r,n,s);break;case 3:OT(t,r,n,s,i);break;case 4:IT(t,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const qG=new Uint16Array([255]),zG=new Uint8Array(qG.buffer),VG=zG[0]===255;function WG(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(i/8)*s,l=new Uint8Array(n*r*a);let u=0;for(let d=0;d<7;d++){const h=o[d],m=Math.ceil((r-h.x)/h.xStep),f=Math.ceil((n-h.y)/h.yStep);if(m<=0||f<=0)continue;const w=m*a,y=new Uint8Array(w);for(let b=0;b<f;b++){const v=t[u++],S=t.subarray(u,u+w);u+=w;const _=new Uint8Array(w);UG(v,S,_,y,w,a),y.set(_);for(let E=0;E<m;E++){const T=h.x+E*h.xStep,F=h.y+b*h.yStep;if(!(T>=r||F>=n))for(let D=0;D<a;D++)l[(F*r+T)*a+D]=_[E*a+D]}}}if(i===16){const d=new Uint16Array(l.buffer);if(VG)for(let h=0;h<d.length;h++)d[h]=HG(d[h]);return d}else return l}function HG(e){return(e&255)<<8|e>>8&255}const GG=new Uint16Array([255]),KG=new Uint8Array(GG.buffer),JG=KG[0]===255,YG=new Uint8Array(0);function YN(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,a=Math.ceil(i/8*s*r),l=new Uint8Array(n*a);let u=YG,d=0,h,m;for(let f=0;f<n;f++){switch(h=t.subarray(d+1,d+1+a),m=l.subarray(f*a,(f+1)*a),t[d]){case 0:TT(h,m,a);break;case 1:RT(h,m,a,o);break;case 2:LT(h,m,u,a);break;case 3:OT(h,m,u,a,o);break;case 4:IT(h,m,u,a,o);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=m,d+=a+1}if(i===16){const f=new Uint16Array(l.buffer);if(JG)for(let w=0;w<f.length;w++)f[w]=QG(f[w]);return f}else return l}function QG(e){return(e&255)<<8|e>>8&255}const rg=Uint8Array.of(137,80,78,71,13,10,26,10);function QN(e){if(!XG(e.readBytes(rg.length)))throw new Error("wrong PNG signature")}function XG(e){if(e.length<rg.length)return!1;for(let t=0;t<rg.length;t++)if(e[t]!==rg[t])return!1;return!0}const ZG="tEXt",eK=0,DT=new TextDecoder("latin1");function tK(e){if(nK(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const rK=/^[\u0000-\u00FF]*$/;function nK(e){if(!rK.test(e))throw new Error("invalid latin1 text")}function sK(e,t,r){const n=MT(t);e[n]=iK(t,r-n.length-1)}function MT(e){for(e.mark();e.readByte()!==eK;);const t=e.offset;e.reset();const r=DT.decode(e.readBytes(t-e.offset-1));return e.skip(1),tK(r),r}function iK(e,t){return DT.decode(e.readBytes(t))}const As={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},a1={UNKNOWN:-1,DEFLATE:0},XN={UNKNOWN:-1,ADAPTIVE:0},l1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ym={NONE:0,BACKGROUND:1,PREVIOUS:2},c1={SOURCE:0,OVER:1};class oK extends Tb{constructor(r,n={}){super(r);Qt(this,"_checkCrc");Qt(this,"_inflator");Qt(this,"_png");Qt(this,"_apng");Qt(this,"_end");Qt(this,"_hasPalette");Qt(this,"_palette");Qt(this,"_hasTransparency");Qt(this,"_transparency");Qt(this,"_compressionMethod");Qt(this,"_filterMethod");Qt(this,"_interlaceMethod");Qt(this,"_colorType");Qt(this,"_isAnimated");Qt(this,"_numberOfFrames");Qt(this,"_numberOfPlays");Qt(this,"_frames");Qt(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new GN,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=a1.UNKNOWN,this._filterMethod=XN.UNKNOWN,this._interlaceMethod=l1.UNKNOWN,this._colorType=As.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(QN(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(QN(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case ZG:sK(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?JN(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?JN(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=aK(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case As.GREYSCALE:s=1;break;case As.TRUECOLOUR:s=3;break;case As.INDEXED_COLOUR:s=1;break;case As.GREYSCALE_ALPHA:s=2;break;case As.TRUECOLOUR_ALPHA:s=4;break;case As.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==a1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case As.GREYSCALE:case As.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case As.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case As.UNKNOWN:case As.GREYSCALE_ALPHA:case As.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=MT(this),s=this.readUint8();if(s!==a1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:MG(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=YN({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case ym.NONE:break;case ym.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const a=(i*r.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)s.data[a+l]=0}break;case ym.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,i=(o,a)=>{const l=((o+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,u=(o*n.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case c1.SOURCE:for(let o=0;o<n.height;o++)for(let a=0;a<n.width;a++){const{index:l,frameIndex:u}=i(o,a);for(let d=0;d<this._png.channels;d++)r.data[l+d]=n.data[u+d]}break;case c1.OVER:for(let o=0;o<n.height;o++)for(let a=0;a<n.width;a++){const{index:l,frameIndex:u}=i(o,a);for(let d=0;d<this._png.channels;d++){const h=n.data[u+this._png.channels-1]/s,m=d%(this._png.channels-1)===0?1:n.data[u+d],f=Math.floor(h*m+(1-h)*r.data[l+d]);r.data[l+d]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==XN.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===l1.NO_INTERLACE)this._png.data=YN({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===l1.ADAM7)this._png.data=WG({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ym.NONE,blendOp:c1.SOURCE,data:r}),this._inflator=new GN,this._writingDataChunks=!1}}function aK(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var ZN;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(ZN||(ZN={}));function lK(e,t){return new oK(e,t).decode()}var yt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function u1(){yt.console&&typeof yt.console.log=="function"&&yt.console.log.apply(yt.console,arguments)}var nr={log:u1,warn:function(e){yt.console&&(typeof yt.console.warn=="function"?yt.console.warn.apply(yt.console,arguments):u1.call(null,arguments))},error:function(e){yt.console&&(typeof yt.console.error=="function"?yt.console.error.apply(yt.console,arguments):u1(e))}};function d1(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Fl(n.response,t,r)},n.onerror=function(){nr.error("could not download file")},n.send()}function e4(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function vm(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Fl=yt.saveAs||((typeof window>"u"?"undefined":Xt(window))!=="object"||window!==yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=yt.URL||yt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?e4(s.href)?d1(e,t,r):vm(s,s.target="_blank"):vm(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){vm(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(e4(e))d1(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){vm(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Xt(i)!=="object"&&(nr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return d1(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(yt.HTMLElement)||yt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":Xt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},a.readAsDataURL(e)}else{var l=yt.URL||yt.webkitURL,u=l.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function FT(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var ng=yt.atob.bind(yt),t4=yt.btoa.bind(yt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function f1(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=Rn(r,n,s,i,t[0],7,-680876936),i=Rn(i,r,n,s,t[1],12,-389564586),s=Rn(s,i,r,n,t[2],17,606105819),n=Rn(n,s,i,r,t[3],22,-1044525330),r=Rn(r,n,s,i,t[4],7,-176418897),i=Rn(i,r,n,s,t[5],12,1200080426),s=Rn(s,i,r,n,t[6],17,-1473231341),n=Rn(n,s,i,r,t[7],22,-45705983),r=Rn(r,n,s,i,t[8],7,1770035416),i=Rn(i,r,n,s,t[9],12,-1958414417),s=Rn(s,i,r,n,t[10],17,-42063),n=Rn(n,s,i,r,t[11],22,-1990404162),r=Rn(r,n,s,i,t[12],7,1804603682),i=Rn(i,r,n,s,t[13],12,-40341101),s=Rn(s,i,r,n,t[14],17,-1502002290),r=Ln(r,n=Rn(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=Ln(i,r,n,s,t[6],9,-1069501632),s=Ln(s,i,r,n,t[11],14,643717713),n=Ln(n,s,i,r,t[0],20,-373897302),r=Ln(r,n,s,i,t[5],5,-701558691),i=Ln(i,r,n,s,t[10],9,38016083),s=Ln(s,i,r,n,t[15],14,-660478335),n=Ln(n,s,i,r,t[4],20,-405537848),r=Ln(r,n,s,i,t[9],5,568446438),i=Ln(i,r,n,s,t[14],9,-1019803690),s=Ln(s,i,r,n,t[3],14,-187363961),n=Ln(n,s,i,r,t[8],20,1163531501),r=Ln(r,n,s,i,t[13],5,-1444681467),i=Ln(i,r,n,s,t[2],9,-51403784),s=Ln(s,i,r,n,t[7],14,1735328473),r=On(r,n=Ln(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=On(i,r,n,s,t[8],11,-2022574463),s=On(s,i,r,n,t[11],16,1839030562),n=On(n,s,i,r,t[14],23,-35309556),r=On(r,n,s,i,t[1],4,-1530992060),i=On(i,r,n,s,t[4],11,1272893353),s=On(s,i,r,n,t[7],16,-155497632),n=On(n,s,i,r,t[10],23,-1094730640),r=On(r,n,s,i,t[13],4,681279174),i=On(i,r,n,s,t[0],11,-358537222),s=On(s,i,r,n,t[3],16,-722521979),n=On(n,s,i,r,t[6],23,76029189),r=On(r,n,s,i,t[9],4,-640364487),i=On(i,r,n,s,t[12],11,-421815835),s=On(s,i,r,n,t[15],16,530742520),r=In(r,n=On(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=In(i,r,n,s,t[7],10,1126891415),s=In(s,i,r,n,t[14],15,-1416354905),n=In(n,s,i,r,t[5],21,-57434055),r=In(r,n,s,i,t[12],6,1700485571),i=In(i,r,n,s,t[3],10,-1894986606),s=In(s,i,r,n,t[10],15,-1051523),n=In(n,s,i,r,t[1],21,-2054922799),r=In(r,n,s,i,t[8],6,1873313359),i=In(i,r,n,s,t[15],10,-30611744),s=In(s,i,r,n,t[6],15,-1560198380),n=In(n,s,i,r,t[13],21,1309151649),r=In(r,n,s,i,t[4],6,-145523070),i=In(i,r,n,s,t[11],10,-1120210379),s=In(s,i,r,n,t[2],15,718787259),n=In(n,s,i,r,t[9],21,-343485551),e[0]=Va(r,e[0]),e[1]=Va(n,e[1]),e[2]=Va(s,e[2]),e[3]=Va(i,e[3])}function py(e,t,r,n,s,i){return t=Va(Va(t,e),Va(n,i)),Va(t<<s|t>>>32-s,r)}function Rn(e,t,r,n,s,i,o){return py(t&r|~t&n,e,t,s,i,o)}function Ln(e,t,r,n,s,i,o){return py(t&n|r&~n,e,t,s,i,o)}function On(e,t,r,n,s,i,o){return py(t^r^n,e,t,s,i,o)}function In(e,t,r,n,s,i,o){return py(r^(t|~n),e,t,s,i,o)}function BT(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)f1(n,cK(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(f1(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,f1(n,s),n}function cK(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var r4="0123456789abcdef".split("");function uK(e){for(var t="",r=0;r<4;r++)t+=r4[e>>8*r+4&15]+r4[e>>8*r&15];return t}function dK(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function dw(e){return BT(e).map(dK).join("")}var fK=function(e){for(var t=0;t<e.length;t++)e[t]=uK(e[t]);return e.join("")}(BT("hello"))!="5d41402abc4b2a76b9719d911017c592";function Va(e,t){if(fK){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function fw(e,t){var r,n,s,i;if(e!==r){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var d=a[l];u=(u+d+o.charCodeAt(l))%256,a[l]=a[u],a[u]=d}r=e,n=a}else a=n;var h=t.length,m=0,f=0,w="";for(l=0;l<h;l++)f=(f+(d=a[m=(m+1)%256]))%256,a[m]=a[f],a[f]=d,o=a[(a[m]+a[f])%256],w+=String.fromCharCode(t.charCodeAt(l)^o);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var n4={print:4,modify:8,copy:16,"annot-forms":32};function uu(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(a){if(n4.perm!==void 0)throw new Error("Invalid permission: "+a);s+=n4[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=dw(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=fw(this.encryptionKey,this.padding)}function du(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function s4(e){if(Xt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(a){yt.console&&nr.error("jsPDF PubSub Error",a.message,a)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function e0(e){if(!(this instanceof e0))return new e0(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function $T(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ql(e,t,r,n,s){if(!(this instanceof ql))return new ql(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,$T.call(this,n,s)}function Au(e,t,r,n,s){if(!(this instanceof Au))return new Au(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,$T.call(this,n,s)}function ut(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],o=[],a=1,l=16,u="S",d=null;Xt(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,m={},f={internal:{},__private__:{}};f.__private__.PubSub=s4;var w="1.3",y=f.__private__.getPdfVersion=function(){return w};f.__private__.setPdfVersion=function(N){w=N};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return b};var v=f.__private__.getPageFormat=function(N){return b[N]};s=s||"a4";var S="compat",_="advanced",E=S;function T(){this.saveGraphicsState(),R(new tt(gt,0,0,-gt,0,Nl()*gt).toString()+" cm"),this.setFontSize(this.getFontSize()/gt),u="n",E=_}function F(){this.restoreGraphicsState(),u="S",E=S}var D=f.__private__.combineFontStyleAndFontWeight=function(N,O){if(N=="bold"&&O=="normal"||N=="bold"&&O==400||N=="normal"&&O=="italic"||N=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(N=O==400||O==="normal"?N==="italic"?"italic":"normal":O!=700&&O!=="bold"||N!=="normal"?(O==700?"bold":O)+""+N:"bold"),N};f.advancedAPI=function(N){var O=E===S;return O&&T.call(this),typeof N!="function"||(N(this),O&&F.call(this)),this},f.compatAPI=function(N){var O=E===_;return O&&F.call(this),typeof N!="function"||(N(this),O&&T.call(this)),this},f.isAdvancedAPI=function(){return E===_};var U,B=function(N){if(E!==_)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=f.roundToPrecision=f.__private__.roundToPrecision=function(N,O){var re=t||O;if(isNaN(N)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(re).replace(/0+$/,"")};U=f.hpf=f.__private__.hpf=typeof l=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return K(N,l)}:l==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return K(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return K(N,16)};var L=f.f2=f.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return K(N,2)},k=f.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return K(N,3)},W=f.scale=f.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return E===S?N*gt:E===_?N:void 0},P=function(N){return W(function(O){return E===S?Nl()-O:E===_?O:void 0}(N))};f.__private__.setPrecision=f.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(t=parseInt(N,10))};var Z,ne="00000000000000000000000000000000",ie=f.__private__.getFileId=function(){return ne},M=f.__private__.setFileId=function(N){return ne=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Gr=new uu(d.userPermissions,d.userPassword,d.ownerPassword,ne)),ne};f.setFileId=function(N){return M(N),this},f.getFileId=function(){return ie()};var H=f.__private__.convertDateToPDFDate=function(N){var O=N.getTimezoneOffset(),re=O<0?"+":"-",le=Math.floor(Math.abs(O/60)),pe=Math.abs(O%60),ke=[re,V(le),"'",V(pe),"'"].join("");return["D:",N.getFullYear(),V(N.getMonth()+1),V(N.getDate()),V(N.getHours()),V(N.getMinutes()),V(N.getSeconds()),ke].join("")},ae=f.__private__.convertPDFDateToDate=function(N){var O=parseInt(N.substr(2,4),10),re=parseInt(N.substr(6,2),10)-1,le=parseInt(N.substr(8,2),10),pe=parseInt(N.substr(10,2),10),ke=parseInt(N.substr(12,2),10),Re=parseInt(N.substr(14,2),10);return new Date(O,re,le,pe,ke,Re,0)},de=f.__private__.setCreationDate=function(N){var O;if(N===void 0&&(N=new Date),N instanceof Date)O=H(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=N}return Z=O},C=f.__private__.getCreationDate=function(N){var O=Z;return N==="jsDate"&&(O=ae(Z)),O};f.setCreationDate=function(N){return de(N),this},f.getCreationDate=function(N){return C(N)};var q,V=f.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},Y=f.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},se=0,Q=[],ce=[],ue=0,me=[],ve=[],be=!1,Ne=ce;f.__private__.setCustomOutputDestination=function(N){be=!0,Ne=N};var Ue=function(N){be||(Ne=N)};f.__private__.resetCustomOutputDestination=function(){be=!1,Ne=ce};var R=f.__private__.out=function(N){return N=N.toString(),ue+=N.length+1,Ne.push(N),Ne},Te=f.__private__.write=function(N){return R(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},He=f.__private__.getArrayBuffer=function(N){for(var O=N.length,re=new ArrayBuffer(O),le=new Uint8Array(re);O--;)le[O]=N.charCodeAt(O);return re},oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return oe};var X=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(N){return X=E===_?N/gt:N,this};var ye,Ee=f.__private__.getFontSize=f.getFontSize=function(){return E===S?X:X*gt},Oe=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(N){return Oe=N,this},f.__private__.getR2L=f.getR2L=function(){return Oe};var Me,_e=f.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))ye=N;else if(isNaN(N)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');ye=N}else ye=parseInt(N,10)};f.__private__.getZoomMode=function(){return ye};var Ie,$e=f.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');Me=N};f.__private__.getPageMode=function(){return Me};var mt=f.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');Ie=N};f.__private__.getLayoutMode=function(){return Ie},f.__private__.setDisplayMode=f.setDisplayMode=function(N,O,re){return _e(N),mt(O),$e(re),this};var Et={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(N){if(Object.keys(Et).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Et[N]},f.__private__.getDocumentProperties=function(){return Et},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(N){for(var O in Et)Et.hasOwnProperty(O)&&N[O]&&(Et[O]=N[O]);return this},f.__private__.setDocumentProperty=function(N,O){if(Object.keys(Et).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Et[N]=O};var rt,gt,ot,pr,Dt,wt={},kt={},Gt=[],dt={},er={},ft={},xt={},sr=null,Pt=0,at=[],Ht=new s4(f),ht=e.hotfixes||[],St={},Ut={},Sr=[],tt=function N(O,re,le,pe,ke,Re){if(!(this instanceof N))return new N(O,re,le,pe,ke,Re);isNaN(O)&&(O=1),isNaN(re)&&(re=0),isNaN(le)&&(le=0),isNaN(pe)&&(pe=1),isNaN(ke)&&(ke=0),isNaN(Re)&&(Re=0),this._matrix=[O,re,le,pe,ke,Re]};Object.defineProperty(tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),tt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(N)},tt.prototype.multiply=function(N){var O=N.sx*this.sx+N.shy*this.shx,re=N.sx*this.shy+N.shy*this.sy,le=N.shx*this.sx+N.sy*this.shx,pe=N.shx*this.shy+N.sy*this.sy,ke=N.tx*this.sx+N.ty*this.shx+this.tx,Re=N.tx*this.shy+N.ty*this.sy+this.ty;return new tt(O,re,le,pe,ke,Re)},tt.prototype.decompose=function(){var N=this.sx,O=this.shy,re=this.shx,le=this.sy,pe=this.tx,ke=this.ty,Re=Math.sqrt(N*N+O*O),et=(N/=Re)*re+(O/=Re)*le;re-=N*et,le-=O*et;var lt=Math.sqrt(re*re+le*le);return et/=lt,N*(le/=lt)<O*(re/=lt)&&(N=-N,O=-O,et=-et,Re=-Re),{scale:new tt(Re,0,0,lt,0,0),translate:new tt(1,0,0,1,pe,ke),rotate:new tt(N,O,-O,N,0,0),skew:new tt(1,0,et,1,0,0)}},tt.prototype.toString=function(N){return this.join(" ")},tt.prototype.inversed=function(){var N=this.sx,O=this.shy,re=this.shx,le=this.sy,pe=this.tx,ke=this.ty,Re=1/(N*le-O*re),et=le*Re,lt=-O*Re,bt=-re*Re,Tt=N*Re;return new tt(et,lt,bt,Tt,-et*pe-bt*ke,-lt*pe-Tt*ke)},tt.prototype.applyToPoint=function(N){var O=N.x*this.sx+N.y*this.shx+this.tx,re=N.x*this.shy+N.y*this.sy+this.ty;return new _o(O,re)},tt.prototype.applyToRectangle=function(N){var O=this.applyToPoint(N),re=this.applyToPoint(new _o(N.x+N.w,N.y+N.h));return new zd(O.x,O.y,re.x-O.x,re.y-O.y)},tt.prototype.clone=function(){var N=this.sx,O=this.shy,re=this.shx,le=this.sy,pe=this.tx,ke=this.ty;return new tt(N,O,re,le,pe,ke)},f.Matrix=tt;var on=f.matrixMult=function(N,O){return O.multiply(N)},hn=new tt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=hn;var mr=function(N,O){if(!er[N]){var re=(O instanceof ql?"Sh":"P")+(Object.keys(dt).length+1).toString(10);O.id=re,er[N]=re,dt[re]=O,Ht.publish("addPattern",O)}};f.ShadingPattern=ql,f.TilingPattern=Au,f.addShadingPattern=function(N,O){return B("addShadingPattern()"),mr(N,O),this},f.beginTilingPattern=function(N){B("beginTilingPattern()"),Vd(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},f.endTilingPattern=function(N,O){B("endTilingPattern()"),O.stream=ve[q].join(`
`),mr(N,O),Ht.publish("endTilingPattern",O),Sr.pop().restore()};var Pr,Nr=f.__private__.newObject=function(){var N=an();return pn(N,!0),N},an=f.__private__.newObjectDeferred=function(){return se++,Q[se]=function(){return ue},se},pn=function(N,O){return O=typeof O=="boolean"&&O,Q[N]=ue,O&&R(N+" 0 obj"),N},yl=f.__private__.newAdditionalObject=function(){var N={objId:an(),content:""};return me.push(N),N},na=an(),si=an(),Bi=f.__private__.decodeColorString=function(N){var O=N.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length!==5||O[4]!=="k"&&O[4]!=="K"||(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var re=parseFloat(O[0]);O=[re,re,re,"r"]}for(var le="#",pe=0;pe<3;pe++)le+=("0"+Math.floor(255*parseFloat(O[pe])).toString(16)).slice(-2);return le},ii=f.__private__.encodeColorString=function(N){var O;typeof N=="string"&&(N={ch1:N});var re=N.ch1,le=N.ch2,pe=N.ch3,ke=N.ch4,Re=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var et=new FT(re);if(et.ok)re=et.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var lt=parseInt(re.substr(1),16);re=lt>>16&255,le=lt>>8&255,pe=255&lt}if(le===void 0||ke===void 0&&re===le&&le===pe)O=typeof re=="string"?re+" "+Re[0]:N.precision===2?L(re/255)+" "+Re[0]:k(re/255)+" "+Re[0];else if(ke===void 0||Xt(ke)==="object"){if(ke&&!isNaN(ke.a)&&ke.a===0)return["1.","1.","1.",Re[1]].join(" ");O=typeof re=="string"?[re,le,pe,Re[1]].join(" "):N.precision===2?[L(re/255),L(le/255),L(pe/255),Re[1]].join(" "):[k(re/255),k(le/255),k(pe/255),Re[1]].join(" ")}else O=typeof re=="string"?[re,le,pe,ke,Re[2]].join(" "):N.precision===2?[L(re),L(le),L(pe),L(ke),Re[2]].join(" "):[k(re),k(le),k(pe),k(ke),Re[2]].join(" ");return O},oi=f.__private__.getFilters=function(){return o},$s=f.__private__.putStream=function(N){var O=(N=N||{}).data||"",re=N.filters||oi(),le=N.alreadyAppliedFilters||[],pe=N.addLength1||!1,ke=O.length,Re=N.objectId,et=function(Kr){return Kr};if(d!==null&&Re===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(et=Gr.encryptor(Re,0));var lt={};re===!0&&(re=["FlateEncode"]);var bt=N.additionalKeyValues||[],Tt=(lt=ut.API.processDataByFilters!==void 0?ut.API.processDataByFilters(O,re):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(le)?le.join(" "):le.toString());if(lt.data.length!==0&&(bt.push({key:"Length",value:lt.data.length}),pe===!0&&bt.push({key:"Length1",value:ke})),Tt.length!=0)if(Tt.split("/").length-1==1)bt.push({key:"Filter",value:Tt});else{bt.push({key:"Filter",value:"["+Tt+"]"});for(var zt=0;zt<bt.length;zt+=1)if(bt[zt].key==="DecodeParms"){for(var wr=[],qr=0;qr<lt.reverseChain.split("/").length-1;qr+=1)wr.push("null");wr.push(bt[zt].value),bt[zt].value="["+wr.join(" ")+"]"}}R("<<");for(var ir=0;ir<bt.length;ir++)R("/"+bt[ir].key+" "+bt[ir].value);R(">>"),lt.data.length!==0&&(R("stream"),R(et(lt.data)),R("endstream"))},vl=f.__private__.putPage=function(N){var O=N.number,re=N.data,le=N.objId,pe=N.contentsObjId;pn(le,!0),R("<</Type /Page"),R("/Parent "+N.rootDictionaryObjId+" 0 R"),R("/Resources "+N.resourceDictionaryObjId+" 0 R"),R("/MediaBox ["+parseFloat(U(N.mediaBox.bottomLeftX))+" "+parseFloat(U(N.mediaBox.bottomLeftY))+" "+U(N.mediaBox.topRightX)+" "+U(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&R("/CropBox ["+U(N.cropBox.bottomLeftX)+" "+U(N.cropBox.bottomLeftY)+" "+U(N.cropBox.topRightX)+" "+U(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&R("/BleedBox ["+U(N.bleedBox.bottomLeftX)+" "+U(N.bleedBox.bottomLeftY)+" "+U(N.bleedBox.topRightX)+" "+U(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&R("/TrimBox ["+U(N.trimBox.bottomLeftX)+" "+U(N.trimBox.bottomLeftY)+" "+U(N.trimBox.topRightX)+" "+U(N.trimBox.topRightY)+"]"),N.artBox!==null&&R("/ArtBox ["+U(N.artBox.bottomLeftX)+" "+U(N.artBox.bottomLeftY)+" "+U(N.artBox.topRightX)+" "+U(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&R("/UserUnit "+N.userUnit),Ht.publish("putPage",{objId:le,pageContext:at[O],pageNumber:O,page:re}),R("/Contents "+pe+" 0 R"),R(">>"),R("endobj");var ke=re.join(`
`);return E===_&&(ke+=`
Q`),pn(pe,!0),$s({data:ke,filters:oi(),objectId:pe}),R("endobj"),le},$i=f.__private__.putPages=function(){var N,O,re=[];for(N=1;N<=Pt;N++)at[N].objId=an(),at[N].contentsObjId=an();for(N=1;N<=Pt;N++)re.push(vl({number:N,data:ve[N],objId:at[N].objId,contentsObjId:at[N].contentsObjId,mediaBox:at[N].mediaBox,cropBox:at[N].cropBox,bleedBox:at[N].bleedBox,trimBox:at[N].trimBox,artBox:at[N].artBox,userUnit:at[N].userUnit,rootDictionaryObjId:na,resourceDictionaryObjId:si}));pn(na,!0),R("<</Type /Pages");var le="/Kids [";for(O=0;O<Pt;O++)le+=re[O]+" 0 R ";R(le+"]"),R("/Count "+Pt),R(">>"),R("endobj"),Ht.publish("postPutPages")},wl=function(N){Ht.publish("putFont",{font:N,out:R,newObject:Nr,putStream:$s}),N.isAlreadyPutted!==!0&&(N.objectNumber=Nr(),R("<<"),R("/Type /Font"),R("/BaseFont /"+du(N.postScriptName)),R("/Subtype /Type1"),typeof N.encoding=="string"&&R("/Encoding /"+N.encoding),R("/FirstChar 32"),R("/LastChar 255"),R(">>"),R("endobj"))},Mc=function(N){N.objectNumber=Nr();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[U(N.x),U(N.y),U(N.x+N.width),U(N.y+N.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var re=N.pages[1].join(`
`);$s({data:re,additionalKeyValues:O,objectId:N.objectNumber}),R("endobj")},Fc=function(N,O){O||(O=21);var re=Nr(),le=function(Re,et){var lt,bt=[],Tt=1/(et-1);for(lt=0;lt<1;lt+=Tt)bt.push(lt);if(bt.push(1),Re[0].offset!=0){var zt={offset:0,color:Re[0].color};Re.unshift(zt)}if(Re[Re.length-1].offset!=1){var wr={offset:1,color:Re[Re.length-1].color};Re.push(wr)}for(var qr="",ir=0,Kr=0;Kr<bt.length;Kr++){for(lt=bt[Kr];lt>Re[ir+1].offset;)ir++;var zr=Re[ir].offset,mn=(lt-zr)/(Re[ir+1].offset-zr),Eo=Re[ir].color,li=Re[ir+1].color;qr+=Y(Math.round((1-mn)*Eo[0]+mn*li[0]).toString(16))+Y(Math.round((1-mn)*Eo[1]+mn*li[1]).toString(16))+Y(Math.round((1-mn)*Eo[2]+mn*li[2]).toString(16))}return qr.trim()}(N.colors,O),pe=[];pe.push({key:"FunctionType",value:"0"}),pe.push({key:"Domain",value:"[0.0 1.0]"}),pe.push({key:"Size",value:"["+O+"]"}),pe.push({key:"BitsPerSample",value:"8"}),pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$s({data:le,additionalKeyValues:pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),R("endobj"),N.objectNumber=Nr(),R("<< /ShadingType "+N.type),R("/ColorSpace /DeviceRGB");var ke="/Coords ["+U(parseFloat(N.coords[0]))+" "+U(parseFloat(N.coords[1]))+" ";N.type===2?ke+=U(parseFloat(N.coords[2]))+" "+U(parseFloat(N.coords[3])):ke+=U(parseFloat(N.coords[2]))+" "+U(parseFloat(N.coords[3]))+" "+U(parseFloat(N.coords[4]))+" "+U(parseFloat(N.coords[5])),R(ke+="]"),N.matrix&&R("/Matrix ["+N.matrix.toString()+"]"),R("/Function "+re+" 0 R"),R("/Extend [true true]"),R(">>"),R("endobj")},Bc=function(N,O){var re=an(),le=Nr();O.push({resourcesOid:re,objectOid:le}),N.objectNumber=le;var pe=[];pe.push({key:"Type",value:"/Pattern"}),pe.push({key:"PatternType",value:"1"}),pe.push({key:"PaintType",value:"1"}),pe.push({key:"TilingType",value:"1"}),pe.push({key:"BBox",value:"["+N.boundingBox.map(U).join(" ")+"]"}),pe.push({key:"XStep",value:U(N.xStep)}),pe.push({key:"YStep",value:U(N.yStep)}),pe.push({key:"Resources",value:re+" 0 R"}),N.matrix&&pe.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),$s({data:N.stream,additionalKeyValues:pe,objectId:N.objectNumber}),R("endobj")},Ny=function(N){for(var O in N.objectNumber=Nr(),R("<<"),N)switch(O){case"opacity":R("/ca "+L(N[O]));break;case"stroke-opacity":R("/CA "+L(N[O]))}R(">>"),R("endobj")},Id=function(N){pn(N.resourcesOid,!0),R("<<"),R("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var O in R("/Font <<"),wt)wt.hasOwnProperty(O)&&(h===!1||h===!0&&m.hasOwnProperty(O))&&R("/"+O+" "+wt[O].objectNumber+" 0 R");R(">>")}(),function(){if(Object.keys(dt).length>0){for(var O in R("/Shading <<"),dt)dt.hasOwnProperty(O)&&dt[O]instanceof ql&&dt[O].objectNumber>=0&&R("/"+O+" "+dt[O].objectNumber+" 0 R");Ht.publish("putShadingPatternDict"),R(">>")}}(),function(O){if(Object.keys(dt).length>0){for(var re in R("/Pattern <<"),dt)dt.hasOwnProperty(re)&&dt[re]instanceof f.TilingPattern&&dt[re].objectNumber>=0&&dt[re].objectNumber<O&&R("/"+re+" "+dt[re].objectNumber+" 0 R");Ht.publish("putTilingPatternDict"),R(">>")}}(N.objectOid),function(){if(Object.keys(ft).length>0){var O;for(O in R("/ExtGState <<"),ft)ft.hasOwnProperty(O)&&ft[O].objectNumber>=0&&R("/"+O+" "+ft[O].objectNumber+" 0 R");Ht.publish("putGStateDict"),R(">>")}}(),function(){for(var O in R("/XObject <<"),St)St.hasOwnProperty(O)&&St[O].objectNumber>=0&&R("/"+O+" "+St[O].objectNumber+" 0 R");Ht.publish("putXobjectDict"),R(">>")}(),R(">>"),R("endobj")},rp=function(N){kt[N.fontName]=kt[N.fontName]||{},kt[N.fontName][N.fontStyle]=N.id},np=function(N,O,re,le,pe){var ke={id:"F"+(Object.keys(wt).length+1).toString(10),postScriptName:N,fontName:O,fontStyle:re,encoding:le,isStandardFont:pe||!1,metadata:{}};return Ht.publish("addFont",{font:ke,instance:this}),wt[ke.id]=ke,rp(ke),ke.id},Us=f.__private__.pdfEscape=f.pdfEscape=function(N,O){return function(re,le){var pe,ke,Re,et,lt,bt,Tt,zt,wr;if(Re=(le=le||{}).sourceEncoding||"Unicode",lt=le.outputEncoding,(le.autoencode||lt)&&wt[rt].metadata&&wt[rt].metadata[Re]&&wt[rt].metadata[Re].encoding&&(et=wt[rt].metadata[Re].encoding,!lt&&wt[rt].encoding&&(lt=wt[rt].encoding),!lt&&et.codePages&&(lt=et.codePages[0]),typeof lt=="string"&&(lt=et[lt]),lt)){for(Tt=!1,bt=[],pe=0,ke=re.length;pe<ke;pe++)(zt=lt[re.charCodeAt(pe)])?bt.push(String.fromCharCode(zt)):bt.push(re[pe]),bt[pe].charCodeAt(0)>>8&&(Tt=!0);re=bt.join("")}for(pe=re.length;Tt===void 0&&pe!==0;)re.charCodeAt(pe-1)>>8&&(Tt=!0),pe--;if(!Tt)return re;for(bt=le.noBOM?[]:[254,255],pe=0,ke=re.length;pe<ke;pe++){if((wr=(zt=re.charCodeAt(pe))>>8)>>8)throw new Error("Character at position "+pe+" of string '"+re+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");bt.push(wr),bt.push(zt-(wr<<8))}return String.fromCharCode.apply(void 0,bt)}(N,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dd=f.__private__.beginPage=function(N){ve[++Pt]=[],at[Pt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},ip(Pt),Ue(ve[q])},sp=function(N,O){var re,le,pe;switch(r=O||r,typeof N=="string"&&(re=v(N.toLowerCase()),Array.isArray(re)&&(le=re[0],pe=re[1])),Array.isArray(N)&&(le=N[0]*gt,pe=N[1]*gt),isNaN(le)&&(le=s[0],pe=s[1]),(le>14400||pe>14400)&&(nr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),le=Math.min(14400,le),pe=Math.min(14400,pe)),s=[le,pe],r.substr(0,1)){case"l":pe>le&&(s=[pe,le]);break;case"p":le>pe&&(s=[pe,le])}Dd(s),Nt(Bd),R(zc),Ud!==0&&R(Ud+" J"),qd!==0&&R(qd+" j"),Ht.publish("addPage",{pageNumber:Pt})},Md=function(N){N>0&&N<=Pt&&(ve.splice(N,1),at.splice(N,1),Pt--,q>Pt&&(q=Pt),this.setPage(q))},ip=function(N){N>0&&N<=Pt&&(q=N)},op=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ve.length-1},ap=function(N,O,re){var le,pe=void 0;return re=re||{},N=N!==void 0?N:wt[rt].fontName,O=O!==void 0?O:wt[rt].fontStyle,le=N.toLowerCase(),kt[le]!==void 0&&kt[le][O]!==void 0?pe=kt[le][O]:kt[N]!==void 0&&kt[N][O]!==void 0?pe=kt[N][O]:re.disableWarning===!1&&nr.warn("Unable to look up font label for font '"+N+"', '"+O+"'. Refer to getFontList() for available fonts."),pe||re.noFallback||(pe=kt.times[O])==null&&(pe=kt.times.normal),pe},Ui=f.__private__.putInfo=function(){var N=Nr(),O=function(le){return le};for(var re in d!==null&&(O=Gr.encryptor(N,0)),R("<<"),R("/Producer ("+Us(O("jsPDF "+ut.version))+")"),Et)Et.hasOwnProperty(re)&&Et[re]&&R("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+Us(O(Et[re]))+")");R("/CreationDate ("+Us(O(Z))+")"),R(">>"),R("endobj")},$c=f.__private__.putCatalog=function(N){var O=(N=N||{}).rootDictionaryObjId||na;switch(Nr(),R("<<"),R("/Type /Catalog"),R("/Pages "+O+" 0 R"),ye||(ye="fullwidth"),ye){case"fullwidth":R("/OpenAction [3 0 R /FitH null]");break;case"fullheight":R("/OpenAction [3 0 R /FitV null]");break;case"fullpage":R("/OpenAction [3 0 R /Fit]");break;case"original":R("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+ye;re.substr(re.length-1)==="%"&&(ye=parseInt(ye)/100),typeof ye=="number"&&R("/OpenAction [3 0 R /XYZ null null "+L(ye)+"]")}switch(Ie||(Ie="continuous"),Ie){case"continuous":R("/PageLayout /OneColumn");break;case"single":R("/PageLayout /SinglePage");break;case"two":case"twoleft":R("/PageLayout /TwoColumnLeft");break;case"tworight":R("/PageLayout /TwoColumnRight")}Me&&R("/PageMode /"+Me),Ht.publish("putCatalog"),R(">>"),R("endobj")},Ey=f.__private__.putTrailer=function(){R("trailer"),R("<<"),R("/Size "+(se+1)),R("/Root "+se+" 0 R"),R("/Info "+(se-1)+" 0 R"),d!==null&&R("/Encrypt "+Gr.oid+" 0 R"),R("/ID [ <"+ne+"> <"+ne+"> ]"),R(">>")},Ur=f.__private__.putHeader=function(){R("%PDF-"+w),R("%")},lp=f.__private__.putXRef=function(){var N="0000000000";R("xref"),R("0 "+(se+1)),R("0000000000 65535 f ");for(var O=1;O<=se;O++)typeof Q[O]=="function"?R((N+Q[O]()).slice(-10)+" 00000 n "):Q[O]!==void 0?R((N+Q[O]).slice(-10)+" 00000 n "):R("0000000000 00000 n ")},qi=f.__private__.buildDocument=function(){var N;se=0,ue=0,ce=[],Q=[],me=[],na=an(),si=an(),Ue(ce),Ht.publish("buildDocument"),Ur(),$i(),function(){Ht.publish("putAdditionalObjects");for(var re=0;re<me.length;re++){var le=me[re];pn(le.objId,!0),R(le.content),R("endobj")}Ht.publish("postPutAdditionalObjects")}(),N=[],function(){for(var re in wt)wt.hasOwnProperty(re)&&(h===!1||h===!0&&m.hasOwnProperty(re))&&wl(wt[re])}(),function(){var re;for(re in ft)ft.hasOwnProperty(re)&&Ny(ft[re])}(),function(){for(var re in St)St.hasOwnProperty(re)&&Mc(St[re])}(),function(re){var le;for(le in dt)dt.hasOwnProperty(le)&&(dt[le]instanceof ql?Fc(dt[le]):dt[le]instanceof Au&&Bc(dt[le],re))}(N),Ht.publish("putResources"),N.forEach(Id),Id({resourcesOid:si,objectOid:Number.MAX_SAFE_INTEGER}),Ht.publish("postPutResources"),d!==null&&(Gr.oid=Nr(),R("<<"),R("/Filter /Standard"),R("/V "+Gr.v),R("/R "+Gr.r),R("/U <"+Gr.toHexString(Gr.U)+">"),R("/O <"+Gr.toHexString(Gr.O)+">"),R("/P "+Gr.P),R(">>"),R("endobj")),Ui(),$c();var O=ue;return lp(),Ey(),R("startxref"),R(""+O),R("%%EOF"),Ue(ve[q]),ce.join(`
`)},Uc=f.__private__.getBlob=function(N){return new Blob([He(N)],{type:"application/pdf"})},cp=f.output=f.__private__.output=(Pr=function(N,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",N){case void 0:return qi();case"save":f.save(O.filename);break;case"arraybuffer":return He(qi());case"blob":return Uc(qi());case"bloburi":case"bloburl":if(yt.URL!==void 0&&typeof yt.URL.createObjectURL=="function")return yt.URL&&yt.URL.createObjectURL(Uc(qi()))||void 0;nr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",le=qi();try{re=t4(le)}catch{re=t4(unescape(encodeURIComponent(le)))}return"data:application/pdf;filename="+O.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(pe=O.pdfObjectUrl,ke="");var Re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pe+'"'+ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",et=yt.open();return et!==null&&et.document.write(Re),et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',bt=yt.open();if(bt!==null){bt.document.write(lt);var Tt=this;bt.document.documentElement.querySelector("#pdfViewer").onload=function(){bt.document.title=O.filename,bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Tt.output("bloburl"))}}return bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',wr=yt.open();if(wr!==null&&(wr.document.write(zt),wr.document.title=O.filename),wr||typeof safari>"u")return wr;break;case"datauri":case"dataurl":return yt.document.location.href=this.output("datauristring",O);default:return null}},Pr.foo=function(){try{return Pr.apply(this,arguments)}catch(re){var N=re.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var O="Error in function "+N.split(`
`)[0].split("<")[0]+": "+re.message;if(!yt.console)throw new Error(O);yt.console.error(O,re),yt.alert&&alert(O)}},Pr.foo.bar=Pr,Pr.foo),qs=function(N){return Array.isArray(ht)===!0&&ht.indexOf(N)>-1};switch(n){case"pt":gt=1;break;case"mm":gt=72/25.4;break;case"cm":gt=72/2.54;break;case"in":gt=72;break;case"px":gt=qs("px_scaling")==1?.75:96/72;break;case"pc":case"em":gt=12;break;case"ex":gt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);gt=n}var Gr=null;de(),M();var vo=f.__private__.getPageInfo=f.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:at[N].objId,pageNumber:N,pageContext:at[N]}},up=f.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in at)if(at[O].objId===N)break;return vo(O)},jy=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:at[q].objId,pageNumber:q,pageContext:at[q]}};f.addPage=function(){return sp.apply(this,arguments),this},f.setPage=function(){return ip.apply(this,arguments),Ue.call(this,ve[q]),this},f.insertPage=function(N){return this.addPage(),this.movePage(q,N),this},f.movePage=function(N,O){var re,le;if(N>O){re=ve[N],le=at[N];for(var pe=N;pe>O;pe--)ve[pe]=ve[pe-1],at[pe]=at[pe-1];ve[O]=re,at[O]=le,this.setPage(O)}else if(N<O){re=ve[N],le=at[N];for(var ke=N;ke<O;ke++)ve[ke]=ve[ke+1],at[ke]=at[ke+1];ve[O]=re,at[O]=le,this.setPage(O)}return this},f.deletePage=function(){return Md.apply(this,arguments),this},f.__private__.text=f.text=function(N,O,re,le,pe){var ke,Re,et,lt,bt,Tt,zt,wr,qr,ir=(le=le||{}).scope||this;if(typeof N=="number"&&typeof O=="number"&&(typeof re=="string"||Array.isArray(re))){var Kr=re;re=O,O=N,N=Kr}if(arguments[3]instanceof tt==0?(et=arguments[4],lt=arguments[5],Xt(zt=arguments[3])==="object"&&zt!==null||(typeof et=="string"&&(lt=et,et=null),typeof zt=="string"&&(lt=zt,zt=null),typeof zt=="number"&&(et=zt,zt=null),le={flags:zt,angle:et,align:lt})):(B("The transform parameter of text() with a Matrix value"),qr=pe),isNaN(O)||isNaN(re)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return ir;var zr,mn="",Eo=typeof le.lineHeightFactor=="number"?le.lineHeightFactor:bl,li=ir.internal.scaleFactor;function jo(Kt){return Kt=Kt.split("	").join(Array(le.TabLen||9).join(" ")),Us(Kt,zt)}function Hd(Kt){for(var tr,Rr=Kt.concat(),Jr=[],ko=Rr.length;ko--;)typeof(tr=Rr.shift())=="string"?Jr.push(tr):Array.isArray(Kt)&&(tr.length===1||tr[1]===void 0&&tr[2]===void 0)?Jr.push(tr[0]):Jr.push([tr[0],tr[1],tr[2]]);return Jr}function Wc(Kt,tr){var Rr;if(typeof Kt=="string")Rr=tr(Kt)[0];else if(Array.isArray(Kt)){for(var Jr,ko,rf=Kt.concat(),Kc=[],bp=rf.length;bp--;)typeof(Jr=rf.shift())=="string"?Kc.push(tr(Jr)[0]):Array.isArray(Jr)&&typeof Jr[0]=="string"&&(ko=tr(Jr[0],Jr[1],Jr[2]),Kc.push([ko[0],ko[1],ko[2]]));Rr=Kc}return Rr}var sa=!1,El=!0;if(typeof N=="string")sa=!0;else if(Array.isArray(N)){var jl=N.concat();Re=[];for(var ia,gn=jl.length;gn--;)(typeof(ia=jl.shift())!="string"||Array.isArray(ia)&&typeof ia[0]!="string")&&(El=!1);sa=El}if(sa===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var Al=X/ir.internal.scaleFactor,Cl=Al*(Eo-1);switch(le.baseline){case"bottom":re-=Cl;break;case"top":re+=Al-Cl;break;case"hanging":re+=Al-2*Cl;break;case"middle":re+=Al/2-Cl}if((Tt=le.maxWidth||0)>0&&(typeof N=="string"?N=ir.splitTextToSize(N,Tt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(Kt,tr){return Kt.concat(ir.splitTextToSize(tr,Tt))},[]))),ke={text:N,x:O,y:re,options:le,mutex:{pdfEscape:Us,activeFontKey:rt,fonts:wt,activeFontSize:X}},Ht.publish("preProcessText",ke),N=ke.text,et=(le=ke.options).angle,qr instanceof tt==0&&et&&typeof et=="number"){et*=Math.PI/180,le.rotationDirection===0&&(et=-et),E===_&&(et=-et);var Gd=Math.cos(et),Kd=Math.sin(et);qr=new tt(Gd,Kd,-Kd,Gd,0,0)}else et&&et instanceof tt&&(qr=et);E!==_||qr||(qr=hn),(bt=le.charSpace||bo)!==void 0&&(mn+=U(W(bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(wr=le.horizontalScale)!==void 0&&(mn+=U(100*wr)+` Tz
`),le.lang;var Un=-1,Ao=le.renderingMode!==void 0?le.renderingMode:le.stroke,Hc=ir.internal.getCurrentPageInfo().pageContext;switch(Ao){case 0:case!1:case"fill":Un=0;break;case 1:case!0:case"stroke":Un=1;break;case 2:case"fillThenStroke":Un=2;break;case 3:case"invisible":Un=3;break;case 4:case"fillAndAddForClipping":Un=4;break;case 5:case"strokeAndAddPathForClipping":Un=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Un=6;break;case 7:case"addToPathForClipping":Un=7}var wp=Hc.usedRenderingMode!==void 0?Hc.usedRenderingMode:-1;Un!==-1?mn+=Un+` Tr
`:wp!==-1&&(mn+=`0 Tr
`),Un!==-1&&(Hc.usedRenderingMode=Un),lt=le.align||"left";var zs,kl=X*Eo,Jd=ir.internal.pageSize.getWidth(),Yd=wt[rt];bt=le.charSpace||bo,Tt=le.maxWidth||0,zt=Object.assign({autoencode:!0,noBOM:!0},le.flags);var oa=[],Pl=function(Kt){return ir.getStringUnitWidth(Kt,{font:Yd,charSpace:bt,fontSize:X,doKerning:!1})*X/li};if(Object.prototype.toString.call(N)==="[object Array]"){var ws;Re=Hd(N),lt!=="left"&&(zs=Re.map(Pl));var xs,aa=0;if(lt==="right"){O-=zs[0],N=[],gn=Re.length;for(var Co=0;Co<gn;Co++)Co===0?(xs=wo(O),ws=xo(re)):(xs=W(aa-zs[Co]),ws=-kl),N.push([Re[Co],xs,ws]),aa=zs[Co]}else if(lt==="center"){O-=zs[0]/2,N=[],gn=Re.length;for(var la=0;la<gn;la++)la===0?(xs=wo(O),ws=xo(re)):(xs=W((aa-zs[la])/2),ws=-kl),N.push([Re[la],xs,ws]),aa=zs[la]}else if(lt==="left"){N=[],gn=Re.length;for(var Qd=0;Qd<gn;Qd++)N.push(Re[Qd])}else if(lt==="justify"&&Yd.encoding==="Identity-H"){N=[],gn=Re.length,Tt=Tt!==0?Tt:Jd;for(var Gc=0,Tr=0;Tr<gn;Tr++)if(ws=Tr===0?xo(re):-kl,xs=Tr===0?wo(O):Gc,Tr<gn-1){var xp=W((Tt-zs[Tr])/(Re[Tr].split(" ").length-1)),Vi=Re[Tr].split(" ");N.push([Vi[0]+" ",xs,ws]),Gc=0;for(var Wi=1;Wi<Vi.length;Wi++){var Xd=(Pl(Vi[Wi-1]+" "+Vi[Wi])-Pl(Vi[Wi]))*li+xp;Wi==Vi.length-1?N.push([Vi[Wi],Xd,0]):N.push([Vi[Wi]+" ",Xd,0]),Gc-=Xd}}else N.push([Re[Tr],xs,ws]);N.push(["",Gc,0])}else{if(lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],gn=Re.length,Tt=Tt!==0?Tt:Jd,Tr=0;Tr<gn;Tr++){ws=Tr===0?xo(re):-kl,xs=Tr===0?wo(O):0;var Zd=Re[Tr].split(" ").length-1,ef=Zd>0?(Tt-zs[Tr])/Zd:0;Tr<gn-1?oa.push(U(W(ef))):oa.push(0),N.push([Re[Tr],xs,ws])}}}(typeof le.R2L=="boolean"?le.R2L:Oe)===!0&&(N=Wc(N,function(Kt,tr,Rr){return[Kt.split("").reverse().join(""),tr,Rr]})),ke={text:N,x:O,y:re,options:le,mutex:{pdfEscape:Us,activeFontKey:rt,fonts:wt,activeFontSize:X}},Ht.publish("postProcessText",ke),N=ke.text,zr=ke.mutex.isHex||!1;var tf=wt[rt].encoding;tf!=="WinAnsiEncoding"&&tf!=="StandardEncoding"||(N=Wc(N,function(Kt,tr,Rr){return[jo(Kt),tr,Rr]})),Re=Hd(N),N=[];for(var ca,ua,da,Tl=Array.isArray(Re[0])?1:0,fa="",Rl=function(Kt,tr,Rr){var Jr="";return Rr instanceof tt?(Rr=typeof le.angle=="number"?on(Rr,new tt(1,0,0,1,Kt,tr)):on(new tt(1,0,0,1,Kt,tr),Rr),E===_&&(Rr=on(new tt(1,0,0,-1,0,0),Rr)),Jr=Rr.join(" ")+` Tm
`):Jr=U(Kt)+" "+U(tr)+` Td
`,Jr},Vs=0;Vs<Re.length;Vs++){switch(fa="",Tl){case 1:da=(zr?"<":"(")+Re[Vs][0]+(zr?">":")"),ca=parseFloat(Re[Vs][1]),ua=parseFloat(Re[Vs][2]);break;case 0:da=(zr?"<":"(")+Re[Vs]+(zr?">":")"),ca=wo(O),ua=xo(re)}oa!==void 0&&oa[Vs]!==void 0&&(fa=oa[Vs]+` Tw
`),Vs===0?N.push(fa+Rl(ca,ua,qr)+da):Tl===0?N.push(fa+da):Tl===1&&N.push(fa+Rl(ca,ua,qr)+da)}N=Tl===0?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Hi=`BT
/`;return Hi+=rt+" "+X+` Tf
`,Hi+=U(X*Eo)+` TL
`,Hi+=_l+`
`,Hi+=mn,Hi+=N,R(Hi+="ET"),m[rt]=!0,ir};var Ay=f.__private__.clip=f.clip=function(N){return R(N==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Ay("evenodd")},f.__private__.discardPath=f.discardPath=function(){return R("n"),this};var zi=f.__private__.isValidStyle=function(N){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(O=!0),O};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(N){return zi(N)&&(u=N),this};var dp=f.__private__.getStyle=f.getStyle=function(N){var O=u;switch(N){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=N}return O},fp=f.close=function(){return R("h"),this};f.stroke=function(){return R("S"),this},f.fill=function(N){return qc("f",N),this},f.fillEvenOdd=function(N){return qc("f*",N),this},f.fillStroke=function(N){return qc("B",N),this},f.fillStrokeEvenOdd=function(N){return qc("B*",N),this};var qc=function(N,O){Xt(O)==="object"?ky(O,N):R(N)},xl=function(N){N===null||E===_&&N===void 0||(N=dp(N),R(N))};function Cy(N,O,re,le,pe){var ke=new Au(O||this.boundingBox,re||this.xStep,le||this.yStep,this.gState,pe||this.matrix);ke.stream=this.stream;var Re=N+"$$"+this.cloneIndex+++"$$";return mr(Re,ke),ke}var ky=function(N,O){var re=er[N.key],le=dt[re];if(le instanceof ql)R("q"),R(Py(O)),le.gState&&f.setGState(le.gState),R(N.matrix.toString()+" cm"),R("/"+re+" sh"),R("Q");else if(le instanceof Au){var pe=new tt(1,0,0,-1,0,Nl());N.matrix&&(pe=pe.multiply(N.matrix||hn),re=Cy.call(le,N.key,N.boundingBox,N.xStep,N.yStep,pe).id),R("q"),R("/Pattern cs"),R("/"+re+" scn"),le.gState&&f.setGState(le.gState),R(O),R("Q")}},Py=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Fd=f.moveTo=function(N,O){return R(U(W(N))+" "+U(P(O))+" m"),this},hp=f.lineTo=function(N,O){return R(U(W(N))+" "+U(P(O))+" l"),this},ai=f.curveTo=function(N,O,re,le,pe,ke){return R([U(W(N)),U(P(O)),U(W(re)),U(P(le)),U(W(pe)),U(P(ke)),"c"].join(" ")),this};f.__private__.line=f.line=function(N,O,re,le,pe){if(isNaN(N)||isNaN(O)||isNaN(re)||isNaN(le)||!zi(pe))throw new Error("Invalid arguments passed to jsPDF.line");return E===S?this.lines([[re-N,le-O]],N,O,[1,1],pe||"S"):this.lines([[re-N,le-O]],N,O,[1,1]).stroke()},f.__private__.lines=f.lines=function(N,O,re,le,pe,ke){var Re,et,lt,bt,Tt,zt,wr,qr,ir,Kr,zr,mn;if(typeof N=="number"&&(mn=re,re=O,O=N,N=mn),le=le||[1,1],ke=ke||!1,isNaN(O)||isNaN(re)||!Array.isArray(N)||!Array.isArray(le)||!zi(pe)||typeof ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Fd(O,re),Re=le[0],et=le[1],bt=N.length,Kr=O,zr=re,lt=0;lt<bt;lt++)(Tt=N[lt]).length===2?(Kr=Tt[0]*Re+Kr,zr=Tt[1]*et+zr,hp(Kr,zr)):(zt=Tt[0]*Re+Kr,wr=Tt[1]*et+zr,qr=Tt[2]*Re+Kr,ir=Tt[3]*et+zr,Kr=Tt[4]*Re+Kr,zr=Tt[5]*et+zr,ai(zt,wr,qr,ir,Kr,zr));return ke&&fp(),xl(pe),this},f.path=function(N){for(var O=0;O<N.length;O++){var re=N[O],le=re.c;switch(re.op){case"m":Fd(le[0],le[1]);break;case"l":hp(le[0],le[1]);break;case"c":ai.apply(this,le);break;case"h":fp()}}return this},f.__private__.rect=f.rect=function(N,O,re,le,pe){if(isNaN(N)||isNaN(O)||isNaN(re)||isNaN(le)||!zi(pe))throw new Error("Invalid arguments passed to jsPDF.rect");return E===S&&(le=-le),R([U(W(N)),U(P(O)),U(W(re)),U(W(le)),"re"].join(" ")),xl(pe),this},f.__private__.triangle=f.triangle=function(N,O,re,le,pe,ke,Re){if(isNaN(N)||isNaN(O)||isNaN(re)||isNaN(le)||isNaN(pe)||isNaN(ke)||!zi(Re))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-N,le-O],[pe-re,ke-le],[N-pe,O-ke]],N,O,[1,1],Re,!0),this},f.__private__.roundedRect=f.roundedRect=function(N,O,re,le,pe,ke,Re){if(isNaN(N)||isNaN(O)||isNaN(re)||isNaN(le)||isNaN(pe)||isNaN(ke)||!zi(Re))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var et=4/3*(Math.SQRT2-1);return pe=Math.min(pe,.5*re),ke=Math.min(ke,.5*le),this.lines([[re-2*pe,0],[pe*et,0,pe,ke-ke*et,pe,ke],[0,le-2*ke],[0,ke*et,-pe*et,ke,-pe,ke],[2*pe-re,0],[-pe*et,0,-pe,-ke*et,-pe,-ke],[0,2*ke-le],[0,-ke*et,pe*et,-ke,pe,-ke]],N+pe,O,[1,1],Re,!0),this},f.__private__.ellipse=f.ellipse=function(N,O,re,le,pe){if(isNaN(N)||isNaN(O)||isNaN(re)||isNaN(le)||!zi(pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ke=4/3*(Math.SQRT2-1)*re,Re=4/3*(Math.SQRT2-1)*le;return Fd(N+re,O),ai(N+re,O-Re,N+ke,O-le,N,O-le),ai(N-ke,O-le,N-re,O-Re,N-re,O),ai(N-re,O+Re,N-ke,O+le,N,O+le),ai(N+ke,O+le,N+re,O+Re,N+re,O),xl(pe),this},f.__private__.circle=f.circle=function(N,O,re,le){if(isNaN(N)||isNaN(O)||isNaN(re)||!zi(le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,O,re,re,le)},f.setFont=function(N,O,re){return re&&(O=D(O,re)),rt=ap(N,O,{disableWarning:!1}),this};var Ty=f.__private__.getFont=f.getFont=function(){return wt[ap.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var N,O,re={};for(N in kt)if(kt.hasOwnProperty(N))for(O in re[N]=[],kt[N])kt[N].hasOwnProperty(O)&&re[N].push(O);return re},f.addFont=function(N,O,re,le,pe){var ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ke.indexOf(arguments[3])!==-1?pe=arguments[3]:arguments[3]&&ke.indexOf(arguments[3])==-1&&(re=D(re,le)),np.call(this,N,O,re,pe=pe||"Identity-H")};var bl,Bd=e.lineWidth||.200025,Ry=f.__private__.getLineWidth=f.getLineWidth=function(){return Bd},Nt=f.__private__.setLineWidth=f.setLineWidth=function(N){return Bd=N,R(U(W(N))+" w"),this};f.__private__.setLineDash=ut.API.setLineDash=ut.API.setLineDashPattern=function(N,O){if(N=N||[],O=O||0,isNaN(O)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(re){return U(W(re))}).join(" "),O=U(W(O)),R("["+N+"] "+O+" d"),this};var Ly=f.__private__.getLineHeight=f.getLineHeight=function(){return X*bl};f.__private__.getLineHeight=f.getLineHeight=function(){return X*bl};var Oy=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(bl=N),this},Iy=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return bl};Oy(e.lineHeight);var wo=f.__private__.getHorizontalCoordinate=function(N){return W(N)},xo=f.__private__.getVerticalCoordinate=function(N){return E===_?N:at[q].mediaBox.topRightY-at[q].mediaBox.bottomLeftY-W(N)},Dy=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(N){return U(wo(N))},My=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(N){return U(xo(N))},zc=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Bi(zc)},f.__private__.setStrokeColor=f.setDrawColor=function(N,O,re,le){return zc=ii({ch1:N,ch2:O,ch3:re,ch4:le,pdfColorType:"draw",precision:2}),R(zc),this};var $d=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Bi($d)},f.__private__.setFillColor=f.setFillColor=function(N,O,re,le){return $d=ii({ch1:N,ch2:O,ch3:re,ch4:le,pdfColorType:"fill",precision:2}),R($d),this};var _l=e.textColor||"0 g",Fy=f.__private__.getTextColor=f.getTextColor=function(){return Bi(_l)};f.__private__.setTextColor=f.setTextColor=function(N,O,re,le){return _l=ii({ch1:N,ch2:O,ch3:re,ch4:le,pdfColorType:"text",precision:3}),this};var bo=e.charSpace,By=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(bo||0)};f.__private__.setCharSpace=f.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return bo=N,this};var Ud=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(N){var O=f.CapJoinStyles[N];if(O===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ud=O,R(O+" J"),this};var qd=0;f.__private__.setLineJoin=f.setLineJoin=function(N){var O=f.CapJoinStyles[N];if(O===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qd=O,R(O+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return R(U(W(N))+" M"),this},f.GState=e0,f.setGState=function(N){(N=typeof N=="string"?ft[xt[N]]:pp(null,N)).equals(sr)||(R("/"+N.id+" gs"),sr=N)};var pp=function(N,O){if(!N||!xt[N]){var re=!1;for(var le in ft)if(ft.hasOwnProperty(le)&&ft[le].equals(O)){re=!0;break}if(re)O=ft[le];else{var pe="GS"+(Object.keys(ft).length+1).toString(10);ft[pe]=O,O.id=pe}return N&&(xt[N]=O.id),Ht.publish("addGState",O),O}};f.addGState=function(N,O){return pp(N,O),this},f.saveGraphicsState=function(){return R("q"),Gt.push({key:rt,size:X,color:_l}),this},f.restoreGraphicsState=function(){R("Q");var N=Gt.pop();return rt=N.key,X=N.size,_l=N.color,sr=null,this},f.setCurrentTransformationMatrix=function(N){return R(N.toString()+" cm"),this},f.comment=function(N){return R("#"+N),this};var _o=function(N,O){var re=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(ke){isNaN(ke)||(re=parseFloat(ke))}});var le=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return le},set:function(ke){isNaN(ke)||(le=parseFloat(ke))}});var pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pe},set:function(ke){pe=ke.toString()}}),this},zd=function(N,O,re,le){_o.call(this,N,O),this.type="rect";var pe=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pe},set:function(Re){isNaN(Re)||(pe=parseFloat(Re))}});var ke=le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ke},set:function(Re){isNaN(Re)||(ke=parseFloat(Re))}}),this},Vc=function(){this.page=Pt,this.currentPage=q,this.pages=ve.slice(0),this.pagesContext=at.slice(0),this.x=ot,this.y=pr,this.matrix=Dt,this.width=Wd(q),this.height=gp(q),this.outputDestination=Ne,this.id="",this.objectNumber=-1};Vc.prototype.restore=function(){Pt=this.page,q=this.currentPage,at=this.pagesContext,ve=this.pages,ot=this.x,pr=this.y,Dt=this.matrix,mp(q,this.width),So(q,this.height),Ne=this.outputDestination};var Vd=function(N,O,re,le,pe){Sr.push(new Vc),Pt=q=0,ve=[],ot=N,pr=O,Dt=pe,Dd([re,le])};for(var Sl in f.beginFormObject=function(N,O,re,le,pe){return Vd(N,O,re,le,pe),this},f.endFormObject=function(N){return function(O){if(Ut[O])Sr.pop().restore();else{var re=new Vc,le="Xo"+(Object.keys(St).length+1).toString(10);re.id=le,Ut[O]=le,St[le]=re,Ht.publish("addFormObject",re),Sr.pop().restore()}}(N),this},f.doFormObject=function(N,O){var re=St[Ut[N]];return R("q"),R(O.toString()+" cm"),R("/"+re.id+" Do"),R("Q"),this},f.getFormObject=function(N){var O=St[Ut[N]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},f.save=function(N,O){return N=N||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(Fl(Uc(qi()),N),typeof Fl.unload=="function"&&yt.setTimeout&&setTimeout(Fl.unload,911),this):new Promise(function(re,le){try{var pe=Fl(Uc(qi()),N);typeof Fl.unload=="function"&&yt.setTimeout&&setTimeout(Fl.unload,911),re(pe)}catch(ke){le(ke.message)}})},ut.API)ut.API.hasOwnProperty(Sl)&&(Sl==="events"&&ut.API.events.length?function(N,O){var re,le,pe;for(pe=O.length-1;pe!==-1;pe--)re=O[pe][0],le=O[pe][1],N.subscribe.apply(N,[re].concat(typeof le=="function"?[le]:le))}(Ht,ut.API.events):f[Sl]=ut.API[Sl]);function Wd(N){return at[N].mediaBox.topRightX-at[N].mediaBox.bottomLeftX}function mp(N,O){at[N].mediaBox.topRightX=O+at[N].mediaBox.bottomLeftX}function gp(N){return at[N].mediaBox.topRightY-at[N].mediaBox.bottomLeftY}function So(N,O){at[N].mediaBox.topRightY=O+at[N].mediaBox.bottomLeftY}var No=f.getPageWidth=function(N){return Wd(N=N||q)/gt},yp=f.setPageWidth=function(N,O){mp(N,O*gt)},Nl=f.getPageHeight=function(N){return gp(N=N||q)/gt},vp=f.setPageHeight=function(N,O){So(N,O*gt)};return f.internal={pdfEscape:Us,getStyle:dp,getFont:Ty,getFontSize:Ee,getCharSpace:By,getTextColor:Fy,getLineHeight:Ly,getLineHeightFactor:Iy,getLineWidth:Ry,write:Te,getHorizontalCoordinate:wo,getVerticalCoordinate:xo,getCoordinateString:Dy,getVerticalCoordinateString:My,collections:{},newObject:Nr,newAdditionalObject:yl,newObjectDeferred:an,newObjectDeferredBegin:pn,getFilters:oi,putStream:$s,events:Ht,scaleFactor:gt,pageSize:{getWidth:function(){return No(q)},setWidth:function(N){yp(q,N)},getHeight:function(){return Nl(q)},setHeight:function(N){vp(q,N)}},encryptionOptions:d,encryption:Gr,getEncryptor:function(N){return d!==null?Gr.encryptor(N,0):function(O){return O}},output:cp,getNumberOfPages:op,get pages(){return ve},out:R,f2:L,f3:k,getPageInfo:vo,getPageInfoByObjId:up,getCurrentPageInfo:jy,getPDFVersion:y,Point:_o,Rectangle:zd,Matrix:tt,hasHotfix:qs},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return No(q)},set:function(N){yp(q,N)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Nl(q)},set:function(N){vp(q,N)},enumerable:!0,configurable:!0}),(function(N){for(var O=0,re=oe.length;O<re;O++){var le=np.call(this,N[O][0],N[O][1],N[O][2],oe[O][3],!0);h===!1&&(m[le]=!0);var pe=N[O][0].split("-");rp({id:le,fontName:pe[0],fontStyle:pe[1]||""})}Ht.publish("addFonts",{fonts:wt,dictionary:kt})}).call(f,oe),rt="F1",sp(s,r),Ht.publish("initialized"),f}uu.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},uu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},uu.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},uu.prototype.processOwnerPassword=function(e,t){return fw(dw(t).substr(0,5),e)},uu.prototype.encryptor=function(e,t){var r=dw(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return fw(r,n)}},e0.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Xt(e)!==Xt(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},ut.API={events:[]},ut.version="3.0.4";var Cr=ut.API,Rb=1,Dc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ru=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jt=function(e){return e.toFixed(2)},Sa=function(e){return e.toFixed(5)};Cr.__acroform__={};var vs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},i4=function(e){return e*Rb},Yi=function(e){var t=new qT,r=Xe.internal.getHeight(e)||0,n=Xe.internal.getWidth(e)||0;return t.BBox=[0,0,Number(jt(n)),Number(jt(r))],t},hK=Cr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},pK=Cr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},mK=Cr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Mr=Cr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return mK(e,t-1)},Fr=Cr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return hK(e,t-1)},Br=Cr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return pK(e,t-1)},gK=Cr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=r(s)||0,l.lowerLeft_Y=n(i+a)||0,l.upperRight_X=r(s+o)||0,l.upperRight_Y=n(i)||0,[Number(jt(l.lowerLeft_X)),Number(jt(l.lowerLeft_Y)),Number(jt(l.upperRight_X)),Number(jt(l.upperRight_Y))]},yK=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=hw(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+jt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Yi(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},hw=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(L){return L.split(`
`)}):s.map(function(L){return[L]});var i=r,o=Xe.internal.getHeight(e)||0;o=o<0?-o:o;var a=Xe.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(L,k,W){if(L+1<s.length){var P=k+" "+s[L+1][0];return wm(P,e,W).width<=a-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,h=wm("3",e,i).height,m=e.multiline?o-i:(o-h)/2,f=m+=2,w=0,y=0,b=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+wm(t,e,i=12).width+", FieldWidth:"+a+`
`;break}for(var v="",S=0,_=0;_<s.length;_++)if(s.hasOwnProperty(_)){var E=!1;if(s[_].length!==1&&b!==s[_].length-1){if((h+2)*(S+2)+2>o)continue e;v+=s[_][b],E=!0,y=_,_--}else{v=(v+=s[_][b]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var T=parseInt(_),F=l(T,v,i),D=_>=s.length-1;if(F&&!D){v+=" ",b=0;continue}if(F||D){if(D)y=T;else if(e.multiline&&(h+2)*(S+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(S+2)+2>o)continue e;y=T}}for(var U="",B=w;B<=y;B++){var K=s[B];if(e.multiline){if(B===y){U+=K[b]+" ",b=(b+1)%K.length;continue}if(B===w){U+=K[K.length-1]+" ";continue}}U+=K[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,d=wm(U,e,i).width,e.textAlign){case"right":u=a-d-2;break;case"center":u=(a-d)/2;break;default:u=2}t+=jt(u)+" "+jt(f)+` Td
`,t+="("+Dc(U)+`) Tj
`,t+=-jt(u)+` 0 Td
`,f=-(i+2),d=0,w=E?y:y+1,S++,v=""}break}return n.text=t,n.fontSize=i,n},wm=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},vK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},wK=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},xK=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Mi.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(vK)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Rb=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new zT,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&wK(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var a=n[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=gK(a.Rect,s)),s.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Xe.createDefaultAppearanceStream(a),Xt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=yK(a);l.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var h="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var f=a.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var w=f[o];typeof w=="function"&&(w=w.call(s,a)),h+="/"+o+" "+w+" ",s.internal.acroformPlugin.xForms.indexOf(w)>=0||s.internal.acroformPlugin.xForms.push(w)}}else typeof(w=f)=="function"&&(w=w.call(s,a)),h+="/"+o+" "+w,s.internal.acroformPlugin.xForms.indexOf(w)>=0||s.internal.acroformPlugin.xForms.push(w);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:a.objId}),s.internal.out("endobj")}i&&function(y,b){for(var v in y)if(y.hasOwnProperty(v)){var S=v,_=y[v];b.internal.newObjectDeferredBegin(_.objId,!0),Xt(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete y[S]}}(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},UT=Cr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),Xt(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+Dc(n(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},h1=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Dc(n(e))+")"},oo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};oo.prototype.toString=function(){return this.objId+" 0 R"},oo.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},oo.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:UT(s,this.objId,this.scope)}):s instanceof oo?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var qT=function(){oo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};vs(qT,oo);var zT=function(){oo.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Dc(r(e))+")"}},set:function(r){e=r}})};vs(zT,oo);var Mi=function e(){oo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Mr(t,3)},set:function(v){v?this.F=Fr(t,3):this.F=Br(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof t0)return;i="FieldObject"+e.FieldNum++}var v=function(S){return S};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Dc(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Rb:u},set:function(v){u=v}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(v){d=v}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof t0||this instanceof ac))return h1(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=v}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof un==0?h1(m,this.objId,this.scope):m},set:function(v){v=v.toString(),m=this instanceof un==0?v.substr(0,1)==="("?ru(v.substr(1,v.length-2)):ru(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof un==1?ru(m.substr(1,m.length-1)):m},set:function(v){v=v.toString(),m=this instanceof un==1?"/"+v:v}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof un==0?h1(f,this.objId,this.scope):f},set:function(v){v=v.toString(),f=this instanceof un==0?v.substr(0,1)==="("?ru(v.substr(1,v.length-2)):ru(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof un==1?ru(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof un==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(v){v=!!v,y=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(v){w=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,1)},set:function(v){v?this.Ff=Fr(this.Ff,1):this.Ff=Br(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,2)},set:function(v){v?this.Ff=Fr(this.Ff,2):this.Ff=Br(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,3)},set:function(v){v?this.Ff=Fr(this.Ff,3):this.Ff=Br(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');b=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(b){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};vs(Mi,oo);var Fu=function(){Mi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return UT(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,o,a){a||(a=1);for(var l,u=[];l=o.exec(i);)u.push(l[a]);return u}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,18)},set:function(r){r?this.Ff=Fr(this.Ff,18):this.Ff=Br(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Fr(this.Ff,19):this.Ff=Br(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,20)},set:function(r){r?(this.Ff=Fr(this.Ff,20),t.sort()):this.Ff=Br(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,22)},set:function(r){r?this.Ff=Fr(this.Ff,22):this.Ff=Br(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,23)},set:function(r){r?this.Ff=Fr(this.Ff,23):this.Ff=Br(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,27)},set:function(r){r?this.Ff=Fr(this.Ff,27):this.Ff=Br(this.Ff,27)}}),this.hasAppearanceStream=!1};vs(Fu,Mi);var Bu=function(){Fu.call(this),this.fontName="helvetica",this.combo=!1};vs(Bu,Fu);var $u=function(){Bu.call(this),this.combo=!0};vs($u,Bu);var sg=function(){$u.call(this),this.edit=!0};vs(sg,$u);var un=function(){Mi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,15)},set:function(r){r?this.Ff=Fr(this.Ff,15):this.Ff=Br(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,16)},set:function(r){r?this.Ff=Fr(this.Ff,16):this.Ff=Br(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,17)},set:function(r){r?this.Ff=Fr(this.Ff,17):this.Ff=Br(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,26)},set:function(r){r?this.Ff=Fr(this.Ff,26):this.Ff=Br(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+Dc(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Xt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};vs(un,Mi);var ig=function(){un.call(this),this.pushButton=!0};vs(ig,un);var Uu=function(){un.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};vs(Uu,un);var t0=function(){var e,t;Mi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(a){return a};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Dc(s(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){Xt(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};vs(t0,Mi),Uu.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Uu.prototype.createOption=function(e){var t=new t0;return t.Parent=this,t.optionName=e,this.Kids.push(t),bK.call(this.scope,t),t};var og=function(){un.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xe.CheckBox.createAppearanceStream()};vs(og,un);var ac=function(){Mi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,13)},set:function(t){t?this.Ff=Fr(this.Ff,13):this.Ff=Br(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,21)},set:function(t){t?this.Ff=Fr(this.Ff,21):this.Ff=Br(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,23)},set:function(t){t?this.Ff=Fr(this.Ff,23):this.Ff=Br(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,24)},set:function(t){t?this.Ff=Fr(this.Ff,24):this.Ff=Br(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,25)},set:function(t){t?this.Ff=Fr(this.Ff,25):this.Ff=Br(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,26)},set:function(t){t?this.Ff=Fr(this.Ff,26):this.Ff=Br(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};vs(ac,Mi);var ag=function(){ac.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Mr(this.Ff,14)},set:function(e){e?this.Ff=Fr(this.Ff,14):this.Ff=Br(this.Ff,14)}}),this.password=!0};vs(ag,ac);var Xe={CheckBox:{createAppearanceStream:function(){return{N:{On:Xe.CheckBox.YesNormal},D:{On:Xe.CheckBox.YesPushDown,Off:Xe.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Yi(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=hw(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+jt(Xe.internal.getWidth(e))+" "+jt(Xe.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+jt(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Yi(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=Xe.internal.getHeight(e),o=Xe.internal.getWidth(e),a=hw(e,e.caption);return s.push("1 g"),s.push("0 0 "+jt(o)+" "+jt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+jt(o-1)+" "+jt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+jt(a.fontSize)+" Tf "+n),s.push(a.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Yi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jt(Xe.internal.getWidth(e))+" "+jt(Xe.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Xe.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Xe.RadioButton.Circle.YesNormal,t.D[e]=Xe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Yi(e);t.scope=e.scope;var r=[],n=Xe.internal.getWidth(e)<=Xe.internal.getHeight(e)?Xe.internal.getWidth(e)/4:Xe.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Xe.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Sa(Xe.internal.getWidth(e)/2)+" "+Sa(Xe.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Yi(e);t.scope=e.scope;var r=[],n=Xe.internal.getWidth(e)<=Xe.internal.getHeight(e)?Xe.internal.getWidth(e)/4:Xe.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Xe.internal.Bezier_C).toFixed(5)),o=Number((n*Xe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Sa(Xe.internal.getWidth(e)/2)+" "+Sa(Xe.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Sa(Xe.internal.getWidth(e)/2)+" "+Sa(Xe.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Yi(e);t.scope=e.scope;var r=[],n=Xe.internal.getWidth(e)<=Xe.internal.getHeight(e)?Xe.internal.getWidth(e)/4:Xe.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Xe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Sa(Xe.internal.getWidth(e)/2)+" "+Sa(Xe.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Xe.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Xe.RadioButton.Cross.YesNormal,t.D[e]=Xe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Yi(e);t.scope=e.scope;var r=[],n=Xe.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+jt(Xe.internal.getWidth(e)-2)+" "+jt(Xe.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(jt(n.x1.x)+" "+jt(n.x1.y)+" m"),r.push(jt(n.x2.x)+" "+jt(n.x2.y)+" l"),r.push(jt(n.x4.x)+" "+jt(n.x4.y)+" m"),r.push(jt(n.x3.x)+" "+jt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Yi(e);t.scope=e.scope;var r=Xe.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+jt(Xe.internal.getWidth(e))+" "+jt(Xe.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+jt(Xe.internal.getWidth(e)-2)+" "+jt(Xe.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(jt(r.x1.x)+" "+jt(r.x1.y)+" m"),n.push(jt(r.x2.x)+" "+jt(r.x2.y)+" l"),n.push(jt(r.x4.x)+" "+jt(r.x4.y)+" m"),n.push(jt(r.x3.x)+" "+jt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Yi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jt(Xe.internal.getWidth(e))+" "+jt(Xe.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Xe.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Xe.internal.getWidth(e),r=Xe.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Xe.internal.getWidth=function(e){var t=0;return Xt(e)==="object"&&(t=i4(e.Rect[2])),t},Xe.internal.getHeight=function(e){var t=0;return Xt(e)==="object"&&(t=i4(e.Rect[3])),t};var bK=Cr.addField=function(e){if(xK(this,e),!(e instanceof Mi))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Cr.AcroFormChoiceField=Fu,Cr.AcroFormListBox=Bu,Cr.AcroFormComboBox=$u,Cr.AcroFormEditBox=sg,Cr.AcroFormButton=un,Cr.AcroFormPushButton=ig,Cr.AcroFormRadioButton=Uu,Cr.AcroFormCheckBox=og,Cr.AcroFormTextField=ac,Cr.AcroFormPasswordField=ag,Cr.AcroFormAppearance=Xe,Cr.AcroForm={ChoiceField:Fu,ListBox:Bu,ComboBox:$u,EditBox:sg,Button:un,PushButton:ig,RadioButton:Uu,CheckBox:og,TextField:ac,PasswordField:ag,Appearance:Xe},ut.AcroForm={ChoiceField:Fu,ListBox:Bu,ComboBox:$u,EditBox:sg,Button:un,PushButton:ig,RadioButton:Uu,CheckBox:og,TextField:ac,PasswordField:ag,Appearance:Xe};ut.AcroForm;function VT(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(L,k){var W,P,Z,ne,ie,M=r;if((k=k||r)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(F(L))for(ie in n)for(Z=n[ie],W=0;W<Z.length;W+=1){for(ne=!0,P=0;P<Z[W].length;P+=1)if(Z[W][P]!==void 0&&Z[W][P]!==L[P]){ne=!1;break}if(ne===!0){M=ie;break}}else for(ie in n)for(Z=n[ie],W=0;W<Z.length;W+=1){for(ne=!0,P=0;P<Z[W].length;P+=1)if(Z[W][P]!==void 0&&Z[W][P]!==L.charCodeAt(P)){ne=!1;break}if(ne===!0){M=ie;break}}return M===r&&k!==r&&(M=k),M},i=function L(k){for(var W=this.internal.write,P=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:k.width}),ne.push({key:"Height",value:k.height}),k.colorSpace===v.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===v.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)&&k.transparency.length>0){for(var ie="",M=0,H=k.transparency.length;M<H;M++)ie+=k.transparency[M]+" "+k.transparency[M]+" ";ne.push({key:"Mask",value:"["+ie+"]"})}k.sMask!==void 0&&ne.push({key:"SMask",value:k.objectId+1+" 0 R"});var ae=k.filter!==void 0?["/"+k.filter]:void 0;if(P({data:k.data,additionalKeyValues:ne,alreadyAppliedFilters:ae,objectId:k.objectId}),W("endobj"),"sMask"in k&&k.sMask!==void 0){var de,C=(de=k.sMaskBitsPerComponent)!==null&&de!==void 0?de:k.bitsPerComponent,q={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:C,data:k.sMask};"filter"in k&&(q.decodeParameters="/Predictor ".concat(k.predictor," /Colors 1 /BitsPerComponent ").concat(C," /Columns ").concat(k.width),q.filter=k.filter),L.call(this,q)}if(k.colorSpace===v.INDEXED){var V=this.internal.newObject();P({data:U(new Uint8Array(k.palette)),objectId:V}),W("endobj")}},o=function(){var L=this.internal.collections[t+"images"];for(var k in L)i.call(this,L[k])},a=function(){var L,k=this.internal.collections[t+"images"],W=this.internal.write;for(var P in k)W("/I"+(L=k[P]).index,L.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var L=this.internal.collections[t+"images"];return l.call(this),L},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(L){return typeof e["process"+L.toUpperCase()]=="function"},m=function(L){return Xt(L)==="object"&&L.nodeType===1},f=function(L,k){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var W=""+L.getAttribute("src");if(W.indexOf("data:image/")===0)return ng(unescape(W).split("base64,").pop());var P=e.loadFile(W,!0);if(P!==void 0)return P}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var Z;switch(k){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;default:Z="image/jpeg"}return ng(L.toDataURL(Z,1).split("base64,").pop())}},w=function(L){var k=this.internal.collections[t+"images"];if(k){for(var W in k)if(L===k[W].alias)return k[W]}},y=function(L,k,W){return L||k||(L=-96,k=-96),L<0&&(L=-1*W.width*72/L/this.internal.scaleFactor),k<0&&(k=-1*W.height*72/k/this.internal.scaleFactor),L===0&&(L=k*W.width/W.height),k===0&&(k=L*W.height/W.width),[L,k]},b=function(L,k,W,P,Z,ne){var ie=y.call(this,W,P,Z),M=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString,ae=u.call(this);if(W=ie[0],P=ie[1],ae[Z.index]=Z,ne){ne*=Math.PI/180;var de=Math.cos(ne),C=Math.sin(ne),q=function(Y){return Y.toFixed(4)},V=[q(de),q(C),q(-1*C),q(de),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,M(L),H(k+P),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([M(W),"0","0",M(P),"0","0","cm"].join(" "))):this.internal.write([M(W),"0","0",M(P),M(L),H(k+P),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(L){var k,W,P=0;if(typeof L=="string")for(W=L.length,k=0;k<W;k++)P=(P<<5)-P+L.charCodeAt(k),P|=0;else if(F(L))for(W=L.byteLength/2,k=0;k<W;k++)P=(P<<5)-P+L[k],P|=0;return P},E=e.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var k=!0;return L.length===0&&(k=!1),L.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(k=!1),k},T=e.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var k=L.indexOf(",");return k<0?null:L.substring(0,k).trim().endsWith("base64")?L.substring(k+1):null};e.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var F=e.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},D=e.__addimage__.binaryStringToUint8Array=function(L){for(var k=L.length,W=new Uint8Array(k),P=0;P<k;P++)W[P]=L.charCodeAt(P);return W},U=e.__addimage__.arrayBufferToBinaryString=function(L){for(var k="",W=F(L)?L:new Uint8Array(L),P=0;P<W.length;P+=8192)k+=String.fromCharCode.apply(null,W.subarray(P,P+8192));return k};e.addImage=function(){var L,k,W,P,Z,ne,ie,M,H;if(typeof arguments[1]=="number"?(k=r,W=arguments[1],P=arguments[2],Z=arguments[3],ne=arguments[4],ie=arguments[5],M=arguments[6],H=arguments[7]):(k=arguments[1],W=arguments[2],P=arguments[3],Z=arguments[4],ne=arguments[5],ie=arguments[6],M=arguments[7],H=arguments[8]),Xt(L=arguments[0])==="object"&&!m(L)&&"imageData"in L){var ae=L;L=ae.imageData,k=ae.format||k||r,W=ae.x||W||0,P=ae.y||P||0,Z=ae.w||ae.width||Z,ne=ae.h||ae.height||ne,ie=ae.alias||ie,M=ae.compression||M,H=ae.rotation||ae.angle||H}var de=this.internal.getFilters();if(M===void 0&&de.indexOf("FlateEncode")!==-1&&(M="SLOW"),isNaN(W)||isNaN(P))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var C=B.call(this,L,k,ie,M);return b.call(this,W,P,Z,ne,C,H),this};var B=function(L,k,W,P){var Z,ne,ie;if(typeof L=="string"&&s(L)===r){L=unescape(L);var M=K(L,!1);(M!==""||(M=e.loadFile(L,!0))!==void 0)&&(L=M)}if(m(L)&&(L=f(L,k)),k=s(L,k),!h(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((ie=W)==null||ie.length===0)&&(W=function(H){return typeof H=="string"||F(H)?_(H):F(H.data)?_(H.data):null}(L)),(Z=w.call(this,W))||(L instanceof Uint8Array||k==="RGBA"||(ne=L,L=D(L)),Z=this["process"+k.toUpperCase()](L,d.call(this),W,function(H){return H&&typeof H=="string"&&(H=H.toUpperCase()),H in e.image_compression?H:S.NONE}(P),ne)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},K=e.__addimage__.convertBase64ToBinaryString=function(L,k){k=typeof k!="boolean"||k;var W,P="";if(typeof L=="string"){var Z;W=(Z=T(L))!==null&&Z!==void 0?Z:L;try{P=ng(W)}catch(ne){if(k)throw E(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return P};e.getImageProperties=function(L){var k,W,P="";if(m(L)&&(L=f(L)),typeof L=="string"&&s(L)===r&&((P=K(L,!1))===""&&(P=e.loadFile(L)||""),L=P),W=s(L),!h(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(L instanceof Uint8Array||(L=D(L)),!(k=this["process"+W.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=W,k}})(ut.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};ut.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((n=u[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var f=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(y.objId),S=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+f(v(n.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+f(v(S))+") >>",y.content=i;var _=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(y.objId,"0 R",b.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+f(w(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var T=this.annotations._nameMap[n.options.name];n.options.pageNumber=T.page,n.options.top=T.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+f(w(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var F=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+F+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+s),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,s,i){var o,a,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){a=i.maxWidth;var d=this.splitTextToSize(r,a).length;o=Math.ceil(u*d)}else a=l,o=u;return this.text(r,n,s,i),s+=.2*u,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,s-u,a,o,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ut.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},a=e.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&s.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(y){var b=0,v=r,S="",_=0;for(b=0;b<y.length;b+=1)v[y.charCodeAt(b)]!==void 0?(_++,typeof(v=v[y.charCodeAt(b)])=="number"&&(S+=String.fromCharCode(v),v=r,_=0),b===y.length-1&&(v=r,S+=y.charAt(b-(_-1)),b-=_-1,_=0)):(v=r,S+=y.charAt(b-_),b-=_,_=0);return S};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(y,b,v){return o(y)?i(y)===!1?-1:!u(y)||!o(b)&&!o(v)||!o(v)&&a(b)||a(y)&&!o(b)||a(y)&&l(b)||a(y)&&a(b)?0:d(y)&&o(b)&&!a(b)&&o(v)&&u(v)?3:a(y)||!o(v)?1:2:-1},f=function(y){var b=0,v=0,S=0,_="",E="",T="",F=(y=y||"").split("\\s+"),D=[];for(b=0;b<F.length;b+=1){for(D.push(""),v=0;v<F[b].length;v+=1)_=F[b][v],E=F[b][v-1],T=F[b][v+1],o(_)?(S=m(_,E,T),D[b]+=S!==-1?String.fromCharCode(t[_.charCodeAt(0)][S]):_):D[b]+=_;D[b]=h(D[b])}return D.join(" ")},w=e.__arabicParser__.processArabic=e.processArabic=function(){var y,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(b)){var S=0;for(v=[],S=0;S<b.length;S+=1)Array.isArray(b[S])?v.push([f(b[S][0]),b[S][1],b[S][2]]):v.push([f(b[S])]);y=v}else y=f(b);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",w])}(ut.API),ut.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(a){s=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(a){i=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ut.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(y){w=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,f=0,w=0,y=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=u.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,E){return _.concat(b.splitTextToSize(E,v))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)f<(y=this.getStringUnitWidth(l[S],{font:h})*d)&&(f=y);return f!==0&&(w=l.length),{w:f/=m,h:Math.max((w*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,d,h,m){if(n.call(this),!d)throw new Error("No data for PDF table.");var f,w,y,b,v=[],S=[],_=[],E={},T={},F=[],D=[],U=(m=m||{}).autoSize||!1,B=m.printHeaders!==!1,K=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,L=m.margins||Object.assign({width:this.getPageWidth()},t),k=typeof m.padding=="number"?m.padding:3,W=m.headerBackgroundColor||"#c8c8c8",P=m.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=P,this.setFontSize(K),h==null)S=v=Object.keys(d[0]),_=v.map(function(){return"left"});else if(Array.isArray(h)&&Xt(h[0])==="object")for(v=h.map(function(ae){return ae.name}),S=h.map(function(ae){return ae.prompt||ae.name||""}),_=h.map(function(ae){return ae.align||"left"}),f=0;f<h.length;f+=1)T[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(S=v=h,_=v.map(function(){return"left"}));if(U||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<v.length;f+=1){for(E[b=v[f]]=d.map(function(ae){return ae[b]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(S[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=E[b],this.setFont(void 0,"normal"),y=0;y<w.length;y+=1)F.push(this.getTextDimensions(w[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[b]=Math.max.apply(null,F)+k+k,F=[]}if(B){var Z={};for(f=0;f<v.length;f+=1)Z[v[f]]={},Z[v[f]].text=S[f],Z[v[f]].align=_[f];var ne=a.call(this,Z,T);D=v.map(function(ae){return new i(l,u,T[ae],ne,Z[ae].text,void 0,Z[ae].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var ie=h.reduce(function(ae,de){return ae[de.name]=de.align,ae},{});for(f=0;f<d.length;f+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:f,data:d[f]},this);var M=a.call(this,d[f],T);for(y=0;y<v.length;y+=1){var H=d[f][v[y]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:f,col:y,data:H},this),o.call(this,new i(l,u,T[v[y]],M,H,f+2,ie[v[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(f){var w=l[f];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,u[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/m+d+d},this).reduce(function(f,w){return Math.max(f,w)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=l;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(w)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(ut.API);var WT={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},HT=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],pw=VT(HT),GT=[100,200,300,400,500,600,700,800,900],_K=VT(GT);function p1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return WT[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),s=function(i){return typeof pw[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function o4(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var SK={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},a4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function l4(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function c4(e){return e.trimLeft()}function NK(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function EK(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var xm,u4,d4,nu,bm,f4,h4,p4,m1=["times"];function m4(e,t,r,n,s){var i=4,o=y4;switch(s){case ut.API.image_compression.FAST:i=1,o=g4;break;case ut.API.image_compression.MEDIUM:i=6,o=v4;break;case ut.API.image_compression.SLOW:i=9,o=w4}e=function(l,u,d,h){for(var m,f=l.length/u,w=new Uint8Array(l.length+f),y=[jK,g4,y4,v4,w4],b=0;b<f;b+=1){var v=b*u,S=l.subarray(v,v+u);if(h)w.set(h(S,d,m),v+b);else{for(var _=y.length,E=[],T=0;T<_;T+=1)E[T]=y[T](S,d,m);var F=CK(E.concat());w.set(E[F],v+b)}m=S}return w}(e,t,Math.ceil(r*n/8),o);var a=aw(e,{level:i});return ut.API.__addimage__.arrayBufferToBinaryString(a)}function jK(e){var t=Array.apply([],e);return t.unshift(0),t}function g4(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;n[s+1]=e[s]-i+256&255}return n}function y4(e,t,r){var n=e.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;s[i+1]=e[i]-o+256&255}return s}function v4(e,t,r){var n=e.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var o=e[i-t]||0,a=r&&r[i]||0;s[i+1]=e[i]+256-(o+a>>>1)&255}return s}function w4(e,t,r){var n=e.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var o=AK(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-o+256&255}return s}function AK(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=s&&n<=i?e:s<=i?t:r}function CK(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function g1(e,t,r){var n=t*r,s=Math.floor(n/8),i=16-(n-8*s+r),o=(1<<r)-1;return KT(e,s)>>i&o}function x4(e,t,r,n){var s=r*n,i=Math.floor(s/8),o=16-(s-8*i+n),a=(1<<n)-1,l=(t&a)<<o;(function(u,d,h){if(d+1<u.byteLength)u.setUint16(d,h,!1);else{var m=h>>8&255;u.setUint8(d,m)}})(e,i,KT(e,i)&~(a<<o)&65535|l)}function KT(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function kK(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<1+(7&s);e[t++],e[t++];var a=null,l=null;i&&(a=t,l=o,t+=3*o);var u=!0,d=[],h=0,m=null,f=0,w=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,w=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];h=e[t++]|e[t++]<<8,m=e[t++],1&y||(m=null),f=y>>2&7,t++;break;case 254:for(;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,E=e[t++],T=E>>6&1,F=1<<1+(7&E),D=a,U=l,B=!1;E>>7&&(B=!0,D=t,U=F,t+=3*F);var K=t;for(t++;;){var L;if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}d.push({x:b,y:v,width:S,height:_,has_local_palette:B,palette_offset:D,palette_size:U,data_offset:K,data_length:t-K,transparent_index:m,interlaced:!!T,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return w},this.frameInfo=function(k){if(k<0||k>=d.length)throw new Error("Frame index out of range.");return d[k]},this.decodeAndBlitFrameBGRA=function(k,W){var P=this.frameInfo(k),Z=P.width*P.height,ne=new Uint8Array(Z);b4(e,P.data_offset,ne,Z);var ie=P.palette_offset,M=P.transparent_index;M===null&&(M=256);var H=P.width,ae=r-H,de=H,C=4*(P.y*r+P.x),q=4*((P.y+P.height)*r+P.x),V=C,Y=4*ae;P.interlaced===!0&&(Y+=4*r*7);for(var se=8,Q=0,ce=ne.length;Q<ce;++Q){var ue=ne[Q];if(de===0&&(de=H,(V+=Y)>=q&&(Y=4*ae+4*r*(se-1),V=C+(H+ae)*(se<<1),se>>=1)),ue===M)V+=4;else{var me=e[ie+3*ue],ve=e[ie+3*ue+1],be=e[ie+3*ue+2];W[V++]=be,W[V++]=ve,W[V++]=me,W[V++]=255}--de}},this.decodeAndBlitFrameRGBA=function(k,W){var P=this.frameInfo(k),Z=P.width*P.height,ne=new Uint8Array(Z);b4(e,P.data_offset,ne,Z);var ie=P.palette_offset,M=P.transparent_index;M===null&&(M=256);var H=P.width,ae=r-H,de=H,C=4*(P.y*r+P.x),q=4*((P.y+P.height)*r+P.x),V=C,Y=4*ae;P.interlaced===!0&&(Y+=4*r*7);for(var se=8,Q=0,ce=ne.length;Q<ce;++Q){var ue=ne[Q];if(de===0&&(de=H,(V+=Y)>=q&&(Y=4*ae+4*r*(se-1),V=C+(H+ae)*(se<<1),se>>=1)),ue===M)V+=4;else{var me=e[ie+3*ue],ve=e[ie+3*ue+1],be=e[ie+3*ue+2];W[V++]=me,W[V++]=ve,W[V++]=be,W[V++]=255}--de}}}function b4(e,t,r,n){for(var s=e[t++],i=1<<s,o=i+1,a=o+1,l=s+1,u=(1<<l)-1,d=0,h=0,m=0,f=e[t++],w=new Int32Array(4096),y=null;;){for(;d<16&&f!==0;)h|=e[t++]<<d,d+=8,f===1?f=e[t++]:--f;if(d<l)break;var b=h&u;if(h>>=l,d-=l,b!==i){if(b===o)break;for(var v=b<a?b:y,S=0,_=v;_>i;)_=w[_]>>8,++S;var E=_;if(m+S+(v!==b?1:0)>n)return void nr.log("Warning, gif stream longer than expected.");r[m++]=E;var T=m+=S;for(v!==b&&(r[m++]=E),_=v;S--;)_=w[_],r[--T]=255&_,_>>=8;y!==null&&a<4096&&(w[a++]=y<<8|E,a>=u+1&&l<12&&(++l,u=u<<1|1)),y=b}else a=o+1,u=(1<<(l=s+1))-1,y=null}return m!==n&&nr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function y1(e){var t,r,n,s,i,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),m=new Array(65535),f=new Array(64),w=new Array(64),y=[],b=0,v=7,S=new Array(64),_=new Array(64),E=new Array(64),T=new Array(256),F=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(C,q){for(var V=0,Y=0,se=new Array,Q=1;Q<=16;Q++){for(var ce=1;ce<=C[Q];ce++)se[q[Y]]=[],se[q[Y]][0]=V,se[q[Y]][1]=Q,Y++,V++;V*=2}return se}function ie(C){for(var q=C[0],V=C[1]-1;V>=0;)q&1<<V&&(b|=1<<v),V--,--v<0&&(b==255?(M(255),M(0)):M(b),v=7,b=0)}function M(C){y.push(C)}function H(C){M(C>>8&255),M(255&C)}function ae(C,q,V,Y,se){for(var Q,ce=se[0],ue=se[240],me=function(X,ye){var Ee,Oe,Me,_e,Ie,$e,mt,Et,rt,gt,ot=0;for(rt=0;rt<8;++rt){Ee=X[ot],Oe=X[ot+1],Me=X[ot+2],_e=X[ot+3],Ie=X[ot+4],$e=X[ot+5],mt=X[ot+6];var pr=Ee+(Et=X[ot+7]),Dt=Ee-Et,wt=Oe+mt,kt=Oe-mt,Gt=Me+$e,dt=Me-$e,er=_e+Ie,ft=_e-Ie,xt=pr+er,sr=pr-er,Pt=wt+Gt,at=wt-Gt;X[ot]=xt+Pt,X[ot+4]=xt-Pt;var Ht=.707106781*(at+sr);X[ot+2]=sr+Ht,X[ot+6]=sr-Ht;var ht=.382683433*((xt=ft+dt)-(at=kt+Dt)),St=.5411961*xt+ht,Ut=1.306562965*at+ht,Sr=.707106781*(Pt=dt+kt),tt=Dt+Sr,on=Dt-Sr;X[ot+5]=on+St,X[ot+3]=on-St,X[ot+1]=tt+Ut,X[ot+7]=tt-Ut,ot+=8}for(ot=0,rt=0;rt<8;++rt){Ee=X[ot],Oe=X[ot+8],Me=X[ot+16],_e=X[ot+24],Ie=X[ot+32],$e=X[ot+40],mt=X[ot+48];var hn=Ee+(Et=X[ot+56]),mr=Ee-Et,Pr=Oe+mt,Nr=Oe-mt,an=Me+$e,pn=Me-$e,yl=_e+Ie,na=_e-Ie,si=hn+yl,Bi=hn-yl,ii=Pr+an,oi=Pr-an;X[ot]=si+ii,X[ot+32]=si-ii;var $s=.707106781*(oi+Bi);X[ot+16]=Bi+$s,X[ot+48]=Bi-$s;var vl=.382683433*((si=na+pn)-(oi=Nr+mr)),$i=.5411961*si+vl,wl=1.306562965*oi+vl,Mc=.707106781*(ii=pn+Nr),Fc=mr+Mc,Bc=mr-Mc;X[ot+40]=Bc+$i,X[ot+24]=Bc-$i,X[ot+8]=Fc+wl,X[ot+56]=Fc-wl,ot++}for(rt=0;rt<64;++rt)gt=X[rt]*ye[rt],f[rt]=gt>0?gt+.5|0:gt-.5|0;return f}(C,q),ve=0;ve<64;++ve)w[D[ve]]=me[ve];var be=w[0]-V;V=w[0],be==0?ie(Y[0]):(ie(Y[m[Q=32767+be]]),ie(h[Q]));for(var Ne=63;Ne>0&&w[Ne]==0;)Ne--;if(Ne==0)return ie(ce),V;for(var Ue,R=1;R<=Ne;){for(var Te=R;w[R]==0&&R<=Ne;)++R;var He=R-Te;if(He>=16){Ue=He>>4;for(var oe=1;oe<=Ue;++oe)ie(ue);He&=15}Q=32767+w[R],ie(se[(He<<4)+m[Q]]),ie(h[Q]),R++}return Ne!=63&&ie(ce),V}function de(C){C=Math.min(Math.max(C,1),100),i!=C&&(function(q){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var se=o((V[Y]*q+50)/100);se=Math.min(Math.max(se,1),255),a[D[Y]]=se}for(var Q=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var ue=o((Q[ce]*q+50)/100);ue=Math.min(Math.max(ue,1),255),l[D[ce]]=ue}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ve=0,be=0;be<8;be++)for(var Ne=0;Ne<8;Ne++)u[ve]=1/(a[D[ve]]*me[be]*me[Ne]*8),d[ve]=1/(l[D[ve]]*me[be]*me[Ne]*8),ve++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),i=C)}this.encode=function(C,q){q&&de(q),y=new Array,b=0,v=7,H(65496),H(65504),H(16),M(74),M(70),M(73),M(70),M(0),M(1),M(1),M(0),H(1),H(1),M(0),M(0),function(){H(65499),H(132),M(0);for(var Oe=0;Oe<64;Oe++)M(a[Oe]);M(1);for(var Me=0;Me<64;Me++)M(l[Me])}(),function(Oe,Me){H(65472),H(17),M(8),H(Me),H(Oe),M(3),M(1),M(17),M(0),M(2),M(17),M(1),M(3),M(17),M(1)}(C.width,C.height),function(){H(65476),H(418),M(0);for(var Oe=0;Oe<16;Oe++)M(U[Oe+1]);for(var Me=0;Me<=11;Me++)M(B[Me]);M(16);for(var _e=0;_e<16;_e++)M(K[_e+1]);for(var Ie=0;Ie<=161;Ie++)M(L[Ie]);M(1);for(var $e=0;$e<16;$e++)M(k[$e+1]);for(var mt=0;mt<=11;mt++)M(W[mt]);M(17);for(var Et=0;Et<16;Et++)M(P[Et+1]);for(var rt=0;rt<=161;rt++)M(Z[rt])}(),H(65498),H(12),M(3),M(1),M(0),M(2),M(17),M(3),M(17),M(0),M(63),M(0);var V=0,Y=0,se=0;b=0,v=7,this.encode.displayName="_encode_";for(var Q,ce,ue,me,ve,be,Ne,Ue,R,Te=C.data,He=C.width,oe=C.height,X=4*He,ye=0;ye<oe;){for(Q=0;Q<X;){for(ve=X*ye+Q,Ne=-1,Ue=0,R=0;R<64;R++)be=ve+(Ue=R>>3)*X+(Ne=4*(7&R)),ye+Ue>=oe&&(be-=X*(ye+1+Ue-oe)),Q+Ne>=X&&(be-=Q+Ne-X+4),ce=Te[be++],ue=Te[be++],me=Te[be++],S[R]=(F[ce]+F[ue+256|0]+F[me+512|0]>>16)-128,_[R]=(F[ce+768|0]+F[ue+1024|0]+F[me+1280|0]>>16)-128,E[R]=(F[ce+1280|0]+F[ue+1536|0]+F[me+1792|0]>>16)-128;V=ae(S,u,V,t,n),Y=ae(_,d,Y,r,s),se=ae(E,d,se,r,s),Q+=32}ye+=8}if(v>=0){var Ee=[];Ee[1]=v+1,Ee[0]=(1<<v+1)-1,ie(Ee)}return H(65497),new Uint8Array(y)},e=e||50,function(){for(var C=String.fromCharCode,q=0;q<256;q++)T[q]=C(q)}(),t=ne(U,B),r=ne(k,W),n=ne(K,L),s=ne(P,Z),function(){for(var C=1,q=2,V=1;V<=15;V++){for(var Y=C;Y<q;Y++)m[32767+Y]=V,h[32767+Y]=[],h[32767+Y][1]=V,h[32767+Y][0]=Y;for(var se=-(q-1);se<=-C;se++)m[32767+se]=V,h[32767+se]=[],h[32767+se][1]=V,h[32767+se][0]=q-1+se;C<<=1,q<<=1}}(),function(){for(var C=0;C<256;C++)F[C]=19595*C,F[C+256|0]=38470*C,F[C+512|0]=7471*C+32768,F[C+768|0]=-11059*C,F[C+1024|0]=-21709*C,F[C+1280|0]=32768*C+8421375,F[C+1536|0]=-27439*C,F[C+1792|0]=-5329*C}(),de(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function pi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function _4(e){function t(B){if(!B)throw Error("assert :P")}function r(B,K,L){for(var k=0;4>k;k++)if(B[K+k]!=L.charCodeAt(k))return!0;return!1}function n(B,K,L,k,W){for(var P=0;P<W;P++)B[K+P]=L[k+P]}function s(B,K,L,k){for(var W=0;W<k;W++)B[K+W]=L}function i(B){return new Int32Array(B)}function o(B,K){for(var L=[],k=0;k<B;k++)L.push(new K);return L}function a(B,K){var L=[];return function k(W,P,Z){for(var ne=Z[P],ie=0;ie<ne&&(W.push(Z.length>P+1?[]:new K),!(Z.length<P+1));ie++)k(W[ie],P+1,Z)}(L,0,B),L}var l=function(){var B=this;function K(p,g){for(var j=1<<g-1>>>0;p&j;)j>>>=1;return j?(p&j-1)+j:p}function L(p,g,j,A,I){t(!(A%j));do p[g+(A-=j)]=I;while(0<A)}function k(p,g,j,A,I){if(t(2328>=I),512>=I)var $=i(512);else if(($=i(I))==null)return 0;return function(z,G,J,ee,fe,xe){var te,he,ge=G,je=1<<J,we=i(16),Ae=i(16);for(t(fe!=0),t(ee!=null),t(z!=null),t(0<J),he=0;he<fe;++he){if(15<ee[he])return 0;++we[ee[he]]}if(we[0]==fe)return 0;for(Ae[1]=0,te=1;15>te;++te){if(we[te]>1<<te)return 0;Ae[te+1]=Ae[te]+we[te]}for(he=0;he<fe;++he)te=ee[he],0<ee[he]&&(xe[Ae[te]++]=he);if(Ae[15]==1)return(ee=new W).g=0,ee.value=xe[0],L(z,ge,1,je,ee),je;var Pe,De=-1,Le=je-1,ct=0,Je=1,Lt=1,nt=1<<J;for(he=0,te=1,fe=2;te<=J;++te,fe<<=1){if(Je+=Lt<<=1,0>(Lt-=we[te]))return 0;for(;0<we[te];--we[te])(ee=new W).g=te,ee.value=xe[he++],L(z,ge+ct,fe,nt,ee),ct=K(ct,te)}for(te=J+1,fe=2;15>=te;++te,fe<<=1){if(Je+=Lt<<=1,0>(Lt-=we[te]))return 0;for(;0<we[te];--we[te]){if(ee=new W,(ct&Le)!=De){for(ge+=nt,Pe=1<<(De=te)-J;15>De&&!(0>=(Pe-=we[De]));)++De,Pe<<=1;je+=nt=1<<(Pe=De-J),z[G+(De=ct&Le)].g=Pe+J,z[G+De].value=ge-G-De}ee.g=te-J,ee.value=xe[he++],L(z,ge+(ct>>J),fe,nt,ee),ct=K(ct,te)}}return Je!=2*Ae[15]-1?0:je}(p,g,j,A,I,$)}function W(){this.value=this.g=0}function P(){this.value=this.g=0}function Z(){this.G=o(5,W),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Pl,P)}function ne(p,g,j,A){t(p!=null),t(g!=null),t(2147483648>A),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=g,p.pa=j,p.Jd=g,p.Yc=j+A,p.Zc=4<=A?j+A-4+1:j,ce(p)}function ie(p,g){for(var j=0;0<g--;)j|=me(p,128)<<g;return j}function M(p,g){var j=ie(p,g);return ue(p)?-j:j}function H(p,g,j,A){var I,$=0;for(t(p!=null),t(g!=null),t(4294967288>A),p.Sb=A,p.Ra=0,p.u=0,p.h=0,4<A&&(A=4),I=0;I<A;++I)$+=g[j+I]<<8*I;p.Ra=$,p.bb=A,p.oa=g,p.pa=j}function ae(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<aa-8>>>0,++p.bb,p.u-=8;Y(p)&&(p.h=1,p.u=0)}function de(p,g){if(t(0<=g),!p.h&&g<=xs){var j=V(p)&ws[g];return p.u+=g,ae(p),j}return p.h=1,p.u=0}function C(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(p){return p.Ra>>>(p.u&aa-1)>>>0}function Y(p){return t(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>aa}function se(p,g){p.u=g,p.h=Y(p)}function Q(p){p.u>=Co&&(t(p.u>=Co),ae(p))}function ce(p){t(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(t(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ue(p){return ie(p,1)}function me(p,g){var j=p.Ca;0>p.b&&ce(p);var A=p.b,I=j*g>>>8,$=(p.I>>>A>I)+0;for($?(j-=I,p.I-=I+1<<A>>>0):j=I+1,A=j,I=0;256<=A;)I+=8,A>>=8;return A=7^I+la[A],p.b-=A,p.Ca=(j<<A)-1,$}function ve(p,g,j){p[g+0]=j>>24&255,p[g+1]=j>>16&255,p[g+2]=j>>8&255,p[g+3]=255&j}function be(p,g){return p[g+0]|p[g+1]<<8}function Ne(p,g){return be(p,g)|p[g+2]<<16}function Ue(p,g){return be(p,g)|be(p,g+2)<<16}function R(p,g){var j=1<<g;return t(p!=null),t(0<g),p.X=i(j),p.X==null?0:(p.Mb=32-g,p.Xa=g,1)}function Te(p,g){t(p!=null),t(g!=null),t(p.Xa==g.Xa),n(g.X,0,p.X,0,1<<g.Xa)}function He(){this.X=[],this.Xa=this.Mb=0}function oe(p,g,j,A){t(j!=null),t(A!=null);var I=j[0],$=A[0];return I==0&&(I=(p*$+g/2)/g),$==0&&($=(g*I+p/2)/p),0>=I||0>=$?0:(j[0]=I,A[0]=$,1)}function X(p,g){return p+(1<<g)-1>>>g}function ye(p,g){return((4278255360&p)+(4278255360&g)>>>0&4278255360)+((16711935&p)+(16711935&g)>>>0&16711935)>>>0}function Ee(p,g){B[g]=function(j,A,I,$,z,G,J){var ee;for(ee=0;ee<z;++ee){var fe=B[p](G[J+ee-1],I,$+ee);G[J+ee]=ye(j[A+ee],fe)}}}function Oe(){this.ud=this.hd=this.jd=0}function Me(p,g){return((4278124286&(p^g))>>>1)+(p&g)>>>0}function _e(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Ie(p,g){return _e(p+(p-g+.5>>1))}function $e(p,g,j){return Math.abs(g-j)-Math.abs(p-j)}function mt(p,g,j,A,I,$,z){for(A=$[z-1],j=0;j<I;++j)$[z+j]=A=ye(p[g+j],A)}function Et(p,g,j,A,I){var $;for($=0;$<j;++$){var z=p[g+$],G=z>>8&255,J=16711935&(J=(J=16711935&z)+((G<<16)+G));A[I+$]=(4278255360&z)+J>>>0}}function rt(p,g){g.jd=255&p,g.hd=p>>8&255,g.ud=p>>16&255}function gt(p,g,j,A,I,$){var z;for(z=0;z<A;++z){var G=g[j+z],J=G>>>8,ee=G,fe=255&(fe=(fe=G>>>16)+((p.jd<<24>>24)*(J<<24>>24)>>>5));ee=255&(ee=(ee+=(p.hd<<24>>24)*(J<<24>>24)>>>5)+((p.ud<<24>>24)*(fe<<24>>24)>>>5)),I[$+z]=(4278255360&G)+(fe<<16)+ee}}function ot(p,g,j,A,I){B[g]=function($,z,G,J,ee,fe,xe,te,he){for(J=xe;J<te;++J)for(xe=0;xe<he;++xe)ee[fe++]=I(G[A($[z++])])},B[p]=function($,z,G,J,ee,fe,xe){var te=8>>$.b,he=$.Ea,ge=$.K[0],je=$.w;if(8>te)for($=(1<<$.b)-1,je=(1<<te)-1;z<G;++z){var we,Ae=0;for(we=0;we<he;++we)we&$||(Ae=A(J[ee++])),fe[xe++]=I(ge[Ae&je]),Ae>>=te}else B["VP8LMapColor"+j](J,ee,ge,je,fe,xe,z,G,he)}}function pr(p,g,j,A,I){for(j=g+j;g<j;){var $=p[g++];A[I++]=$>>16&255,A[I++]=$>>8&255,A[I++]=255&$}}function Dt(p,g,j,A,I){for(j=g+j;g<j;){var $=p[g++];A[I++]=$>>16&255,A[I++]=$>>8&255,A[I++]=255&$,A[I++]=$>>24&255}}function wt(p,g,j,A,I){for(j=g+j;g<j;){var $=(z=p[g++])>>16&240|z>>12&15,z=240&z|z>>28&15;A[I++]=$,A[I++]=z}}function kt(p,g,j,A,I){for(j=g+j;g<j;){var $=(z=p[g++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;A[I++]=$,A[I++]=z}}function Gt(p,g,j,A,I){for(j=g+j;g<j;){var $=p[g++];A[I++]=255&$,A[I++]=$>>8&255,A[I++]=$>>16&255}}function dt(p,g,j,A,I,$){if($==0)for(j=g+j;g<j;)ve(A,(($=p[g++])[0]>>24|$[1]>>8&65280|$[2]<<8&16711680|$[3]<<24)>>>0),I+=32;else n(A,I,p,g,j)}function er(p,g){B[g][0]=B[p+"0"],B[g][1]=B[p+"1"],B[g][2]=B[p+"2"],B[g][3]=B[p+"3"],B[g][4]=B[p+"4"],B[g][5]=B[p+"5"],B[g][6]=B[p+"6"],B[g][7]=B[p+"7"],B[g][8]=B[p+"8"],B[g][9]=B[p+"9"],B[g][10]=B[p+"10"],B[g][11]=B[p+"11"],B[g][12]=B[p+"12"],B[g][13]=B[p+"13"],B[g][14]=B[p+"0"],B[g][15]=B[p+"0"]}function ft(p){return p==qy||p==zy||p==Ap||p==Vy}function xt(){this.eb=[],this.size=this.A=this.fb=0}function sr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Pt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xt,this.f.kb=new sr,this.sd=null}function at(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ht(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function St(p,g){var j=p.T,A=g.ba.f.RGBA,I=A.eb,$=A.fb+p.ka*A.A,z=Hs[g.ba.S],G=p.y,J=p.O,ee=p.f,fe=p.N,xe=p.ea,te=p.W,he=g.cc,ge=g.dc,je=g.Mc,we=g.Nc,Ae=p.ka,Pe=p.ka+p.T,De=p.U,Le=De+1>>1;for(Ae==0?z(G,J,null,null,ee,fe,xe,te,ee,fe,xe,te,I,$,null,null,De):(z(g.ec,g.fc,G,J,he,ge,je,we,ee,fe,xe,te,I,$-A.A,I,$,De),++j);Ae+2<Pe;Ae+=2)he=ee,ge=fe,je=xe,we=te,fe+=p.Rc,te+=p.Rc,$+=2*A.A,z(G,(J+=2*p.fa)-p.fa,G,J,he,ge,je,we,ee,fe,xe,te,I,$-A.A,I,$,De);return J+=p.fa,p.j+Pe<p.o?(n(g.ec,g.fc,G,J,De),n(g.cc,g.dc,ee,fe,Le),n(g.Mc,g.Nc,xe,te,Le),j--):1&Pe||z(G,J,null,null,ee,fe,xe,te,ee,fe,xe,te,I,$+A.A,null,null,De),j}function Ut(p,g,j){var A=p.F,I=[p.J];if(A!=null){var $=p.U,z=g.ba.S,G=z==jp||z==Ap;g=g.ba.f.RGBA;var J=[0],ee=p.ka;J[0]=p.T,p.Kb&&(ee==0?--J[0]:(--ee,I[0]-=p.width),p.j+p.ka+p.T==p.o&&(J[0]=p.o-p.j-ee));var fe=g.eb;ee=g.fb+ee*g.A,p=e5(A,I[0],p.width,$,J,fe,ee+(G?0:3),g.A),t(j==J),p&&ft(z)&&nf(fe,ee,G,$,J,g.A)}return 0}function Sr(p){var g=p.ma,j=g.ba.S,A=11>j,I=j==Np||j==Ep||j==jp||j==Uy||j==12||ft(j);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Jd(g.Oa,p,I?11:12))return 0;if(I&&ft(j)&&Hd(),p.da)alert("todo:use_scaling");else{if(A){if(g.Ib=ht,p.Kb){if(j=p.U+1>>1,g.memory=i(p.U+2*j),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+p.U,g.Mc=g.cc,g.Nc=g.dc+j,g.Ib=St,Hd()}}else alert("todo:EmitYUV");I&&(g.Jb=Ut,A&&li())}if(A&&!g5){for(p=0;256>p;++p)L8[p]=89858*(p-128)+kp>>Cp,D8[p]=-22014*(p-128)+kp,I8[p]=-45773*(p-128),O8[p]=113618*(p-128)+kp>>Cp;for(p=of;p<Gy;++p)g=76283*(p-16)+kp>>Cp,M8[p-of]=Ui(g,255),F8[p-of]=Ui(g+8>>4,15);g5=1}return 1}function tt(p){var g=p.ma,j=p.U,A=p.T;return t(!(1&p.ka)),0>=j||0>=A?0:(j=g.Ib(p,g),g.Jb!=null&&g.Jb(p,g,j),g.Dc+=j,1)}function on(p){p.ma.memory=null}function hn(p,g,j,A){return de(p,8)!=47?0:(g[0]=de(p,14)+1,j[0]=de(p,14)+1,A[0]=de(p,1),de(p,3)!=0?0:!p.h)}function mr(p,g){if(4>p)return p+1;var j=p-2>>1;return(2+(1&p)<<j)+de(g,j)+1}function Pr(p,g){return 120<g?g-120:1<=(j=((j=w8[g-1])>>4)*p+(8-(15&j)))?j:1;var j}function Nr(p,g,j){var A=V(j),I=p[g+=255&A].g-8;return 0<I&&(se(j,j.u+8),A=V(j),g+=p[g].value,g+=A&(1<<I)-1),se(j,j.u+p[g].g),p[g].value}function an(p,g,j){return j.g+=p.g,j.value+=p.value<<g>>>0,t(8>=j.g),p.g}function pn(p,g,j){var A=p.xc;return t((g=A==0?0:p.vc[p.md*(j>>A)+(g>>A)])<p.Wb),p.Ya[g]}function yl(p,g,j,A){var I=p.ab,$=p.c*g,z=p.C;g=z+g;var G=j,J=A;for(A=p.Ta,j=p.Ua;0<I--;){var ee=p.gc[I],fe=z,xe=g,te=G,he=J,ge=(J=A,G=j,ee.Ea);switch(t(fe<xe),t(xe<=ee.nc),ee.hc){case 2:Tr(te,he,(xe-fe)*ge,J,G);break;case 0:var je=fe,we=xe,Ae=J,Pe=G,De=(nt=ee).Ea;je==0&&(Qd(te,he,null,null,1,Ae,Pe),mt(te,he+1,0,0,De-1,Ae,Pe+1),he+=De,Pe+=De,++je);for(var Le=1<<nt.b,ct=Le-1,Je=X(De,nt.b),Lt=nt.K,nt=nt.w+(je>>nt.b)*Je;je<we;){var Ft=Lt,Yr=nt,Ot=1;for(Gc(te,he,Ae,Pe-De,1,Ae,Pe);Ot<De;){var st=(Ot&~ct)+Le;st>De&&(st=De),(0,Zd[Ft[Yr++]>>8&15])(te,he+ +Ot,Ae,Pe+Ot-De,st-Ot,Ae,Pe+Ot),Ot=st}he+=De,Pe+=De,++je&ct||(nt+=Je)}xe!=ee.nc&&n(J,G-ge,J,G+(xe-fe-1)*ge,ge);break;case 1:for(ge=te,we=he,De=(te=ee.Ea)-(Pe=te&~(Ae=(he=1<<ee.b)-1)),je=X(te,ee.b),Le=ee.K,ee=ee.w+(fe>>ee.b)*je;fe<xe;){for(ct=Le,Je=ee,Lt=new Oe,nt=we+Pe,Ft=we+te;we<nt;)rt(ct[Je++],Lt),ef(Lt,ge,we,he,J,G),we+=he,G+=he;we<Ft&&(rt(ct[Je++],Lt),ef(Lt,ge,we,De,J,G),we+=De,G+=De),++fe&Ae||(ee+=je)}break;case 3:if(te==J&&he==G&&0<ee.b){for(we=J,te=ge=G+(xe-fe)*ge-(Pe=(xe-fe)*X(ee.Ea,ee.b)),he=J,Ae=G,je=[],Pe=(De=Pe)-1;0<=Pe;--Pe)je[Pe]=he[Ae+Pe];for(Pe=De-1;0<=Pe;--Pe)we[te+Pe]=je[Pe];xp(ee,fe,xe,J,ge,J,G)}else xp(ee,fe,xe,te,he,J,G)}G=A,J=j}J!=j&&n(A,j,G,J,$)}function na(p,g){var j=p.V,A=p.Ba+p.c*p.C,I=g-p.C;if(t(g<=p.l.o),t(16>=I),0<I){var $=p.l,z=p.Ta,G=p.Ua,J=$.width;if(yl(p,I,j,A),I=G=[G],t((j=p.C)<(A=g)),t($.v<$.va),A>$.o&&(A=$.o),j<$.j){var ee=$.j-j;j=$.j,I[0]+=ee*J}if(j>=A?j=0:(I[0]+=4*$.v,$.ka=j-$.j,$.U=$.va-$.v,$.T=A-j,j=1),j){if(G=G[0],11>(j=p.ca).S){var fe=j.f.RGBA,xe=(A=j.S,I=$.U,$=$.T,ee=fe.eb,fe.A),te=$;for(fe=fe.fb+p.Ma*fe.A;0<te--;){var he=z,ge=G,je=I,we=ee,Ae=fe;switch(A){case Sp:tf(he,ge,je,we,Ae);break;case Np:ca(he,ge,je,we,Ae);break;case qy:ca(he,ge,je,we,Ae),nf(we,Ae,0,je,1,0);break;case a5:Tl(he,ge,je,we,Ae);break;case Ep:dt(he,ge,je,we,Ae,1);break;case zy:dt(he,ge,je,we,Ae,1),nf(we,Ae,0,je,1,0);break;case jp:dt(he,ge,je,we,Ae,0);break;case Ap:dt(he,ge,je,we,Ae,0),nf(we,Ae,1,je,1,0);break;case Uy:ua(he,ge,je,we,Ae);break;case Vy:ua(he,ge,je,we,Ae),Zb(we,Ae,je,1,0);break;case l5:da(he,ge,je,we,Ae);break;default:t(0)}G+=J,fe+=xe}p.Ma+=$}else alert("todo:EmitRescaledRowsYUVA");t(p.Ma<=j.height)}}p.C=g,t(p.C<=p.i)}function si(p){var g;if(0<p.ua)return 0;for(g=0;g<p.Wb;++g){var j=p.Ya[g].G,A=p.Ya[g].H;if(0<j[1][A[1]+0].g||0<j[2][A[2]+0].g||0<j[3][A[3]+0].g)return 0}return 1}function Bi(p,g,j,A,I,$){if(p.Z!=0){var z=p.qd,G=p.rd;for(t(pa[p.Z]!=null);g<j;++g)pa[p.Z](z,G,A,I,A,I,$),z=A,G=I,I+=$;p.qd=z,p.rd=G}}function ii(p,g){var j=p.l.ma,A=j.Z==0||j.Z==1?p.l.j:p.C;if(A=p.C<A?A:p.C,t(g<=p.l.o),g>A){var I=p.l.width,$=j.ca,z=j.tb+I*A,G=p.V,J=p.Ba+p.c*A,ee=p.gc;t(p.ab==1),t(ee[0].hc==3),Wi(ee[0],A,g,G,J,$,z),Bi(j,A,g,$,z,I)}p.C=p.Ma=g}function oi(p,g,j,A,I,$,z){var G=p.$/A,J=p.$%A,ee=p.m,fe=p.s,xe=j+p.$,te=xe;I=j+A*I;var he=j+A*$,ge=280+fe.ua,je=p.Pb?G:16777216,we=0<fe.ua?fe.Wa:null,Ae=fe.wc,Pe=xe<he?pn(fe,J,G):null;t(p.C<$),t(he<=I);var De=!1;e:for(;;){for(;De||xe<he;){var Le=0;if(G>=je){var ct=xe-j;t((je=p).Pb),je.wd=je.m,je.xd=ct,0<je.s.ua&&Te(je.s.Wa,je.s.vb),je=G+b8}if(J&Ae||(Pe=pn(fe,J,G)),t(Pe!=null),Pe.Qb&&(g[xe]=Pe.qb,De=!0),!De)if(Q(ee),Pe.jc){Le=ee,ct=g;var Je=xe,Lt=Pe.pd[V(Le)&Pl-1];t(Pe.jc),256>Lt.g?(se(Le,Le.u+Lt.g),ct[Je]=Lt.value,Le=0):(se(Le,Le.u+Lt.g-256),t(256<=Lt.value),Le=Lt.value),Le==0&&(De=!0)}else Le=Nr(Pe.G[0],Pe.H[0],ee);if(ee.h)break;if(De||256>Le){if(!De)if(Pe.nd)g[xe]=(Pe.qb|Le<<8)>>>0;else{if(Q(ee),De=Nr(Pe.G[1],Pe.H[1],ee),Q(ee),ct=Nr(Pe.G[2],Pe.H[2],ee),Je=Nr(Pe.G[3],Pe.H[3],ee),ee.h)break;g[xe]=(Je<<24|De<<16|Le<<8|ct)>>>0}if(De=!1,++xe,++J>=A&&(J=0,++G,z!=null&&G<=$&&!(G%16)&&z(p,G),we!=null))for(;te<xe;)Le=g[te++],we.X[(506832829*Le&4294967295)>>>we.Mb]=Le}else if(280>Le){if(Le=mr(Le-256,ee),ct=Nr(Pe.G[4],Pe.H[4],ee),Q(ee),ct=Pr(A,ct=mr(ct,ee)),ee.h)break;if(xe-j<ct||I-xe<Le)break e;for(Je=0;Je<Le;++Je)g[xe+Je]=g[xe+Je-ct];for(xe+=Le,J+=Le;J>=A;)J-=A,++G,z!=null&&G<=$&&!(G%16)&&z(p,G);if(t(xe<=I),J&Ae&&(Pe=pn(fe,J,G)),we!=null)for(;te<xe;)Le=g[te++],we.X[(506832829*Le&4294967295)>>>we.Mb]=Le}else{if(!(Le<ge))break e;for(De=Le-280,t(we!=null);te<xe;)Le=g[te++],we.X[(506832829*Le&4294967295)>>>we.Mb]=Le;Le=xe,t(!(De>>>(ct=we).Xa)),g[Le]=ct.X[De],De=!0}De||t(ee.h==Y(ee))}if(p.Pb&&ee.h&&xe<I)t(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Te(p.s.vb,p.s.Wa);else{if(ee.h)break e;z!=null&&z(p,G>$?$:G),p.a=0,p.$=xe-j}return 1}return p.a=3,0}function $s(p){t(p!=null),p.vc=null,p.yc=null,p.Ya=null;var g=p.Wa;g!=null&&(g.X=null),p.vb=null,t(p!=null)}function vl(){var p=new bt;return p==null?null:(p.a=0,p.xb=d5,er("Predictor","VP8LPredictors"),er("Predictor","VP8LPredictors_C"),er("PredictorAdd","VP8LPredictorsAdd"),er("PredictorAdd","VP8LPredictorsAdd_C"),Tr=Et,ef=gt,tf=pr,ca=Dt,ua=wt,da=kt,Tl=Gt,B.VP8LMapColor32b=Vi,B.VP8LMapColor8b=Xd,p)}function $i(p,g,j,A,I){var $=1,z=[p],G=[g],J=A.m,ee=A.s,fe=null,xe=0;e:for(;;){if(j)for(;$&&de(J,1);){var te=z,he=G,ge=A,je=1,we=ge.m,Ae=ge.gc[ge.ab],Pe=de(we,2);if(ge.Oc&1<<Pe)$=0;else{switch(ge.Oc|=1<<Pe,Ae.hc=Pe,Ae.Ea=te[0],Ae.nc=he[0],Ae.K=[null],++ge.ab,t(4>=ge.ab),Pe){case 0:case 1:Ae.b=de(we,3)+2,je=$i(X(Ae.Ea,Ae.b),X(Ae.nc,Ae.b),0,ge,Ae.K),Ae.K=Ae.K[0];break;case 3:var De,Le=de(we,8)+1,ct=16<Le?0:4<Le?1:2<Le?2:3;if(te[0]=X(Ae.Ea,ct),Ae.b=ct,De=je=$i(Le,1,0,ge,Ae.K)){var Je,Lt=Le,nt=Ae,Ft=1<<(8>>nt.b),Yr=i(Ft);if(Yr==null)De=0;else{var Ot=nt.K[0],st=nt.w;for(Yr[0]=nt.K[0][0],Je=1;Je<1*Lt;++Je)Yr[Je]=ye(Ot[st+Je],Yr[Je-1]);for(;Je<4*Ft;++Je)Yr[Je]=0;nt.K[0]=null,nt.K[0]=Yr,De=1}}je=De;break;case 2:break;default:t(0)}$=je}}if(z=z[0],G=G[0],$&&de(J,1)&&!($=1<=(xe=de(J,4))&&11>=xe)){A.a=3;break e}var Ve;if(Ve=$)t:{var Lr,At,qt,cr=A,yn=z,qn=G,Er=xe,Cn=j,zn=cr.m,Qr=cr.s,Vt=[null],Jt=1,jr=0,Yt=x8[Er];r:for(;;){if(Cn&&de(zn,1)){var vn=de(zn,3)+2,ui=X(yn,vn),Or=X(qn,vn),ts=ui*Or;if(!$i(ui,Or,0,cr,Vt))break r;for(Vt=Vt[0],Qr.xc=vn,Lr=0;Lr<ts;++Lr){var rr=Vt[Lr]>>8&65535;Vt[Lr]=rr,rr>=Jt&&(Jt=rr+1)}}if(zn.h)break r;for(At=0;5>At;++At){var Xr=c5[At];!At&&0<Er&&(Xr+=1<<Er),jr<Xr&&(jr=Xr)}var _s=o(Jt*Yt,W),Vn=Jt,Ss=o(Vn,Z);if(Ss==null)var Ns=null;else t(65536>=Vn),Ns=Ss;var rs=i(jr);if(Ns==null||rs==null||_s==null){cr.a=1;break r}var Es=_s;for(Lr=qt=0;Lr<Jt;++Lr){var or=Ns[Lr],js=or.G,di=or.H,Ll=0,To=1,wn=0;for(At=0;5>At;++At){Xr=c5[At],js[At]=Es,di[At]=qt,!At&&0<Er&&(Xr+=1<<Er);s:{var Tp,Ky=Xr,Rp=cr,af=rs,U8=Es,q8=qt,Jy=0,ma=Rp.m,z8=de(ma,1);if(s(af,0,0,Ky),z8){var V8=de(ma,1)+1,W8=de(ma,1),w5=de(ma,W8==0?1:8);af[w5]=1,V8==2&&(af[w5=de(ma,8)]=1);var Lp=1}else{var x5=i(19),b5=de(ma,4)+4;if(19<b5){Rp.a=3;var Op=0;break s}for(Tp=0;Tp<b5;++Tp)x5[v8[Tp]]=de(ma,3);var Yy=void 0,lf=void 0,_5=Rp,H8=x5,Ip=Ky,S5=af,Qy=0,ga=_5.m,N5=8,E5=o(128,W);n:for(;k(E5,0,7,H8,19);){if(de(ga,1)){var G8=2+2*de(ga,3);if((Yy=2+de(ga,G8))>Ip)break n}else Yy=Ip;for(lf=0;lf<Ip&&Yy--;){Q(ga);var j5=E5[0+(127&V(ga))];se(ga,ga.u+j5.g);var Jc=j5.value;if(16>Jc)S5[lf++]=Jc,Jc!=0&&(N5=Jc);else{var K8=Jc==16,A5=Jc-16,J8=g8[A5],C5=de(ga,m8[A5])+J8;if(lf+C5>Ip)break n;for(var Y8=K8?N5:0;0<C5--;)S5[lf++]=Y8}}Qy=1;break n}Qy||(_5.a=3),Lp=Qy}(Lp=Lp&&!ma.h)&&(Jy=k(U8,q8,8,af,Ky)),Lp&&Jy!=0?Op=Jy:(Rp.a=3,Op=0)}if(Op==0)break r;if(To&&y8[At]==1&&(To=Es[qt].g==0),Ll+=Es[qt].g,qt+=Op,3>=At){var cf,Xy=rs[0];for(cf=1;cf<Xr;++cf)rs[cf]>Xy&&(Xy=rs[cf]);wn+=Xy}}if(or.nd=To,or.Qb=0,To&&(or.qb=(js[3][di[3]+0].value<<24|js[1][di[1]+0].value<<16|js[2][di[2]+0].value)>>>0,Ll==0&&256>js[0][di[0]+0].value&&(or.Qb=1,or.qb+=js[0][di[0]+0].value<<8)),or.jc=!or.Qb&&6>wn,or.jc){var Dp,Ro=or;for(Dp=0;Dp<Pl;++Dp){var ya=Dp,va=Ro.pd[ya],Mp=Ro.G[0][Ro.H[0]+ya];256<=Mp.value?(va.g=Mp.g+256,va.value=Mp.value):(va.g=0,va.value=0,ya>>=an(Mp,8,va),ya>>=an(Ro.G[1][Ro.H[1]+ya],16,va),ya>>=an(Ro.G[2][Ro.H[2]+ya],0,va),an(Ro.G[3][Ro.H[3]+ya],24,va))}}}Qr.vc=Vt,Qr.Wb=Jt,Qr.Ya=Ns,Qr.yc=_s,Ve=1;break t}Ve=0}if(!($=Ve)){A.a=3;break e}if(0<xe){if(ee.ua=1<<xe,!R(ee.Wa,xe)){A.a=1,$=0;break e}}else ee.ua=0;var Zy=A,k5=z,Q8=G,ev=Zy.s,tv=ev.xc;if(Zy.c=k5,Zy.i=Q8,ev.md=X(k5,tv),ev.wc=tv==0?-1:(1<<tv)-1,j){A.xb=C8;break e}if((fe=i(z*G))==null){A.a=1,$=0;break e}$=($=oi(A,fe,0,z,G,G,null))&&!J.h;break e}return $?(I!=null?I[0]=fe:(t(fe==null),t(j)),A.$=0,j||$s(ee)):$s(ee),$}function wl(p,g){var j=p.c*p.i,A=j+g+16*g;return t(p.c<=g),p.V=i(A),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+j+g,1)}function Mc(p,g){var j=p.C,A=g-j,I=p.V,$=p.Ba+p.c*j;for(t(g<=p.l.o);0<A;){var z=16<A?16:A,G=p.l.ma,J=p.l.width,ee=J*z,fe=G.ca,xe=G.tb+J*j,te=p.Ta,he=p.Ua;yl(p,z,I,$),t5(te,he,fe,xe,ee),Bi(G,j,j+z,fe,xe,J),A-=z,I+=z*p.c,j+=z}t(j==g),p.C=p.Ma=g}function Fc(){this.ub=this.yd=this.td=this.Rb=0}function Bc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ny(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Id(){this.Yb=function(){var p=[];return function g(j,A,I){for(var $=I[A],z=0;z<$&&(j.push(I.length>A+1?[]:0),!(I.length<A+1));z++)g(j[z],A+1,I)}(p,0,[3,11]),p}()}function rp(){this.jb=i(3),this.Wc=a([4,8],Id),this.Xc=a([4,17],Id)}function np(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Us(){this.ld=this.La=this.dd=this.tc=0}function Dd(){this.Na=this.la=0}function sp(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Md(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ip(){this.uc=this.M=this.Nb=0,this.wa=Array(new Us),this.Y=0,this.ya=Array(new Md),this.aa=0,this.l=new $c}function op(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ap(){this.cb=this.a=0,this.sc="",this.m=new C,this.Od=new Fc,this.Kc=new Bc,this.ed=new np,this.Qa=new Ny,this.Ic=this.$c=this.Aa=0,this.D=new ip,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,C),this.ia=0,this.pb=o(4,sp),this.Pa=new rp,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new op),this.Hd=0,this.rb=Array(new Dd),this.sb=0,this.wa=Array(new Us),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Md),this.L=this.aa=0,this.gd=a([4,2],Us),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ui(p,g){return 0>p?0:p>g?g:p}function $c(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ey(){var p=new ap;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,sf||(sf=Uc)),p}function Ur(p,g,j){return p.a==0&&(p.a=g,p.sc=j,p.cb=0),0}function lp(p,g,j){return 3<=j&&p[g+0]==157&&p[g+1]==1&&p[g+2]==42}function qi(p,g){if(p==null)return 0;if(p.a=0,p.sc="OK",g==null)return Ur(p,2,"null VP8Io passed to VP8GetHeaders()");var j=g.data,A=g.w,I=g.ha;if(4>I)return Ur(p,7,"Truncated header.");var $=j[A+0]|j[A+1]<<8|j[A+2]<<16,z=p.Od;if(z.Rb=!(1&$),z.td=$>>1&7,z.yd=$>>4&1,z.ub=$>>5,3<z.td)return Ur(p,3,"Incorrect keyframe parameters.");if(!z.yd)return Ur(p,4,"Frame not displayable.");A+=3,I-=3;var G=p.Kc;if(z.Rb){if(7>I)return Ur(p,7,"cannot parse picture header");if(!lp(j,A,I))return Ur(p,3,"Bad code word");G.c=16383&(j[A+4]<<8|j[A+3]),G.Td=j[A+4]>>6,G.i=16383&(j[A+6]<<8|j[A+5]),G.Ud=j[A+6]>>6,A+=7,I-=7,p.za=G.c+15>>4,p.Ub=G.i+15>>4,g.width=G.c,g.height=G.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,s(($=p.Pa).jb,0,255,$.jb.length),t(($=p.Qa)!=null),$.Cb=0,$.Bb=0,$.Fb=1,s($.Zb,0,0,$.Zb.length),s($.Lb,0,0,$.Lb)}if(z.ub>I)return Ur(p,7,"bad partition length");ne($=p.m,j,A,z.ub),A+=z.ub,I-=z.ub,z.Rb&&(G.Ld=ue($),G.Kd=ue($)),G=p.Qa;var J,ee=p.Pa;if(t($!=null),t(G!=null),G.Cb=ue($),G.Cb){if(G.Bb=ue($),ue($)){for(G.Fb=ue($),J=0;4>J;++J)G.Zb[J]=ue($)?M($,7):0;for(J=0;4>J;++J)G.Lb[J]=ue($)?M($,6):0}if(G.Bb)for(J=0;3>J;++J)ee.jb[J]=ue($)?ie($,8):255}else G.Bb=0;if($.Ka)return Ur(p,3,"cannot parse segment header");if((G=p.ed).zd=ue($),G.Tb=ie($,6),G.wb=ie($,3),G.Pc=ue($),G.Pc&&ue($)){for(ee=0;4>ee;++ee)ue($)&&(G.vd[ee]=M($,6));for(ee=0;4>ee;++ee)ue($)&&(G.od[ee]=M($,6))}if(p.L=G.Tb==0?0:G.zd?1:2,$.Ka)return Ur(p,3,"cannot parse filter header");var fe=I;if(I=J=A,A=J+fe,G=fe,p.Xb=(1<<ie(p.m,2))-1,fe<3*(ee=p.Xb))j=7;else{for(J+=3*ee,G-=3*ee,fe=0;fe<ee;++fe){var xe=j[I+0]|j[I+1]<<8|j[I+2]<<16;xe>G&&(xe=G),ne(p.Jc[+fe],j,J,xe),J+=xe,G-=xe,I+=3}ne(p.Jc[+ee],j,J,G),j=J<A?0:5}if(j!=0)return Ur(p,j,"cannot parse partitions");for(j=ie(J=p.m,7),I=ue(J)?M(J,4):0,A=ue(J)?M(J,4):0,G=ue(J)?M(J,4):0,ee=ue(J)?M(J,4):0,J=ue(J)?M(J,4):0,fe=p.Qa,xe=0;4>xe;++xe){if(fe.Cb){var te=fe.Zb[xe];fe.Fb||(te+=j)}else{if(0<xe){p.pb[xe]=p.pb[0];continue}te=j}var he=p.pb[xe];he.Sc[0]=Wy[Ui(te+I,127)],he.Sc[1]=Hy[Ui(te+0,127)],he.Eb[0]=2*Wy[Ui(te+A,127)],he.Eb[1]=101581*Hy[Ui(te+G,127)]>>16,8>he.Eb[1]&&(he.Eb[1]=8),he.Qc[0]=Wy[Ui(te+ee,117)],he.Qc[1]=Hy[Ui(te+J,127)],he.lc=te+J}if(!z.Rb)return Ur(p,4,"Not a key frame.");for(ue($),z=p.Pa,j=0;4>j;++j){for(I=0;8>I;++I)for(A=0;3>A;++A)for(G=0;11>G;++G)ee=me($,j8[j][I][A][G])?ie($,8):N8[j][I][A][G],z.Wc[j][I].Yb[A][G]=ee;for(I=0;17>I;++I)z.Xc[j][I]=z.Wc[j][A8[I]]}return p.kc=ue($),p.kc&&(p.Bd=ie($,8)),p.cb=1}function Uc(p,g,j,A,I,$,z){var G=g[I].Yb[j];for(j=0;16>I;++I){if(!me(p,G[j+0]))return I;for(;!me(p,G[j+1]);)if(G=g[++I].Yb[0],j=0,I==16)return 16;var J=g[I+1].Yb;if(me(p,G[j+2])){var ee=p,fe=0;if(me(ee,(te=G)[(xe=j)+3]))if(me(ee,te[xe+6])){for(G=0,xe=2*(fe=me(ee,te[xe+8]))+(te=me(ee,te[xe+9+fe])),fe=0,te=_8[xe];te[G];++G)fe+=fe+me(ee,te[G]);fe+=3+(8<<xe)}else me(ee,te[xe+7])?(fe=7+2*me(ee,165),fe+=me(ee,145)):fe=5+me(ee,159);else fe=me(ee,te[xe+4])?3+me(ee,te[xe+5]):2;G=J[2]}else fe=1,G=J[1];J=z+S8[I],0>(ee=p).b&&ce(ee);var xe,te=ee.b,he=(xe=ee.Ca>>1)-(ee.I>>te)>>31;--ee.b,ee.Ca+=he,ee.Ca|=1,ee.I-=(xe+1&he)<<te,$[J]=((fe^he)-he)*A[(0<I)+0]}return 16}function cp(p){var g=p.rb[p.sb-1];g.la=0,g.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function qs(p,g,j,A,I){I=p[g+j+32*A]+(I>>3),p[g+j+32*A]=-256&I?0>I?0:255:I}function Gr(p,g,j,A,I,$){qs(p,g,0,j,A+I),qs(p,g,1,j,A+$),qs(p,g,2,j,A-$),qs(p,g,3,j,A-I)}function vo(p){return(20091*p>>16)+p}function up(p,g,j,A){var I,$=0,z=i(16);for(I=0;4>I;++I){var G=p[g+0]+p[g+8],J=p[g+0]-p[g+8],ee=(35468*p[g+4]>>16)-vo(p[g+12]),fe=vo(p[g+4])+(35468*p[g+12]>>16);z[$+0]=G+fe,z[$+1]=J+ee,z[$+2]=J-ee,z[$+3]=G-fe,$+=4,g++}for(I=$=0;4>I;++I)G=(p=z[$+0]+4)+z[$+8],J=p-z[$+8],ee=(35468*z[$+4]>>16)-vo(z[$+12]),qs(j,A,0,0,G+(fe=vo(z[$+4])+(35468*z[$+12]>>16))),qs(j,A,1,0,J+ee),qs(j,A,2,0,J-ee),qs(j,A,3,0,G-fe),$++,A+=32}function jy(p,g,j,A){var I=p[g+0]+4,$=35468*p[g+4]>>16,z=vo(p[g+4]),G=35468*p[g+1]>>16;Gr(j,A,0,I+z,p=vo(p[g+1]),G),Gr(j,A,1,I+$,p,G),Gr(j,A,2,I-$,p,G),Gr(j,A,3,I-z,p,G)}function Ay(p,g,j,A,I){up(p,g,j,A),I&&up(p,g+16,j,A+4)}function zi(p,g,j,A){Rl(p,g+0,j,A,1),Rl(p,g+32,j,A+128,1)}function dp(p,g,j,A){var I;for(p=p[g+0]+4,I=0;4>I;++I)for(g=0;4>g;++g)qs(j,A,g,I,p)}function fp(p,g,j,A){p[g+0]&&Kt(p,g+0,j,A),p[g+16]&&Kt(p,g+16,j,A+4),p[g+32]&&Kt(p,g+32,j,A+128),p[g+48]&&Kt(p,g+48,j,A+128+4)}function qc(p,g,j,A){var I,$=i(16);for(I=0;4>I;++I){var z=p[g+0+I]+p[g+12+I],G=p[g+4+I]+p[g+8+I],J=p[g+4+I]-p[g+8+I],ee=p[g+0+I]-p[g+12+I];$[0+I]=z+G,$[8+I]=z-G,$[4+I]=ee+J,$[12+I]=ee-J}for(I=0;4>I;++I)z=(p=$[0+4*I]+3)+$[3+4*I],G=$[1+4*I]+$[2+4*I],J=$[1+4*I]-$[2+4*I],ee=p-$[3+4*I],j[A+0]=z+G>>3,j[A+16]=ee+J>>3,j[A+32]=z-G>>3,j[A+48]=ee-J>>3,A+=64}function xl(p,g,j){var A,I=g-32,$=bs,z=255-p[I-1];for(A=0;A<j;++A){var G,J=$,ee=z+p[g-1];for(G=0;G<j;++G)p[g+G]=J[ee+p[I+G]];g+=32}}function Cy(p,g){xl(p,g,4)}function ky(p,g){xl(p,g,8)}function Py(p,g){xl(p,g,16)}function Fd(p,g){var j;for(j=0;16>j;++j)n(p,g+32*j,p,g-32,16)}function hp(p,g){var j;for(j=16;0<j;--j)s(p,g,p[g-1],16),g+=32}function ai(p,g,j){var A;for(A=0;16>A;++A)s(g,j+32*A,p,16)}function Ty(p,g){var j,A=16;for(j=0;16>j;++j)A+=p[g-1+32*j]+p[g+j-32];ai(A>>5,p,g)}function bl(p,g){var j,A=8;for(j=0;16>j;++j)A+=p[g-1+32*j];ai(A>>4,p,g)}function Bd(p,g){var j,A=8;for(j=0;16>j;++j)A+=p[g+j-32];ai(A>>4,p,g)}function Ry(p,g){ai(128,p,g)}function Nt(p,g,j){return p+2*g+j+2>>2}function Ly(p,g){var j,A=g-32;for(A=new Uint8Array([Nt(p[A-1],p[A+0],p[A+1]),Nt(p[A+0],p[A+1],p[A+2]),Nt(p[A+1],p[A+2],p[A+3]),Nt(p[A+2],p[A+3],p[A+4])]),j=0;4>j;++j)n(p,g+32*j,A,0,A.length)}function Oy(p,g){var j=p[g-1],A=p[g-1+32],I=p[g-1+64],$=p[g-1+96];ve(p,g+0,16843009*Nt(p[g-1-32],j,A)),ve(p,g+32,16843009*Nt(j,A,I)),ve(p,g+64,16843009*Nt(A,I,$)),ve(p,g+96,16843009*Nt(I,$,$))}function Iy(p,g){var j,A=4;for(j=0;4>j;++j)A+=p[g+j-32]+p[g-1+32*j];for(A>>=3,j=0;4>j;++j)s(p,g+32*j,A,4)}function wo(p,g){var j=p[g-1+0],A=p[g-1+32],I=p[g-1+64],$=p[g-1-32],z=p[g+0-32],G=p[g+1-32],J=p[g+2-32],ee=p[g+3-32];p[g+0+96]=Nt(A,I,p[g-1+96]),p[g+1+96]=p[g+0+64]=Nt(j,A,I),p[g+2+96]=p[g+1+64]=p[g+0+32]=Nt($,j,A),p[g+3+96]=p[g+2+64]=p[g+1+32]=p[g+0+0]=Nt(z,$,j),p[g+3+64]=p[g+2+32]=p[g+1+0]=Nt(G,z,$),p[g+3+32]=p[g+2+0]=Nt(J,G,z),p[g+3+0]=Nt(ee,J,G)}function xo(p,g){var j=p[g+1-32],A=p[g+2-32],I=p[g+3-32],$=p[g+4-32],z=p[g+5-32],G=p[g+6-32],J=p[g+7-32];p[g+0+0]=Nt(p[g+0-32],j,A),p[g+1+0]=p[g+0+32]=Nt(j,A,I),p[g+2+0]=p[g+1+32]=p[g+0+64]=Nt(A,I,$),p[g+3+0]=p[g+2+32]=p[g+1+64]=p[g+0+96]=Nt(I,$,z),p[g+3+32]=p[g+2+64]=p[g+1+96]=Nt($,z,G),p[g+3+64]=p[g+2+96]=Nt(z,G,J),p[g+3+96]=Nt(G,J,J)}function Dy(p,g){var j=p[g-1+0],A=p[g-1+32],I=p[g-1+64],$=p[g-1-32],z=p[g+0-32],G=p[g+1-32],J=p[g+2-32],ee=p[g+3-32];p[g+0+0]=p[g+1+64]=$+z+1>>1,p[g+1+0]=p[g+2+64]=z+G+1>>1,p[g+2+0]=p[g+3+64]=G+J+1>>1,p[g+3+0]=J+ee+1>>1,p[g+0+96]=Nt(I,A,j),p[g+0+64]=Nt(A,j,$),p[g+0+32]=p[g+1+96]=Nt(j,$,z),p[g+1+32]=p[g+2+96]=Nt($,z,G),p[g+2+32]=p[g+3+96]=Nt(z,G,J),p[g+3+32]=Nt(G,J,ee)}function My(p,g){var j=p[g+0-32],A=p[g+1-32],I=p[g+2-32],$=p[g+3-32],z=p[g+4-32],G=p[g+5-32],J=p[g+6-32],ee=p[g+7-32];p[g+0+0]=j+A+1>>1,p[g+1+0]=p[g+0+64]=A+I+1>>1,p[g+2+0]=p[g+1+64]=I+$+1>>1,p[g+3+0]=p[g+2+64]=$+z+1>>1,p[g+0+32]=Nt(j,A,I),p[g+1+32]=p[g+0+96]=Nt(A,I,$),p[g+2+32]=p[g+1+96]=Nt(I,$,z),p[g+3+32]=p[g+2+96]=Nt($,z,G),p[g+3+64]=Nt(z,G,J),p[g+3+96]=Nt(G,J,ee)}function zc(p,g){var j=p[g-1+0],A=p[g-1+32],I=p[g-1+64],$=p[g-1+96];p[g+0+0]=j+A+1>>1,p[g+2+0]=p[g+0+32]=A+I+1>>1,p[g+2+32]=p[g+0+64]=I+$+1>>1,p[g+1+0]=Nt(j,A,I),p[g+3+0]=p[g+1+32]=Nt(A,I,$),p[g+3+32]=p[g+1+64]=Nt(I,$,$),p[g+3+64]=p[g+2+64]=p[g+0+96]=p[g+1+96]=p[g+2+96]=p[g+3+96]=$}function $d(p,g){var j=p[g-1+0],A=p[g-1+32],I=p[g-1+64],$=p[g-1+96],z=p[g-1-32],G=p[g+0-32],J=p[g+1-32],ee=p[g+2-32];p[g+0+0]=p[g+2+32]=j+z+1>>1,p[g+0+32]=p[g+2+64]=A+j+1>>1,p[g+0+64]=p[g+2+96]=I+A+1>>1,p[g+0+96]=$+I+1>>1,p[g+3+0]=Nt(G,J,ee),p[g+2+0]=Nt(z,G,J),p[g+1+0]=p[g+3+32]=Nt(j,z,G),p[g+1+32]=p[g+3+64]=Nt(A,j,z),p[g+1+64]=p[g+3+96]=Nt(I,A,j),p[g+1+96]=Nt($,I,A)}function _l(p,g){var j;for(j=0;8>j;++j)n(p,g+32*j,p,g-32,8)}function Fy(p,g){var j;for(j=0;8>j;++j)s(p,g,p[g-1],8),g+=32}function bo(p,g,j){var A;for(A=0;8>A;++A)s(g,j+32*A,p,8)}function By(p,g){var j,A=8;for(j=0;8>j;++j)A+=p[g+j-32]+p[g-1+32*j];bo(A>>4,p,g)}function Ud(p,g){var j,A=4;for(j=0;8>j;++j)A+=p[g+j-32];bo(A>>3,p,g)}function qd(p,g){var j,A=4;for(j=0;8>j;++j)A+=p[g-1+32*j];bo(A>>3,p,g)}function pp(p,g){bo(128,p,g)}function _o(p,g,j){var A=p[g-j],I=p[g+0],$=3*(I-A)+$y[1020+p[g-2*j]-p[g+j]],z=_p[112+($+4>>3)];p[g-j]=bs[255+A+_p[112+($+3>>3)]],p[g+0]=bs[255+I-z]}function zd(p,g,j,A){var I=p[g+0],$=p[g+j];return Ws[255+p[g-2*j]-p[g-j]]>A||Ws[255+$-I]>A}function Vc(p,g,j,A){return 4*Ws[255+p[g-j]-p[g+0]]+Ws[255+p[g-2*j]-p[g+j]]<=A}function Vd(p,g,j,A,I){var $=p[g-3*j],z=p[g-2*j],G=p[g-j],J=p[g+0],ee=p[g+j],fe=p[g+2*j],xe=p[g+3*j];return 4*Ws[255+G-J]+Ws[255+z-ee]>A?0:Ws[255+p[g-4*j]-$]<=I&&Ws[255+$-z]<=I&&Ws[255+z-G]<=I&&Ws[255+xe-fe]<=I&&Ws[255+fe-ee]<=I&&Ws[255+ee-J]<=I}function Sl(p,g,j,A){var I=2*A+1;for(A=0;16>A;++A)Vc(p,g+A,j,I)&&_o(p,g+A,j)}function Wd(p,g,j,A){var I=2*A+1;for(A=0;16>A;++A)Vc(p,g+A*j,1,I)&&_o(p,g+A*j,1)}function mp(p,g,j,A){var I;for(I=3;0<I;--I)Sl(p,g+=4*j,j,A)}function gp(p,g,j,A){var I;for(I=3;0<I;--I)Wd(p,g+=4,j,A)}function So(p,g,j,A,I,$,z,G){for($=2*$+1;0<I--;){if(Vd(p,g,j,$,z))if(zd(p,g,j,G))_o(p,g,j);else{var J=p,ee=g,fe=j,xe=J[ee-2*fe],te=J[ee-fe],he=J[ee+0],ge=J[ee+fe],je=J[ee+2*fe],we=27*(Pe=$y[1020+3*(he-te)+$y[1020+xe-ge]])+63>>7,Ae=18*Pe+63>>7,Pe=9*Pe+63>>7;J[ee-3*fe]=bs[255+J[ee-3*fe]+Pe],J[ee-2*fe]=bs[255+xe+Ae],J[ee-fe]=bs[255+te+we],J[ee+0]=bs[255+he-we],J[ee+fe]=bs[255+ge-Ae],J[ee+2*fe]=bs[255+je-Pe]}g+=A}}function No(p,g,j,A,I,$,z,G){for($=2*$+1;0<I--;){if(Vd(p,g,j,$,z))if(zd(p,g,j,G))_o(p,g,j);else{var J=p,ee=g,fe=j,xe=J[ee-fe],te=J[ee+0],he=J[ee+fe],ge=_p[112+(4+(je=3*(te-xe))>>3)],je=_p[112+(je+3>>3)],we=ge+1>>1;J[ee-2*fe]=bs[255+J[ee-2*fe]+we],J[ee-fe]=bs[255+xe+je],J[ee+0]=bs[255+te-ge],J[ee+fe]=bs[255+he-we]}g+=A}}function yp(p,g,j,A,I,$){So(p,g,j,1,16,A,I,$)}function Nl(p,g,j,A,I,$){So(p,g,1,j,16,A,I,$)}function vp(p,g,j,A,I,$){var z;for(z=3;0<z;--z)No(p,g+=4*j,j,1,16,A,I,$)}function N(p,g,j,A,I,$){var z;for(z=3;0<z;--z)No(p,g+=4,1,j,16,A,I,$)}function O(p,g,j,A,I,$,z,G){So(p,g,I,1,8,$,z,G),So(j,A,I,1,8,$,z,G)}function re(p,g,j,A,I,$,z,G){So(p,g,1,I,8,$,z,G),So(j,A,1,I,8,$,z,G)}function le(p,g,j,A,I,$,z,G){No(p,g+4*I,I,1,8,$,z,G),No(j,A+4*I,I,1,8,$,z,G)}function pe(p,g,j,A,I,$,z,G){No(p,g+4,1,I,8,$,z,G),No(j,A+4,1,I,8,$,z,G)}function ke(){this.ba=new Pt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Re(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function et(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lt(){this.ua=0,this.Wa=new He,this.vb=new He,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new W}function bt(){this.xb=this.a=0,this.l=new $c,this.ca=new Pt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lt,this.ab=0,this.gc=o(4,et),this.Oc=0}function Tt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $c,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function zt(p,g,j,A,I,$,z){for(p=p==null?0:p[g+0],g=0;g<z;++g)I[$+g]=p+j[A+g]&255,p=I[$+g]}function wr(p,g,j,A,I,$,z){var G;if(p==null)zt(null,null,j,A,I,$,z);else for(G=0;G<z;++G)I[$+G]=p[g+G]+j[A+G]&255}function qr(p,g,j,A,I,$,z){if(p==null)zt(null,null,j,A,I,$,z);else{var G,J=p[g+0],ee=J,fe=J;for(G=0;G<z;++G)ee=fe+(J=p[g+G])-ee,fe=j[A+G]+(-256&ee?0>ee?0:255:ee)&255,ee=J,I[$+G]=fe}}function ir(p,g,j,A){var I=g.width,$=g.o;if(t(p!=null&&g!=null),0>j||0>=A||j+A>$)return null;if(!p.Cc){if(p.ga==null){var z;if(p.ga=new Tt,(z=p.ga==null)||(z=g.width*g.o,t(p.Gb.length==0),p.Gb=i(z),p.Uc=0,p.Gb==null?z=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,z=1),z=!z),!z){z=p.ga;var G=p.Fa,J=p.P,ee=p.qc,fe=p.mb,xe=p.nb,te=J+1,he=ee-1,ge=z.l;if(t(G!=null&&fe!=null&&g!=null),pa[0]=null,pa[1]=zt,pa[2]=wr,pa[3]=qr,z.ca=fe,z.tb=xe,z.c=g.width,z.i=g.height,t(0<z.c&&0<z.i),1>=ee)g=0;else if(z.$a=3&G[J+0],z.Z=G[J+0]>>2&3,z.Lc=G[J+0]>>4&3,J=G[J+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||J)g=0;else if(ge.put=tt,ge.ac=Sr,ge.bc=on,ge.ma=z,ge.width=g.width,ge.height=g.height,ge.Da=g.Da,ge.v=g.v,ge.va=g.va,ge.j=g.j,ge.o=g.o,z.$a)e:{t(z.$a==1),g=vl();t:for(;;){if(g==null){g=0;break e}if(t(z!=null),z.mc=g,g.c=z.c,g.i=z.i,g.l=z.l,g.l.ma=z,g.l.width=z.c,g.l.height=z.i,g.a=0,H(g.m,G,te,he),!$i(z.c,z.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&si(g.s)?(z.ic=1,G=g.c*g.i,g.Ta=null,g.Ua=0,g.V=i(G),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(z.ic=0,g=wl(g,z.c)),!g))break t;g=1;break e}z.mc=null,g=0}else g=he>=z.c*z.i;z=!g}if(z)return null;p.ga.Lc!=1?p.Ga=0:A=$-j}t(p.ga!=null),t(j+A<=$);e:{if(g=(G=p.ga).c,$=G.l.o,G.$a==0){if(te=p.rc,he=p.Vc,ge=p.Fa,J=p.P+1+j*g,ee=p.mb,fe=p.nb+j*g,t(J<=p.P+p.qc),G.Z!=0)for(t(pa[G.Z]!=null),z=0;z<A;++z)pa[G.Z](te,he,ge,J,ee,fe,g),te=ee,he=fe,fe+=g,J+=g;else for(z=0;z<A;++z)n(ee,fe,ge,J,g),te=ee,he=fe,fe+=g,J+=g;p.rc=te,p.Vc=he}else{if(t(G.mc!=null),g=j+A,t((z=G.mc)!=null),t(g<=z.i),z.C>=g)g=1;else if(G.ic||li(),G.ic){G=z.V,te=z.Ba,he=z.c;var je=z.i,we=(ge=1,J=z.$/he,ee=z.$%he,fe=z.m,xe=z.s,z.$),Ae=he*je,Pe=he*g,De=xe.wc,Le=we<Pe?pn(xe,ee,J):null;t(we<=Ae),t(g<=je),t(si(xe));t:for(;;){for(;!fe.h&&we<Pe;){if(ee&De||(Le=pn(xe,ee,J)),t(Le!=null),Q(fe),256>(je=Nr(Le.G[0],Le.H[0],fe)))G[te+we]=je,++we,++ee>=he&&(ee=0,++J<=g&&!(J%16)&&ii(z,J));else{if(!(280>je)){ge=0;break t}je=mr(je-256,fe);var ct,Je=Nr(Le.G[4],Le.H[4],fe);if(Q(fe),!(we>=(Je=Pr(he,Je=mr(Je,fe)))&&Ae-we>=je)){ge=0;break t}for(ct=0;ct<je;++ct)G[te+we+ct]=G[te+we+ct-Je];for(we+=je,ee+=je;ee>=he;)ee-=he,++J<=g&&!(J%16)&&ii(z,J);we<Pe&&ee&De&&(Le=pn(xe,ee,J))}t(fe.h==Y(fe))}ii(z,J>g?g:J);break t}!ge||fe.h&&we<Ae?(ge=0,z.a=fe.h?5:3):z.$=we,g=ge}else g=oi(z,z.V,z.Ba,z.c,z.i,g,Mc);if(!g){A=0;break e}}j+A>=$&&(p.Cc=1),A=1}if(!A)return null;if(p.Cc&&((A=p.ga)!=null&&(A.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+j*I}function Kr(p,g,j,A,I,$){for(;0<I--;){var z,G=p,J=g+(j?1:0),ee=p,fe=g+(j?0:3);for(z=0;z<A;++z){var xe=ee[fe+4*z];xe!=255&&(xe*=32897,G[J+4*z+0]=G[J+4*z+0]*xe>>23,G[J+4*z+1]=G[J+4*z+1]*xe>>23,G[J+4*z+2]=G[J+4*z+2]*xe>>23)}g+=$}}function zr(p,g,j,A,I){for(;0<A--;){var $;for($=0;$<j;++$){var z=p[g+2*$+0],G=15&(ee=p[g+2*$+1]),J=4369*G,ee=(240&ee|ee>>4)*J>>16;p[g+2*$+0]=(240&z|z>>4)*J>>16&240|(15&z|z<<4)*J>>16>>4&15,p[g+2*$+1]=240&ee|G}g+=I}}function mn(p,g,j,A,I,$,z,G){var J,ee,fe=255;for(ee=0;ee<I;++ee){for(J=0;J<A;++J){var xe=p[g+J];$[z+4*J]=xe,fe&=xe}g+=j,z+=G}return fe!=255}function Eo(p,g,j,A,I){var $;for($=0;$<I;++$)j[A+$]=p[g+$]>>8}function li(){nf=Kr,Zb=zr,e5=mn,t5=Eo}function jo(p,g,j){B[p]=function(A,I,$,z,G,J,ee,fe,xe,te,he,ge,je,we,Ae,Pe,De){var Le,ct=De-1>>1,Je=G[J+0]|ee[fe+0]<<16,Lt=xe[te+0]|he[ge+0]<<16;t(A!=null);var nt=3*Je+Lt+131074>>2;for(g(A[I+0],255&nt,nt>>16,je,we),$!=null&&(nt=3*Lt+Je+131074>>2,g($[z+0],255&nt,nt>>16,Ae,Pe)),Le=1;Le<=ct;++Le){var Ft=G[J+Le]|ee[fe+Le]<<16,Yr=xe[te+Le]|he[ge+Le]<<16,Ot=Je+Ft+Lt+Yr+524296,st=Ot+2*(Ft+Lt)>>3;nt=st+Je>>1,Je=(Ot=Ot+2*(Je+Yr)>>3)+Ft>>1,g(A[I+2*Le-1],255&nt,nt>>16,je,we+(2*Le-1)*j),g(A[I+2*Le-0],255&Je,Je>>16,je,we+(2*Le-0)*j),$!=null&&(nt=Ot+Lt>>1,Je=st+Yr>>1,g($[z+2*Le-1],255&nt,nt>>16,Ae,Pe+(2*Le-1)*j),g($[z+2*Le+0],255&Je,Je>>16,Ae,Pe+(2*Le+0)*j)),Je=Ft,Lt=Yr}1&De||(nt=3*Je+Lt+131074>>2,g(A[I+De-1],255&nt,nt>>16,je,we+(De-1)*j),$!=null&&(nt=3*Lt+Je+131074>>2,g($[z+De-1],255&nt,nt>>16,Ae,Pe+(De-1)*j)))}}function Hd(){Hs[Sp]=k8,Hs[Np]=f5,Hs[a5]=P8,Hs[Ep]=h5,Hs[jp]=p5,Hs[Uy]=m5,Hs[l5]=T8,Hs[qy]=f5,Hs[zy]=h5,Hs[Ap]=p5,Hs[Vy]=m5}function Wc(p){return p&-16384?0>p?0:255:p>>R8}function sa(p,g){return Wc((19077*p>>8)+(26149*g>>8)-14234)}function El(p,g,j){return Wc((19077*p>>8)-(6419*g>>8)-(13320*j>>8)+8708)}function jl(p,g){return Wc((19077*p>>8)+(33050*g>>8)-17685)}function ia(p,g,j,A,I){A[I+0]=sa(p,j),A[I+1]=El(p,g,j),A[I+2]=jl(p,g)}function gn(p,g,j,A,I){A[I+0]=jl(p,g),A[I+1]=El(p,g,j),A[I+2]=sa(p,j)}function Al(p,g,j,A,I){var $=El(p,g,j);g=$<<3&224|jl(p,g)>>3,A[I+0]=248&sa(p,j)|$>>5,A[I+1]=g}function Cl(p,g,j,A,I){var $=240&jl(p,g)|15;A[I+0]=240&sa(p,j)|El(p,g,j)>>4,A[I+1]=$}function Gd(p,g,j,A,I){A[I+0]=255,ia(p,g,j,A,I+1)}function Kd(p,g,j,A,I){gn(p,g,j,A,I),A[I+3]=255}function Un(p,g,j,A,I){ia(p,g,j,A,I),A[I+3]=255}function Ao(p,g,j){B[p]=function(A,I,$,z,G,J,ee,fe,xe){for(var te=fe+(-2&xe)*j;fe!=te;)g(A[I+0],$[z+0],G[J+0],ee,fe),g(A[I+1],$[z+0],G[J+0],ee,fe+j),I+=2,++z,++J,fe+=2*j;1&xe&&g(A[I+0],$[z+0],G[J+0],ee,fe)}}function Hc(p,g,j){return j==0?p==0?g==0?6:5:g==0?4:0:j}function wp(p,g,j,A,I){switch(p>>>30){case 3:Rl(g,j,A,I,0);break;case 2:Vs(g,j,A,I);break;case 1:Kt(g,j,A,I)}}function zs(p,g){var j,A,I=g.M,$=g.Nb,z=p.oc,G=p.pc+40,J=p.oc,ee=p.pc+584,fe=p.oc,xe=p.pc+600;for(j=0;16>j;++j)z[G+32*j-1]=129;for(j=0;8>j;++j)J[ee+32*j-1]=129,fe[xe+32*j-1]=129;for(0<I?z[G-1-32]=J[ee-1-32]=fe[xe-1-32]=129:(s(z,G-32-1,127,21),s(J,ee-32-1,127,9),s(fe,xe-32-1,127,9)),A=0;A<p.za;++A){var te=g.ya[g.aa+A];if(0<A){for(j=-1;16>j;++j)n(z,G+32*j-4,z,G+32*j+12,4);for(j=-1;8>j;++j)n(J,ee+32*j-4,J,ee+32*j+4,4),n(fe,xe+32*j-4,fe,xe+32*j+4,4)}var he=p.Gd,ge=p.Hd+A,je=te.ad,we=te.Hc;if(0<I&&(n(z,G-32,he[ge].y,0,16),n(J,ee-32,he[ge].f,0,8),n(fe,xe-32,he[ge].ea,0,8)),te.Za){var Ae=z,Pe=G-32+16;for(0<I&&(A>=p.za-1?s(Ae,Pe,he[ge].y[15],4):n(Ae,Pe,he[ge+1].y,0,4)),j=0;4>j;j++)Ae[Pe+128+j]=Ae[Pe+256+j]=Ae[Pe+384+j]=Ae[Pe+0+j];for(j=0;16>j;++j,we<<=2)Ae=z,Pe=G+y5[j],ci[te.Ob[j]](Ae,Pe),wp(we,je,16*+j,Ae,Pe)}else if(Ae=Hc(A,I,te.Ob[0]),ha[Ae](z,G),we!=0)for(j=0;16>j;++j,we<<=2)wp(we,je,16*+j,z,G+y5[j]);for(j=te.Gc,Ae=Hc(A,I,te.Dd),Po[Ae](J,ee),Po[Ae](fe,xe),we=je,Ae=J,Pe=ee,255&(te=0|j)&&(170&te?Hi(we,256,Ae,Pe):tr(we,256,Ae,Pe)),te=fe,we=xe,255&(j>>=8)&&(170&j?Hi(je,320,te,we):tr(je,320,te,we)),I<p.Ub-1&&(n(he[ge].y,0,z,G+480,16),n(he[ge].f,0,J,ee+224,8),n(he[ge].ea,0,fe,xe+224,8)),j=8*$*p.B,he=p.sa,ge=p.ta+16*A+16*$*p.R,je=p.qa,te=p.ra+8*A+j,we=p.Ha,Ae=p.Ia+8*A+j,j=0;16>j;++j)n(he,ge+j*p.R,z,G+32*j,16);for(j=0;8>j;++j)n(je,te+j*p.B,J,ee+32*j,8),n(we,Ae+j*p.B,fe,xe+32*j,8)}}function kl(p,g,j,A,I,$,z,G,J){var ee=[0],fe=[0],xe=0,te=J!=null?J.kd:0,he=J??new Re;if(p==null||12>j)return 7;he.data=p,he.w=g,he.ha=j,g=[g],j=[j],he.gb=[he.gb];e:{var ge=g,je=j,we=he.gb;if(t(p!=null),t(je!=null),t(we!=null),we[0]=0,12<=je[0]&&!r(p,ge[0],"RIFF")){if(r(p,ge[0]+8,"WEBP")){we=3;break e}var Ae=Ue(p,ge[0]+4);if(12>Ae||4294967286<Ae){we=3;break e}if(te&&Ae>je[0]-8){we=7;break e}we[0]=Ae,ge[0]+=12,je[0]-=12}we=0}if(we!=0)return we;for(Ae=0<he.gb[0],j=j[0];;){e:{var Pe=p;je=g,we=j;var De=ee,Le=fe,ct=ge=[0];if((nt=xe=[xe])[0]=0,8>we[0])we=7;else{if(!r(Pe,je[0],"VP8X")){if(Ue(Pe,je[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var Je=Ue(Pe,je[0]+8),Lt=1+Ne(Pe,je[0]+12);if(2147483648<=Lt*(Pe=1+Ne(Pe,je[0]+15))){we=3;break e}ct!=null&&(ct[0]=Je),De!=null&&(De[0]=Lt),Le!=null&&(Le[0]=Pe),je[0]+=18,we[0]-=18,nt[0]=1}we=0}}if(xe=xe[0],ge=ge[0],we!=0)return we;if(je=!!(2&ge),!Ae&&xe)return 3;if($!=null&&($[0]=!!(16&ge)),z!=null&&(z[0]=je),G!=null&&(G[0]=0),z=ee[0],ge=fe[0],xe&&je&&J==null){we=0;break}if(4>j){we=7;break}if(Ae&&xe||!Ae&&!xe&&!r(p,g[0],"ALPH")){j=[j],he.na=[he.na],he.P=[he.P],he.Sa=[he.Sa];e:{Je=p,we=g,Ae=j;var nt=he.gb;De=he.na,Le=he.P,ct=he.Sa,Lt=22,t(Je!=null),t(Ae!=null),Pe=we[0];var Ft=Ae[0];for(t(De!=null),t(ct!=null),De[0]=null,Le[0]=null,ct[0]=0;;){if(we[0]=Pe,Ae[0]=Ft,8>Ft){we=7;break e}var Yr=Ue(Je,Pe+4);if(4294967286<Yr){we=3;break e}var Ot=8+Yr+1&-2;if(Lt+=Ot,0<nt&&Lt>nt){we=3;break e}if(!r(Je,Pe,"VP8 ")||!r(Je,Pe,"VP8L")){we=0;break e}if(Ft[0]<Ot){we=7;break e}r(Je,Pe,"ALPH")||(De[0]=Je,Le[0]=Pe+8,ct[0]=Yr),Pe+=Ot,Ft-=Ot}}if(j=j[0],he.na=he.na[0],he.P=he.P[0],he.Sa=he.Sa[0],we!=0)break}j=[j],he.Ja=[he.Ja],he.xa=[he.xa];e:if(nt=p,we=g,Ae=j,De=he.gb[0],Le=he.Ja,ct=he.xa,Je=we[0],Pe=!r(nt,Je,"VP8 "),Lt=!r(nt,Je,"VP8L"),t(nt!=null),t(Ae!=null),t(Le!=null),t(ct!=null),8>Ae[0])we=7;else{if(Pe||Lt){if(nt=Ue(nt,Je+4),12<=De&&nt>De-12){we=3;break e}if(te&&nt>Ae[0]-8){we=7;break e}Le[0]=nt,we[0]+=8,Ae[0]-=8,ct[0]=Lt}else ct[0]=5<=Ae[0]&&nt[Je+0]==47&&!(nt[Je+4]>>5),Le[0]=Ae[0];we=0}if(j=j[0],he.Ja=he.Ja[0],he.xa=he.xa[0],g=g[0],we!=0)break;if(4294967286<he.Ja)return 3;if(G==null||je||(G[0]=he.xa?2:1),z=[z],ge=[ge],he.xa){if(5>j){we=7;break}G=z,te=ge,je=$,p==null||5>j?p=0:5<=j&&p[g+0]==47&&!(p[g+4]>>5)?(Ae=[0],nt=[0],De=[0],H(Le=new q,p,g,j),hn(Le,Ae,nt,De)?(G!=null&&(G[0]=Ae[0]),te!=null&&(te[0]=nt[0]),je!=null&&(je[0]=De[0]),p=1):p=0):p=0}else{if(10>j){we=7;break}G=ge,p==null||10>j||!lp(p,g+3,j-3)?p=0:(te=p[g+0]|p[g+1]<<8|p[g+2]<<16,je=16383&(p[g+7]<<8|p[g+6]),p=16383&(p[g+9]<<8|p[g+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=he.Ja||!je||!p?p=0:(z&&(z[0]=je),G&&(G[0]=p),p=1))}if(!p||(z=z[0],ge=ge[0],xe&&(ee[0]!=z||fe[0]!=ge)))return 3;J!=null&&(J[0]=he,J.offset=g-J.w,t(4294967286>g-J.w),t(J.offset==J.ha-j));break}return we==0||we==7&&xe&&J==null?($!=null&&($[0]|=he.na!=null&&0<he.na.length),A!=null&&(A[0]=z),I!=null&&(I[0]=ge),0):we}function Jd(p,g,j){var A=g.width,I=g.height,$=0,z=0,G=A,J=I;if(g.Da=p!=null&&0<p.Da,g.Da&&(G=p.cd,J=p.bd,$=p.v,z=p.j,11>j||($&=-2,z&=-2),0>$||0>z||0>=G||0>=J||$+G>A||z+J>I))return 0;if(g.v=$,g.j=z,g.va=$+G,g.o=z+J,g.U=G,g.T=J,g.da=p!=null&&0<p.da,g.da){if(!oe(G,J,j=[p.ib],$=[p.hb]))return 0;g.ib=j[0],g.hb=$[0]}return g.ob=p!=null&&p.ob,g.Kb=p==null||!p.Sd,g.da&&(g.ob=g.ib<3*A/4&&g.hb<3*I/4,g.Kb=0),1}function Yd(p){if(p==null)return 2;if(11>p.S){var g=p.f.RGBA;g.fb+=(p.height-1)*g.A,g.A=-g.A}else g=p.f.kb,p=p.height,g.O+=(p-1)*g.fa,g.fa=-g.fa,g.N+=(p-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(p-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(p-1)*g.lb,g.lb=-g.lb);return 0}function oa(p,g,j,A){if(A==null||0>=p||0>=g)return 2;if(j!=null){if(j.Da){var I=j.cd,$=j.bd,z=-2&j.v,G=-2&j.j;if(0>z||0>G||0>=I||0>=$||z+I>p||G+$>g)return 2;p=I,g=$}if(j.da){if(!oe(p,g,I=[j.ib],$=[j.hb]))return 2;p=I[0],g=$[0]}}A.width=p,A.height=g;e:{var J=A.width,ee=A.height;if(p=A.S,0>=J||0>=ee||!(p>=Sp&&13>p))p=2;else{if(0>=A.Rd&&A.sd==null){z=$=I=g=0;var fe=(G=J*v5[p])*ee;if(11>p||($=(ee+1)/2*(g=(J+1)/2),p==12&&(z=(I=J)*ee)),(ee=i(fe+2*$+z))==null){p=1;break e}A.sd=ee,11>p?((J=A.f.RGBA).eb=ee,J.fb=0,J.A=G,J.size=fe):((J=A.f.kb).y=ee,J.O=0,J.fa=G,J.Fd=fe,J.f=ee,J.N=0+fe,J.Ab=g,J.Cd=$,J.ea=ee,J.W=0+fe+$,J.Db=g,J.Ed=$,p==12&&(J.F=ee,J.J=0+fe+2*$),J.Tc=z,J.lb=I)}if(g=1,I=A.S,$=A.width,z=A.height,I>=Sp&&13>I)if(11>I)p=A.f.RGBA,g&=(G=Math.abs(p.A))*(z-1)+$<=p.size,g&=G>=$*v5[I],g&=p.eb!=null;else{p=A.f.kb,G=($+1)/2,fe=(z+1)/2,J=Math.abs(p.fa),ee=Math.abs(p.Ab);var xe=Math.abs(p.Db),te=Math.abs(p.lb),he=te*(z-1)+$;g&=J*(z-1)+$<=p.Fd,g&=ee*(fe-1)+G<=p.Cd,g=(g&=xe*(fe-1)+G<=p.Ed)&J>=$&ee>=G&xe>=G,g&=p.y!=null,g&=p.f!=null,g&=p.ea!=null,I==12&&(g&=te>=$,g&=he<=p.Tc,g&=p.F!=null)}else g=0;p=g?0:2}}return p!=0||j!=null&&j.fd&&(p=Yd(A)),p}var Pl=64,ws=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xs=24,aa=32,Co=8,la=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ee("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(p){return p},B.Predictor2=function(p,g,j){return g[j+0]},B.Predictor3=function(p,g,j){return g[j+1]},B.Predictor4=function(p,g,j){return g[j-1]},B.Predictor5=function(p,g,j){return Me(Me(p,g[j+1]),g[j+0])},B.Predictor6=function(p,g,j){return Me(p,g[j-1])},B.Predictor7=function(p,g,j){return Me(p,g[j+0])},B.Predictor8=function(p,g,j){return Me(g[j-1],g[j+0])},B.Predictor9=function(p,g,j){return Me(g[j+0],g[j+1])},B.Predictor10=function(p,g,j){return Me(Me(p,g[j-1]),Me(g[j+0],g[j+1]))},B.Predictor11=function(p,g,j){var A=g[j+0];return 0>=$e(A>>24&255,p>>24&255,(g=g[j-1])>>24&255)+$e(A>>16&255,p>>16&255,g>>16&255)+$e(A>>8&255,p>>8&255,g>>8&255)+$e(255&A,255&p,255&g)?A:p},B.Predictor12=function(p,g,j){var A=g[j+0];return(_e((p>>24&255)+(A>>24&255)-((g=g[j-1])>>24&255))<<24|_e((p>>16&255)+(A>>16&255)-(g>>16&255))<<16|_e((p>>8&255)+(A>>8&255)-(g>>8&255))<<8|_e((255&p)+(255&A)-(255&g)))>>>0},B.Predictor13=function(p,g,j){var A=g[j-1];return(Ie((p=Me(p,g[j+0]))>>24&255,A>>24&255)<<24|Ie(p>>16&255,A>>16&255)<<16|Ie(p>>8&255,A>>8&255)<<8|Ie(255&p,255&A))>>>0};var Qd=B.PredictorAdd0;B.PredictorAdd1=mt,Ee("Predictor2","PredictorAdd2"),Ee("Predictor3","PredictorAdd3"),Ee("Predictor4","PredictorAdd4"),Ee("Predictor5","PredictorAdd5"),Ee("Predictor6","PredictorAdd6"),Ee("Predictor7","PredictorAdd7"),Ee("Predictor8","PredictorAdd8"),Ee("Predictor9","PredictorAdd9"),Ee("Predictor10","PredictorAdd10"),Ee("Predictor11","PredictorAdd11"),Ee("Predictor12","PredictorAdd12"),Ee("Predictor13","PredictorAdd13");var Gc=B.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Tr,xp=B.ColorIndexInverseTransform,Vi=B.MapARGB,Wi=B.VP8LColorIndexInverseTransformAlpha,Xd=B.MapAlpha,Zd=B.VP8LPredictorsAdd=[];Zd.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var ef,tf,ca,ua,da,Tl,fa,Rl,Vs,Hi,Kt,tr,Rr,Jr,ko,rf,Kc,bp,Gb,Kb,Jb,Yb,Qb,Xb,nf,Zb,e5,t5,r5=i(511),n5=i(2041),s5=i(225),i5=i(767),o5=0,$y=n5,_p=s5,bs=i5,Ws=r5,Sp=0,Np=1,a5=2,Ep=3,jp=4,Uy=5,l5=6,qy=7,zy=8,Ap=9,Vy=10,m8=[2,3,7],g8=[3,3,11],c5=[280,256,256,256,40],y8=[0,1,1,1,0],v8=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],w8=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],x8=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],b8=8,Wy=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Hy=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],sf=null,_8=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],S8=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],u5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],N8=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],E8=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],j8=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],A8=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ha=[],ci=[],Po=[],C8=1,d5=2,pa=[],Hs=[];jo("UpsampleRgbLinePair",ia,3),jo("UpsampleBgrLinePair",gn,3),jo("UpsampleRgbaLinePair",Un,4),jo("UpsampleBgraLinePair",Kd,4),jo("UpsampleArgbLinePair",Gd,4),jo("UpsampleRgba4444LinePair",Cl,2),jo("UpsampleRgb565LinePair",Al,2);var k8=B.UpsampleRgbLinePair,P8=B.UpsampleBgrLinePair,f5=B.UpsampleRgbaLinePair,h5=B.UpsampleBgraLinePair,p5=B.UpsampleArgbLinePair,m5=B.UpsampleRgba4444LinePair,T8=B.UpsampleRgb565LinePair,Cp=16,kp=1<<Cp-1,of=-227,Gy=482,R8=6,g5=0,L8=i(256),O8=i(256),I8=i(256),D8=i(256),M8=i(Gy-of),F8=i(Gy-of);Ao("YuvToRgbRow",ia,3),Ao("YuvToBgrRow",gn,3),Ao("YuvToRgbaRow",Un,4),Ao("YuvToBgraRow",Kd,4),Ao("YuvToArgbRow",Gd,4),Ao("YuvToRgba4444Row",Cl,2),Ao("YuvToRgb565Row",Al,2);var y5=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Pp=[0,2,8],B8=[8,7,6,4,4,2,2,2,1,1,1,1],$8=1;this.WebPDecodeRGBA=function(p,g,j,A,I){var $=Np,z=new ke,G=new Pt;z.ba=G,G.S=$,G.width=[G.width],G.height=[G.height];var J=G.width,ee=G.height,fe=new at;if(fe==null||p==null)var xe=2;else t(fe!=null),xe=kl(p,g,j,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(xe!=0?J=0:(J!=null&&(J[0]=fe.width[0]),ee!=null&&(ee[0]=fe.height[0]),J=1),J){G.width=G.width[0],G.height=G.height[0],A!=null&&(A[0]=G.width),I!=null&&(I[0]=G.height);e:{if(A=new $c,(I=new Re).data=p,I.w=g,I.ha=j,I.kd=1,g=[0],t(I!=null),((p=kl(I.data,I.w,I.ha,null,null,null,g,null,I))==0||p==7)&&g[0]&&(p=4),(g=p)==0){if(t(z!=null),A.data=I.data,A.w=I.w+I.offset,A.ha=I.ha-I.offset,A.put=tt,A.ac=Sr,A.bc=on,A.ma=z,I.xa){if((p=vl())==null){z=1;break e}if(function(te,he){var ge=[0],je=[0],we=[0];t:for(;;){if(te==null)return 0;if(he==null)return te.a=2,0;if(te.l=he,te.a=0,H(te.m,he.data,he.w,he.ha),!hn(te.m,ge,je,we)){te.a=3;break t}if(te.xb=d5,he.width=ge[0],he.height=je[0],!$i(ge[0],je[0],1,te,null))break t;return 1}return t(te.a!=0),0}(p,A)){if(A=(g=oa(A.width,A.height,z.Oa,z.ba))==0){t:{A=p;r:for(;;){if(A==null){A=0;break t}if(t(A.s.yc!=null),t(A.s.Ya!=null),t(0<A.s.Wb),t((j=A.l)!=null),t((I=j.ma)!=null),A.xb!=0){if(A.ca=I.ba,A.tb=I.tb,t(A.ca!=null),!Jd(I.Oa,j,Ep)){A.a=2;break r}if(!wl(A,j.width)||j.da)break r;if((j.da||ft(A.ca.S))&&li(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&li()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!R(A.s.vb,A.s.Wa.Xa)){A.a=1;break r}A.xb=0}if(!oi(A,A.V,A.Ba,A.c,A.i,j.o,na))break r;I.Dc=A.Ma,A=1;break t}t(A.a!=0),A=0}A=!A}A&&(g=p.a)}else g=p.a}else{if((p=new Ey)==null){z=1;break e}if(p.Fa=I.na,p.P=I.P,p.qc=I.Sa,qi(p,A)){if((g=oa(A.width,A.height,z.Oa,z.ba))==0){if(p.Aa=0,j=z.Oa,t((I=p)!=null),j!=null){if(0<(J=0>(J=j.Md)?0:100<J?255:255*J/100)){for(ee=fe=0;4>ee;++ee)12>(xe=I.pb[ee]).lc&&(xe.ia=J*B8[0>xe.lc?0:xe.lc]>>3),fe|=xe.ia;fe&&(alert("todo:VP8InitRandom"),I.ia=1)}I.Ga=j.Id,100<I.Ga?I.Ga=100:0>I.Ga&&(I.Ga=0)}(function(te,he){if(te==null)return 0;if(he==null)return Ur(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!qi(te,he))return 0;if(t(te.cb),he.ac==null||he.ac(he)){he.ob&&(te.L=0);var ge=Pp[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=he.v-ge>>4,te.zb=he.j-ge>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=he.o+15+ge>>4,te.Hb=he.va+15+ge>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var je=te.ed;for(ge=0;4>ge;++ge){var we;if(te.Qa.Cb){var Ae=te.Qa.Lb[ge];te.Qa.Fb||(Ae+=je.Tb)}else Ae=je.Tb;for(we=0;1>=we;++we){var Pe=te.gd[ge][we],De=Ae;if(je.Pc&&(De+=je.vd[0],we&&(De+=je.od[0])),0<(De=0>De?0:63<De?63:De)){var Le=De;0<je.wb&&(Le=4<je.wb?Le>>2:Le>>1)>9-je.wb&&(Le=9-je.wb),1>Le&&(Le=1),Pe.dd=Le,Pe.tc=2*De+Le,Pe.ld=40<=De?2:15<=De?1:0}else Pe.tc=0;Pe.La=we}}}ge=0}else Ur(te,6,"Frame setup failed"),ge=te.a;if(ge=ge==0){if(ge){te.$c=0,0<te.Aa||(te.Ic=$8);t:{ge=te.Ic,je=4*(Le=te.za);var ct=32*Le,Je=Le+1,Lt=0<te.L?Le*(0<te.Aa?2:1):0,nt=(te.Aa==2?2:1)*Le;if((Pe=je+832+(we=3*(16*ge+Pp[te.L])/2*ct)+(Ae=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=Pe)ge=0;else{if(Pe>te.Vb){if(te.Vb=0,te.Ec=i(Pe),te.Fc=0,te.Ec==null){ge=Ur(te,1,"no memory during frame initialization.");break t}te.Vb=Pe}Pe=te.Ec,De=te.Fc,te.Ac=Pe,te.Bc=De,De+=je,te.Gd=o(ct,op),te.Hd=0,te.rb=o(Je+1,Dd),te.sb=1,te.wa=Lt?o(Lt,Us):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=Le),t(!0),te.oc=Pe,te.pc=De,De+=832,te.ya=o(nt,Md),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=Le),te.R=16*Le,te.B=8*Le,Le=(ct=Pp[te.L])*te.R,ct=ct/2*te.B,te.sa=Pe,te.ta=De+Le,te.qa=te.sa,te.ra=te.ta+16*ge*te.R+ct,te.Ha=te.qa,te.Ia=te.ra+8*ge*te.B+ct,te.$c=0,De+=we,te.mb=Ae?Pe:null,te.nb=Ae?De:null,t(De+Ae<=te.Fc+te.Vb),cp(te),s(te.Ac,te.Bc,0,je),ge=1}}if(ge){if(he.ka=0,he.y=te.sa,he.O=te.ta,he.f=te.qa,he.N=te.ra,he.ea=te.Ha,he.Vd=te.Ia,he.fa=te.R,he.Rc=te.B,he.F=null,he.J=0,!o5){for(ge=-255;255>=ge;++ge)r5[255+ge]=0>ge?-ge:ge;for(ge=-1020;1020>=ge;++ge)n5[1020+ge]=-128>ge?-128:127<ge?127:ge;for(ge=-112;112>=ge;++ge)s5[112+ge]=-16>ge?-16:15<ge?15:ge;for(ge=-255;510>=ge;++ge)i5[255+ge]=0>ge?0:255<ge?255:ge;o5=1}fa=qc,Rl=Ay,Hi=zi,Kt=dp,tr=fp,Vs=jy,Rr=yp,Jr=Nl,ko=O,rf=re,Kc=vp,bp=N,Gb=le,Kb=pe,Jb=Sl,Yb=Wd,Qb=mp,Xb=gp,ci[0]=Iy,ci[1]=Cy,ci[2]=Ly,ci[3]=Oy,ci[4]=wo,ci[5]=Dy,ci[6]=xo,ci[7]=My,ci[8]=$d,ci[9]=zc,ha[0]=Ty,ha[1]=Py,ha[2]=Fd,ha[3]=hp,ha[4]=bl,ha[5]=Bd,ha[6]=Ry,Po[0]=By,Po[1]=ky,Po[2]=_l,Po[3]=Fy,Po[4]=qd,Po[5]=Ud,Po[6]=pp,ge=1}else ge=0}ge&&(ge=function(Ft,Yr){for(Ft.M=0;Ft.M<Ft.Va;++Ft.M){var Ot,st=Ft.Jc[Ft.M&Ft.Xb],Ve=Ft.m,Lr=Ft;for(Ot=0;Ot<Lr.za;++Ot){var At=Ve,qt=Lr,cr=qt.Ac,yn=qt.Bc+4*Ot,qn=qt.zc,Er=qt.ya[qt.aa+Ot];if(qt.Qa.Bb?Er.$b=me(At,qt.Pa.jb[0])?2+me(At,qt.Pa.jb[2]):me(At,qt.Pa.jb[1]):Er.$b=0,qt.kc&&(Er.Ad=me(At,qt.Bd)),Er.Za=!me(At,145)+0,Er.Za){var Cn=Er.Ob,zn=0;for(qt=0;4>qt;++qt){var Qr,Vt=qn[0+qt];for(Qr=0;4>Qr;++Qr){Vt=E8[cr[yn+Qr]][Vt];for(var Jt=u5[me(At,Vt[0])];0<Jt;)Jt=u5[2*Jt+me(At,Vt[Jt])];Vt=-Jt,cr[yn+Qr]=Vt}n(Cn,zn,cr,yn,4),zn+=4,qn[0+qt]=Vt}}else Vt=me(At,156)?me(At,128)?1:3:me(At,163)?2:0,Er.Ob[0]=Vt,s(cr,yn,Vt,4),s(qn,0,Vt,4);Er.Dd=me(At,142)?me(At,114)?me(At,183)?1:3:2:0}if(Lr.m.Ka)return Ur(Ft,7,"Premature end-of-partition0 encountered.");for(;Ft.ja<Ft.za;++Ft.ja){if(Lr=st,At=(Ve=Ft).rb[Ve.sb-1],cr=Ve.rb[Ve.sb+Ve.ja],Ot=Ve.ya[Ve.aa+Ve.ja],yn=Ve.kc?Ot.Ad:0)At.la=cr.la=0,Ot.Za||(At.Na=cr.Na=0),Ot.Hc=0,Ot.Gc=0,Ot.ia=0;else{var jr,Yt;if(At=cr,cr=Lr,yn=Ve.Pa.Xc,qn=Ve.ya[Ve.aa+Ve.ja],Er=Ve.pb[qn.$b],qt=qn.ad,Cn=0,zn=Ve.rb[Ve.sb-1],Vt=Qr=0,s(qt,Cn,0,384),qn.Za)var vn=0,ui=yn[3];else{Jt=i(16);var Or=At.Na+zn.Na;if(Or=sf(cr,yn[1],Or,Er.Eb,0,Jt,0),At.Na=zn.Na=(0<Or)+0,1<Or)fa(Jt,0,qt,Cn);else{var ts=Jt[0]+3>>3;for(Jt=0;256>Jt;Jt+=16)qt[Cn+Jt]=ts}vn=1,ui=yn[0]}var rr=15&At.la,Xr=15&zn.la;for(Jt=0;4>Jt;++Jt){var _s=1&Xr;for(ts=Yt=0;4>ts;++ts)rr=rr>>1|(_s=(Or=sf(cr,ui,Or=_s+(1&rr),Er.Sc,vn,qt,Cn))>vn)<<7,Yt=Yt<<2|(3<Or?3:1<Or?2:qt[Cn+0]!=0),Cn+=16;rr>>=4,Xr=Xr>>1|_s<<7,Qr=(Qr<<8|Yt)>>>0}for(ui=rr,vn=Xr>>4,jr=0;4>jr;jr+=2){for(Yt=0,rr=At.la>>4+jr,Xr=zn.la>>4+jr,Jt=0;2>Jt;++Jt){for(_s=1&Xr,ts=0;2>ts;++ts)Or=_s+(1&rr),rr=rr>>1|(_s=0<(Or=sf(cr,yn[2],Or,Er.Qc,0,qt,Cn)))<<3,Yt=Yt<<2|(3<Or?3:1<Or?2:qt[Cn+0]!=0),Cn+=16;rr>>=2,Xr=Xr>>1|_s<<5}Vt|=Yt<<4*jr,ui|=rr<<4<<jr,vn|=(240&Xr)<<jr}At.la=ui,zn.la=vn,qn.Hc=Qr,qn.Gc=Vt,qn.ia=43690&Vt?0:Er.ia,yn=!(Qr|Vt)}if(0<Ve.L&&(Ve.wa[Ve.Y+Ve.ja]=Ve.gd[Ot.$b][Ot.Za],Ve.wa[Ve.Y+Ve.ja].La|=!yn),Lr.Ka)return Ur(Ft,7,"Premature end-of-file encountered.")}if(cp(Ft),Ve=Yr,Lr=1,Ot=(st=Ft).D,At=0<st.L&&st.M>=st.zb&&st.M<=st.Va,st.Aa==0)t:{if(Ot.M=st.M,Ot.uc=At,zs(st,Ot),Lr=1,Ot=(Yt=st.D).Nb,At=(Vt=Pp[st.L])*st.R,cr=Vt/2*st.B,Jt=16*Ot*st.R,ts=8*Ot*st.B,yn=st.sa,qn=st.ta-At+Jt,Er=st.qa,qt=st.ra-cr+ts,Cn=st.Ha,zn=st.Ia-cr+ts,Xr=(rr=Yt.M)==0,Qr=rr>=st.Va-1,st.Aa==2&&zs(st,Yt),Yt.uc)for(_s=(Or=st).D.M,t(Or.D.uc),Yt=Or.yb;Yt<Or.Hb;++Yt){vn=Yt,ui=_s;var Vn=(Ss=(wn=Or).D).Nb;jr=wn.R;var Ss=Ss.wa[Ss.Y+vn],Ns=wn.sa,rs=wn.ta+16*Vn*jr+16*vn,Es=Ss.dd,or=Ss.tc;if(or!=0)if(t(3<=or),wn.L==1)0<vn&&Yb(Ns,rs,jr,or+4),Ss.La&&Xb(Ns,rs,jr,or),0<ui&&Jb(Ns,rs,jr,or+4),Ss.La&&Qb(Ns,rs,jr,or);else{var js=wn.B,di=wn.qa,Ll=wn.ra+8*Vn*js+8*vn,To=wn.Ha,wn=wn.Ia+8*Vn*js+8*vn;Vn=Ss.ld,0<vn&&(Jr(Ns,rs,jr,or+4,Es,Vn),rf(di,Ll,To,wn,js,or+4,Es,Vn)),Ss.La&&(bp(Ns,rs,jr,or,Es,Vn),Kb(di,Ll,To,wn,js,or,Es,Vn)),0<ui&&(Rr(Ns,rs,jr,or+4,Es,Vn),ko(di,Ll,To,wn,js,or+4,Es,Vn)),Ss.La&&(Kc(Ns,rs,jr,or,Es,Vn),Gb(di,Ll,To,wn,js,or,Es,Vn))}}if(st.ia&&alert("todo:DitherRow"),Ve.put!=null){if(Yt=16*rr,rr=16*(rr+1),Xr?(Ve.y=st.sa,Ve.O=st.ta+Jt,Ve.f=st.qa,Ve.N=st.ra+ts,Ve.ea=st.Ha,Ve.W=st.Ia+ts):(Yt-=Vt,Ve.y=yn,Ve.O=qn,Ve.f=Er,Ve.N=qt,Ve.ea=Cn,Ve.W=zn),Qr||(rr-=Vt),rr>Ve.o&&(rr=Ve.o),Ve.F=null,Ve.J=null,st.Fa!=null&&0<st.Fa.length&&Yt<rr&&(Ve.J=ir(st,Ve,Yt,rr-Yt),Ve.F=st.mb,Ve.F==null&&Ve.F.length==0)){Lr=Ur(st,3,"Could not decode alpha data.");break t}Yt<Ve.j&&(Vt=Ve.j-Yt,Yt=Ve.j,t(!(1&Vt)),Ve.O+=st.R*Vt,Ve.N+=st.B*(Vt>>1),Ve.W+=st.B*(Vt>>1),Ve.F!=null&&(Ve.J+=Ve.width*Vt)),Yt<rr&&(Ve.O+=Ve.v,Ve.N+=Ve.v>>1,Ve.W+=Ve.v>>1,Ve.F!=null&&(Ve.J+=Ve.v),Ve.ka=Yt-Ve.j,Ve.U=Ve.va-Ve.v,Ve.T=rr-Yt,Lr=Ve.put(Ve))}Ot+1!=st.Ic||Qr||(n(st.sa,st.ta-At,yn,qn+16*st.R,At),n(st.qa,st.ra-cr,Er,qt+8*st.B,cr),n(st.Ha,st.Ia-cr,Cn,zn+8*st.B,cr))}if(!Lr)return Ur(Ft,6,"Output aborted.")}return 1}(te,he)),he.bc!=null&&he.bc(he),ge&=1}return ge?(te.cb=0,ge):0})(p,A)||(g=p.a)}}else g=p.a}g==0&&z.Oa!=null&&z.Oa.fd&&(g=Yd(z.ba))}z=g}$=z!=0?null:11>$?G.f.RGBA.eb:G.f.kb.y}else $=null;return $};var v5=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(B,K){for(var L="",k=0;k<4;k++)L+=String.fromCharCode(B[K++]);return L}function d(B,K){return B[K+0]|B[K+1]<<8}function h(B,K){return(B[K+0]|B[K+1]<<8|B[K+2]<<16)>>>0}function m(B,K){return(B[K+0]|B[K+1]<<8|B[K+2]<<16|B[K+3]<<24)>>>0}new l;var f=[0],w=[0],y=[],b=new l,v=e,S=function(B,K){var L={},k=0,W=!1,P=0,Z=0;if(L.frames=[],!function(C,q){for(var V=0;V<4;V++)if(C[q+V]!="RIFF".charCodeAt(V))return!0;return!1}(B,K)){for(m(B,K+=4),K+=8;K<B.length;){var ne=u(B,K),ie=m(B,K+=4);K+=4;var M=ie+(1&ie);switch(ne){case"VP8 ":case"VP8L":L.frames[k]===void 0&&(L.frames[k]={}),(de=L.frames[k]).src_off=W?Z:K-8,de.src_size=P+ie+8,k++,W&&(W=!1,P=0,Z=0);break;case"VP8X":(de=L.header={}).feature_flags=B[K];var H=K+4;de.canvas_width=1+h(B,H),H+=3,de.canvas_height=1+h(B,H),H+=3;break;case"ALPH":W=!0,P=M+8,Z=K-8;break;case"ANIM":(de=L.header).bgcolor=m(B,K),H=K+4,de.loop_count=d(B,H),H+=2;break;case"ANMF":var ae,de;(de=L.frames[k]={}).offset_x=2*h(B,K),K+=3,de.offset_y=2*h(B,K),K+=3,de.width=1+h(B,K),K+=3,de.height=1+h(B,K),K+=3,de.duration=h(B,K),K+=3,ae=B[K++],de.dispose=1&ae,de.blend=ae>>1&1}ne!="ANMF"&&(K+=M)}return L}}(v,0);S.response=v,S.rgbaoutput=!0,S.dataurl=!1;var _=S.header?S.header:null,E=S.frames?S.frames:null;if(_){_.loop_counter=_.loop_count,f=[_.canvas_height],w=[_.canvas_width];for(var T=0;T<E.length&&E[T].blend!=0;T++);}var F=E[0],D=b.WebPDecodeRGBA(v,F.src_off,F.src_size,w,f);F.rgba=D,F.imgwidth=w[0],F.imgheight=f[0];for(var U=0;U<w[0]*f[0]*4;U++)y[U]=D[U];return this.width=w,this.height=f,this.data=y,this}(function(e){var t,r,n,s,i,o,a,l,u,d=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new o,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new o,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var h=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=C;Object.defineProperty(this,"pdf",{get:function(){return q}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(R){V=!!R}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(R){Y=!!R}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(R){isNaN(R)||(se=R)}});var Q=0;Object.defineProperty(this,"posY",{get:function(){return Q},set:function(R){isNaN(R)||(Q=R)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(R){var Te;typeof R=="number"?Te=[R,R,R,R]:((Te=new Array(4))[0]=R[0],Te[1]=R.length>=2?R[1]:Te[0],Te[2]=R.length>=3?R[2]:Te[0],Te[3]=R.length>=4?R[3]:Te[1]),u.margin=Te}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(R){ce=R}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(R){ue=R}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(R){me=R}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(R){R instanceof d&&(u=R)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(R){u.path=R}});var ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return ve},set:function(R){ve=R}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(R){var Te;Te=m(R),this.ctx.fillStyle=Te.style,this.ctx.isFillTransparent=Te.a===0,this.ctx.fillOpacity=Te.a,this.pdf.setFillColor(Te.r,Te.g,Te.b,{a:Te.a}),this.pdf.setTextColor(Te.r,Te.g,Te.b,{a:Te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(R){var Te=m(R);this.ctx.strokeStyle=Te.style,this.ctx.isStrokeTransparent=Te.a===0,this.ctx.strokeOpacity=Te.a,Te.a===0?this.pdf.setDrawColor(255,255,255):(Te.a,this.pdf.setDrawColor(Te.r,Te.g,Te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(R){["butt","round","square"].indexOf(R)!==-1&&(this.ctx.lineCap=R,this.pdf.setLineCap(R))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(R){isNaN(R)||(this.ctx.lineWidth=R,this.pdf.setLineWidth(R))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(R){["bevel","round","miter"].indexOf(R)!==-1&&(this.ctx.lineJoin=R,this.pdf.setLineJoin(R))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(R){isNaN(R)||(this.ctx.miterLimit=R,this.pdf.setMiterLimit(R))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(R){this.ctx.textBaseline=R}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(R){["right","end","center","left","start"].indexOf(R)!==-1&&(this.ctx.textAlign=R)}});var be=null,Ne=null,Ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ue},set:function(R){be=null,Ne=null,Ue=R}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(R){var Te;if(this.ctx.font=R,(Te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(R))!==null){var He=Te[1];Te[2];var oe=Te[3],X=Te[4];Te[5];var ye=Te[6],Ee=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(X)[2];X=Math.floor(Ee==="px"?parseFloat(X)*this.pdf.internal.scaleFactor:Ee==="em"?parseFloat(X)*this.pdf.getFontSize():parseFloat(X)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(X);var Oe=function(ot){var pr,Dt,wt=[],kt=ot.trim();if(kt==="")return m1;if(kt in a4)return[a4[kt]];for(;kt!=="";){switch(Dt=null,pr=(kt=c4(kt)).charAt(0)){case'"':case"'":Dt=NK(kt.substring(1),pr);break;default:Dt=EK(kt)}if(Dt===null||(wt.push(Dt[0]),(kt=c4(Dt[1]))!==""&&kt.charAt(0)!==","))return m1;kt=kt.replace(/^,/,"")}return wt}(ye);if(this.fontFaces){var Me=function(ot,pr){var Dt=ot.getFontList(),wt=JSON.stringify(Dt);if(be===null||Ne!==wt){var kt=function(Gt){var dt=[];return Object.keys(Gt).forEach(function(er){Gt[er].forEach(function(ft){var xt=null;switch(ft){case"bold":xt={family:er,weight:"bold"};break;case"italic":xt={family:er,style:"italic"};break;case"bolditalic":xt={family:er,weight:"bold",style:"italic"};break;case"":case"normal":xt={family:er}}xt!==null&&(xt.ref={name:er,style:ft},dt.push(xt))})}),dt}(Dt);be=function(Gt){for(var dt={},er=0;er<Gt.length;++er){var ft=p1(Gt[er]),xt=ft.family,sr=ft.stretch,Pt=ft.style,at=ft.weight;dt[xt]=dt[xt]||{},dt[xt][sr]=dt[xt][sr]||{},dt[xt][sr][Pt]=dt[xt][sr][Pt]||{},dt[xt][sr][Pt][at]=ft}return dt}(kt.concat(pr)),Ne=wt}return be}(this.pdf,this.fontFaces),_e=Oe.map(function(ot){return{family:ot,stretch:"normal",weight:oe,style:He}}),Ie=function(ot,pr,Dt){for(var wt=(Dt=Dt||{}).defaultFontFamily||"times",kt=Object.assign({},SK,Dt.genericFontFamilies||{}),Gt=null,dt=null,er=0;er<pr.length;++er)if(kt[(Gt=p1(pr[er])).family]&&(Gt.family=kt[Gt.family]),ot.hasOwnProperty(Gt.family)){dt=ot[Gt.family];break}if(!(dt=dt||ot[wt]))throw new Error("Could not find a font-family for the rule '"+l4(Gt)+"' and default family '"+wt+"'.");if(dt=function(ft,xt){if(xt[ft])return xt[ft];var sr=pw[ft],Pt=sr<=pw.normal?-1:1,at=o4(xt,HT,sr,Pt);if(!at)throw new Error("Could not find a matching font-stretch value for "+ft);return at}(Gt.stretch,dt),dt=function(ft,xt){if(xt[ft])return xt[ft];for(var sr=WT[ft],Pt=0;Pt<sr.length;++Pt)if(xt[sr[Pt]])return xt[sr[Pt]];throw new Error("Could not find a matching font-style for "+ft)}(Gt.style,dt),!(dt=function(ft,xt){if(xt[ft])return xt[ft];if(ft===400&&xt[500])return xt[500];if(ft===500&&xt[400])return xt[400];var sr=_K[ft],Pt=o4(xt,GT,sr,ft<400?-1:1);if(!Pt)throw new Error("Could not find a matching font-weight for value "+ft);return Pt}(Gt.weight,dt)))throw new Error("Failed to resolve a font for the rule '"+l4(Gt)+"'.");return dt}(Me,_e);this.pdf.setFont(Ie.ref.name,Ie.ref.style)}else{var $e="";(oe==="bold"||parseInt(oe,10)>=700||He==="bold")&&($e="bold"),He==="italic"&&($e+="italic"),$e.length===0&&($e="normal");for(var mt="",Et={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rt=0;rt<Oe.length;rt++){if(this.pdf.internal.getFont(Oe[rt],$e,{noFallback:!0,disableWarning:!0})!==void 0){mt=Oe[rt];break}if($e==="bolditalic"&&this.pdf.internal.getFont(Oe[rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)mt=Oe[rt],$e="bold";else if(this.pdf.internal.getFont(Oe[rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){mt=Oe[rt],$e="normal";break}}if(mt===""){for(var gt=0;gt<Oe.length;gt++)if(Et[Oe[gt]]){mt=Et[Oe[gt]];break}}mt=mt===""?"Times":mt,this.pdf.setFont(mt,$e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(R){this.ctx.globalCompositeOperation=R}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(R){this.ctx.globalAlpha=R}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(R){this.ctx.lineDashOffset=R,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(R){this.ctx.lineDash=R,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(R){this.ctx.ignoreClearRect=!!R}})};h.prototype.setLineDash=function(C){this.lineDash=C},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){E.call(this,"fill",!1)},h.prototype.stroke=function(){E.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(C,q){if(isNaN(C)||isNaN(q))throw nr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new o(C,q));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(C,q)},h.prototype.closePath=function(){var C=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Xt(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){C=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(C.x,C.y)},h.prototype.lineTo=function(C,q){if(isNaN(C)||isNaN(q))throw nr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new o(C,q));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},h.prototype.quadraticCurveTo=function(C,q,V,Y){if(isNaN(V)||isNaN(Y)||isNaN(C)||isNaN(q))throw nr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(V,Y)),Q=this.ctx.transform.applyToPoint(new o(C,q));this.path.push({type:"qct",x1:Q.x,y1:Q.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},h.prototype.bezierCurveTo=function(C,q,V,Y,se,Q){if(isNaN(se)||isNaN(Q)||isNaN(C)||isNaN(q)||isNaN(V)||isNaN(Y))throw nr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new o(se,Q)),ue=this.ctx.transform.applyToPoint(new o(C,q)),me=this.ctx.transform.applyToPoint(new o(V,Y));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:me.x,y2:me.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},h.prototype.arc=function(C,q,V,Y,se,Q){if(isNaN(C)||isNaN(q)||isNaN(V)||isNaN(Y)||isNaN(se))throw nr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Q=!!Q,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new o(C,q));C=ce.x,q=ce.y;var ue=this.ctx.transform.applyToPoint(new o(0,V)),me=this.ctx.transform.applyToPoint(new o(0,0));V=Math.sqrt(Math.pow(ue.x-me.x,2)+Math.pow(ue.y-me.y,2))}Math.abs(se-Y)>=2*Math.PI&&(Y=0,se=2*Math.PI),this.path.push({type:"arc",x:C,y:q,radius:V,startAngle:Y,endAngle:se,counterclockwise:Q})},h.prototype.arcTo=function(C,q,V,Y,se){throw new Error("arcTo not implemented.")},h.prototype.rect=function(C,q,V,Y){if(isNaN(C)||isNaN(q)||isNaN(V)||isNaN(Y))throw nr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,q),this.lineTo(C+V,q),this.lineTo(C+V,q+Y),this.lineTo(C,q+Y),this.lineTo(C,q),this.lineTo(C+V,q),this.lineTo(C,q)},h.prototype.fillRect=function(C,q,V,Y){if(isNaN(C)||isNaN(q)||isNaN(V)||isNaN(Y))throw nr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,q,V,Y),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},h.prototype.strokeRect=function(C,q,V,Y){if(isNaN(C)||isNaN(q)||isNaN(V)||isNaN(Y))throw nr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(C,q,V,Y),this.stroke())},h.prototype.clearRect=function(C,q,V,Y){if(isNaN(C)||isNaN(q)||isNaN(V)||isNaN(Y))throw nr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,q,V,Y))},h.prototype.save=function(C){C=typeof C!="boolean"||C;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},h.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(q),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(C){var q,V,Y,se;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))q=0,V=0,Y=0,se=0;else{var Q=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(Q!==null)q=parseInt(Q[1]),V=parseInt(Q[2]),Y=parseInt(Q[3]),se=1;else if((Q=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)q=parseInt(Q[1]),V=parseInt(Q[2]),Y=parseInt(Q[3]),se=parseFloat(Q[4]);else{if(se=1,typeof C=="string"&&C.charAt(0)!=="#"){var ce=new FT(C);C=ce.ok?ce.toHex():"#000000"}C.length===4?(q=C.substring(1,2),q+=q,V=C.substring(2,3),V+=V,Y=C.substring(3,4),Y+=Y):(q=C.substring(1,3),V=C.substring(3,5),Y=C.substring(5,7)),q=parseInt(q,16),V=parseInt(V,16),Y=parseInt(Y,16)}}return{r:q,g:V,b:Y,a:se,style:C}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(C,q,V,Y){if(isNaN(q)||isNaN(V)||typeof C!="string")throw nr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!f.call(this)){var se=M(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;k.call(this,{text:C,x:q,y:V,scale:Q,angle:se,align:this.textAlign,maxWidth:Y})}},h.prototype.strokeText=function(C,q,V,Y){if(isNaN(q)||isNaN(V)||typeof C!="string")throw nr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){Y=isNaN(Y)?void 0:Y;var se=M(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;k.call(this,{text:C,x:q,y:V,scale:Q,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:Y})}},h.prototype.measureText=function(C){if(typeof C!="string")throw nr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,V=this.pdf.internal.scaleFactor,Y=q.internal.getFontSize(),se=q.getStringUnitWidth(C)*Y/q.internal.scaleFactor;return new function(Q){var ce=(Q=Q||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this}({width:se*=Math.round(96*V/72*1e4)/1e4})},h.prototype.scale=function(C,q){if(isNaN(C)||isNaN(q))throw nr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(C,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.rotate=function(C){if(isNaN(C))throw nr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},h.prototype.translate=function(C,q){if(isNaN(C)||isNaN(q))throw nr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,C,q);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.transform=function(C,q,V,Y,se,Q){if(isNaN(C)||isNaN(q)||isNaN(V)||isNaN(Y)||isNaN(se)||isNaN(Q))throw nr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new l(C,q,V,Y,se,Q);this.ctx.transform=this.ctx.transform.multiply(ce)},h.prototype.setTransform=function(C,q,V,Y,se,Q){C=isNaN(C)?1:C,q=isNaN(q)?0:q,V=isNaN(V)?0:V,Y=isNaN(Y)?1:Y,se=isNaN(se)?0:se,Q=isNaN(Q)?0:Q,this.ctx.transform=new l(C,q,V,Y,se,Q)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(C,q,V,Y,se,Q,ce,ue,me){var ve=this.pdf.getImageProperties(C),be=1,Ne=1,Ue=1,R=1;Y!==void 0&&ue!==void 0&&(Ue=ue/Y,R=me/se,be=ve.width/Y*ue/Y,Ne=ve.height/se*me/se),Q===void 0&&(Q=q,ce=V,q=0,V=0),Y!==void 0&&ue===void 0&&(ue=Y,me=se),Y===void 0&&ue===void 0&&(ue=ve.width,me=ve.height);var Te=this.ctx.transform.decompose(),He=M(Te.rotate.shx),oe=new l,X=(oe=(oe=(oe=oe.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale)).applyToRectangle(new a(Q-q*Ue,ce-V*R,Y*be,se*Ne));if(this.autoPaging){for(var ye,Ee=b.call(this,X),Oe=[],Me=0;Me<Ee.length;Me+=1)Oe.indexOf(Ee[Me])===-1&&Oe.push(Ee[Me]);_(Oe);for(var _e=Oe[0],Ie=Oe[Oe.length-1],$e=_e;$e<Ie+1;$e++){this.pdf.setPage($e);var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=$e===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=$e===1?0:rt+($e-2)*gt;if(this.ctx.clip_path.length!==0){var pr=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(ye,this.posX+this.margin[3],-ot+Et+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=pr}var Dt=JSON.parse(JSON.stringify(X));Dt=S([Dt],this.posX+this.margin[3],-ot+Et+this.ctx.prevPageLastElemOffset)[0];var wt=($e>_e||$e<Ie)&&y.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,gt,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",Dt.x,Dt.y,Dt.w,Dt.h,null,null,He),wt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(C,"JPEG",X.x,X.y,X.w,X.h,null,null,He)};var b=function(C,q,V){var Y=[];q=q||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":Y.push(Math.floor((C.y+se)/V)+1);break;case"arc":Y.push(Math.floor((C.y+se-C.radius)/V)+1),Y.push(Math.floor((C.y+se+C.radius)/V)+1);break;case"qct":var Q=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);Y.push(Math.floor((Q.y+se)/V)+1),Y.push(Math.floor((Q.y+Q.h+se)/V)+1);break;case"bct":var ce=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);Y.push(Math.floor((ce.y+se)/V)+1),Y.push(Math.floor((ce.y+ce.h+se)/V)+1);break;case"rect":Y.push(Math.floor((C.y+se)/V)+1),Y.push(Math.floor((C.y+C.h+se)/V)+1)}for(var ue=0;ue<Y.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<Y[ue];)v.call(this);return Y},v=function(){var C=this.fillStyle,q=this.strokeStyle,V=this.font,Y=this.lineCap,se=this.lineWidth,Q=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=q,this.font=V,this.lineCap=Y,this.lineWidth=se,this.lineJoin=Q},S=function(C,q,V){for(var Y=0;Y<C.length;Y++)switch(C[Y].type){case"bct":C[Y].x2+=q,C[Y].y2+=V;case"qct":C[Y].x1+=q,C[Y].y1+=V;default:C[Y].x+=q,C[Y].y+=V}return C},_=function(C){return C.sort(function(q,V){return q-V})},E=function(C,q){var V=this.fillStyle,Y=this.strokeStyle,se=this.lineCap,Q=this.lineWidth,ce=Math.abs(Q*this.ctx.transform.scaleX),ue=this.lineJoin;if(this.autoPaging){for(var me,ve,be=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),Ue=[],R=0;R<Ne.length;R++)if(Ne[R].x!==void 0)for(var Te=b.call(this,Ne[R]),He=0;He<Te.length;He+=1)Ue.indexOf(Te[He])===-1&&Ue.push(Te[He]);for(var oe=0;oe<Ue.length;oe++)for(;this.pdf.internal.getNumberOfPages()<Ue[oe];)v.call(this);_(Ue);for(var X=Ue[0],ye=Ue[Ue.length-1],Ee=X;Ee<ye+1;Ee++){this.pdf.setPage(Ee),this.fillStyle=V,this.strokeStyle=Y,this.lineCap=se,this.lineWidth=ce,this.lineJoin=ue;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Me=Ee===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ie=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=Ee===1?0:_e+(Ee-2)*Ie;if(this.ctx.clip_path.length!==0){var mt=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(me,this.posX+this.margin[3],-$e+Me+this.ctx.prevPageLastElemOffset),T.call(this,C,!0),this.path=mt}if(ve=JSON.parse(JSON.stringify(be)),this.path=S(ve,this.posX+this.margin[3],-$e+Me+this.ctx.prevPageLastElemOffset),q===!1||Ee===0){var Et=(Ee>X||Ee<ye)&&y.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,Ie,null).clip().discardPath()),T.call(this,C,q),Et&&this.pdf.restoreGraphicsState()}this.lineWidth=Q}this.path=be}else this.lineWidth=ce,T.call(this,C,q),this.lineWidth=Q},T=function(C,q){if((C!=="stroke"||q||!w.call(this))&&(C==="stroke"||q||!f.call(this))){for(var V,Y,se=[],Q=this.path,ce=0;ce<Q.length;ce++){var ue=Q[ce];switch(ue.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:ue,deltas:[],abs:[]});break;case"lt":var me=se.length;if(Q[ce-1]&&!isNaN(Q[ce-1].x)&&(V=[ue.x-Q[ce-1].x,ue.y-Q[ce-1].y],me>0)){for(;me>=0;me--)if(se[me-1].close!==!0&&se[me-1].begin!==!0){se[me-1].deltas.push(V),se[me-1].abs.push(ue);break}}break;case"bct":V=[ue.x1-Q[ce-1].x,ue.y1-Q[ce-1].y,ue.x2-Q[ce-1].x,ue.y2-Q[ce-1].y,ue.x-Q[ce-1].x,ue.y-Q[ce-1].y],se[se.length-1].deltas.push(V);break;case"qct":var ve=Q[ce-1].x+2/3*(ue.x1-Q[ce-1].x),be=Q[ce-1].y+2/3*(ue.y1-Q[ce-1].y),Ne=ue.x+2/3*(ue.x1-ue.x),Ue=ue.y+2/3*(ue.y1-ue.y),R=ue.x,Te=ue.y;V=[ve-Q[ce-1].x,be-Q[ce-1].y,Ne-Q[ce-1].x,Ue-Q[ce-1].y,R-Q[ce-1].x,Te-Q[ce-1].y],se[se.length-1].deltas.push(V);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(ue)}}Y=q?null:C==="stroke"?"stroke":"fill";for(var He=!1,oe=0;oe<se.length;oe++)if(se[oe].arc)for(var X=se[oe].abs,ye=0;ye<X.length;ye++){var Ee=X[ye];Ee.type==="arc"?U.call(this,Ee.x,Ee.y,Ee.radius,Ee.startAngle,Ee.endAngle,Ee.counterclockwise,void 0,q,!He):W.call(this,Ee.x,Ee.y),He=!0}else if(se[oe].close===!0)this.pdf.internal.out("h"),He=!1;else if(se[oe].begin!==!0){var Oe=se[oe].start.x,Me=se[oe].start.y;P.call(this,se[oe].deltas,Oe,Me),He=!0}Y&&B.call(this,Y),q&&K.call(this)}},F=function(C){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-V;case"top":return C+q-V;case"hanging":return C+q-2*V;case"middle":return C+q/2-V;default:return C}},D=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(q,V){this.colorStops.push([q,V])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(C,q,V,Y,se,Q,ce,ue,me){for(var ve=ne.call(this,V,Y,se,Q),be=0;be<ve.length;be++){var Ne=ve[be];be===0&&(me?L.call(this,Ne.x1+C,Ne.y1+q):W.call(this,Ne.x1+C,Ne.y1+q)),Z.call(this,C,q,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}ue?K.call(this):B.call(this,ce)},B=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(C,q){this.pdf.internal.out(r(C)+" "+n(q)+" m")},k=function(C){var q;switch(C.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var V,Y,se,Q=this.pdf.getTextDimensions(C.text),ce=F.call(this,C.y),ue=D.call(this,ce)-Q.h,me=this.ctx.transform.applyToPoint(new o(C.x,ce));if(this.autoPaging){var ve=this.ctx.transform.decompose(),be=new l;be=(be=(be=be.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var Ne=this.ctx.transform.applyToRectangle(new a(C.x,ce,Q.w,Q.h)),Ue=be.applyToRectangle(new a(C.x,ue,Q.w,Q.h)),R=b.call(this,Ue),Te=[],He=0;He<R.length;He+=1)Te.indexOf(R[He])===-1&&Te.push(R[He]);_(Te);for(var oe=Te[0],X=Te[Te.length-1],ye=oe;ye<X+1;ye++){this.pdf.setPage(ye);var Ee=ye===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Me=this.pdf.internal.pageSize.height-this.margin[2],_e=Me-this.margin[0],Ie=this.pdf.internal.pageSize.width-this.margin[1],$e=Ie-this.margin[3],mt=ye===1?0:Oe+(ye-2)*_e;if(this.ctx.clip_path.length!==0){var Et=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(V,this.posX+this.margin[3],-1*mt+Ee),T.call(this,"fill",!0),this.path=Et}var rt=S([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-mt+Ee+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*C.scale),se=this.lineWidth,this.lineWidth=se*C.scale);var gt=this.autoPaging!=="text";if(gt||rt.y+rt.h<=Me){if(gt||rt.y>=Ee&&rt.x<=Ie){var ot=gt?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||Ie-rt.x)[0],pr=S([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-mt+Ee+this.ctx.prevPageLastElemOffset)[0],Dt=gt&&(ye>oe||ye<X)&&y.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,_e,null).clip().discardPath()),this.pdf.text(ot,pr.x,pr.y,{angle:C.angle,align:q,renderingMode:C.renderingMode}),Dt&&this.pdf.restoreGraphicsState()}}else rt.y<Me&&(this.ctx.prevPageLastElemOffset+=Me-rt.y);C.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=se)}}else C.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*C.scale),se=this.lineWidth,this.lineWidth=se*C.scale),this.pdf.text(C.text,me.x+this.posX,me.y+this.posY,{angle:C.angle,align:q,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=se)},W=function(C,q,V,Y){V=V||0,Y=Y||0,this.pdf.internal.out(r(C+V)+" "+n(q+Y)+" l")},P=function(C,q,V){return this.pdf.lines(C,q,V,null,null)},Z=function(C,q,V,Y,se,Q,ce,ue){this.pdf.internal.out([t(s(V+C)),t(i(Y+q)),t(s(se+C)),t(i(Q+q)),t(s(ce+C)),t(i(ue+q)),"c"].join(" "))},ne=function(C,q,V,Y){for(var se=2*Math.PI,Q=Math.PI/2;q>V;)q-=se;var ce=Math.abs(V-q);ce<se&&Y&&(ce=se-ce);for(var ue=[],me=Y?-1:1,ve=q;ce>1e-5;){var be=ve+me*Math.min(ce,Q);ue.push(ie.call(this,C,ve,be)),ce-=Math.abs(be-ve),ve=be}return ue},ie=function(C,q,V){var Y=(V-q)/2,se=C*Math.cos(Y),Q=C*Math.sin(Y),ce=se,ue=-Q,me=ce*ce+ue*ue,ve=me+ce*se+ue*Q,be=4/3*(Math.sqrt(2*me*ve)-ve)/(ce*Q-ue*se),Ne=ce-be*ue,Ue=ue+be*ce,R=Ne,Te=-Ue,He=Y+q,oe=Math.cos(He),X=Math.sin(He);return{x1:C*Math.cos(q),y1:C*Math.sin(q),x2:Ne*oe-Ue*X,y2:Ne*X+Ue*oe,x3:R*oe-Te*X,y3:R*X+Te*oe,x4:C*Math.cos(V),y4:C*Math.sin(V)}},M=function(C){return 180*C/Math.PI},H=function(C,q,V,Y,se,Q){var ce=C+.5*(V-C),ue=q+.5*(Y-q),me=se+.5*(V-se),ve=Q+.5*(Y-Q),be=Math.min(C,se,ce,me),Ne=Math.max(C,se,ce,me),Ue=Math.min(q,Q,ue,ve),R=Math.max(q,Q,ue,ve);return new a(be,Ue,Ne-be,R-Ue)},ae=function(C,q,V,Y,se,Q,ce,ue){var me,ve,be,Ne,Ue,R,Te,He,oe,X,ye,Ee,Oe,Me,_e=V-C,Ie=Y-q,$e=se-V,mt=Q-Y,Et=ce-se,rt=ue-Q;for(ve=0;ve<41;ve++)oe=(Te=(be=C+(me=ve/40)*_e)+me*((Ue=V+me*$e)-be))+me*(Ue+me*(se+me*Et-Ue)-Te),X=(He=(Ne=q+me*Ie)+me*((R=Y+me*mt)-Ne))+me*(R+me*(Q+me*rt-R)-He),ve==0?(ye=oe,Ee=X,Oe=oe,Me=X):(ye=Math.min(ye,oe),Ee=Math.min(Ee,X),Oe=Math.max(Oe,oe),Me=Math.max(Me,X));return new a(Math.round(ye),Math.round(Ee),Math.round(Oe-ye),Math.round(Me-Ee))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,q,V=(C=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:q}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(ut.API),function(e){var t=function(o){var a,l,u,d,h,m,f,w,y,b;for(l=[],u=0,d=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(h=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(m=(h=((h=((h=((h=(h-(b=h%85))/85)-(y=h%85))/85)-(w=h%85))/85)-(f=h%85))/85)%85,l.push(m+33,f+33,w+33,y+33,b+33)):l.push(122);return function(v,S){for(var _=S;_>0;_--)v.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},r=function(o){var a,l,u,d,h,m=String,f="length",w=255,y="charCodeAt",b="slice",v="replace";for(o[b](-2),o=o[b](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),u=[],d=0,h=(o+=a="uuuuu"[b](o[f]%5||5))[f];h>d;d+=5)l=52200625*(o[y](d)-33)+614125*(o[y](d+1)-33)+7225*(o[y](d+2)-33)+85*(o[y](d+3)-33)+(o[y](d+4)-33),u.push(w&l>>24,w&l>>16,w&l>>8,w&l);return function(S,_){for(var E=_;E>0;E--)S.pop()}(u,a[f]),m.fromCharCode.apply(m,u)},n=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},i=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=aw(a)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,a){var l=0,u=o||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(ut.API),function(e){e.loadFile=function(t,r,n){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,d){var h=new XMLHttpRequest,m=0,f=function(w){var y=w.length,b=[],v=String.fromCharCode;for(m=0;m<y;m+=1)b.push(v(255&w.charCodeAt(m)));return b.join("")};if(h.open("GET",l,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(f(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return f(h.responseText)}(s,i,o)}catch{}return a}(t,r,n)},e.loadImageFile=e.loadFile}(ut.API),function(e){function t(){return(yt.html2canvas?Promise.resolve(yt.html2canvas):Sn(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(yt.DOMPurify?Promise.resolve(yt.DOMPurify):Sn(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var l=Xt(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(a,l){var u=document.createElement(a);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},i=function a(l,u){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(a(h,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},o=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),u);return(d=d.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(r).then(function(u){return this.set({src:s("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var w=d[f],y=w.src.find(function(b){return b.format==="truetype"});y&&u.addFont(y.url,w.ref.name,w.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(n(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(a=a||ut.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,u,d){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,u,d){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(d,h){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,h).then(function(m){return u.updateProgress(1),m})})},o.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var d=this;a&&(a=a.bind(d)),l&&(l=l.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),m=u.call(h,a,l);return o.convert(m,d.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ut.getPageSize=function(a,l,u){if(Xt(a)==="object"){var d=a;a=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var h,m=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var w,y=0,b=0;if(f.hasOwnProperty(m))y=f[m][1]/h,b=f[m][0]/h;else try{y=u[1],b=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",b>y&&(w=b,b=y,y=w);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",y>b&&(w=b,b=y,y=w)}return{width:b,height:y,unit:l,k:h,orientation:a}},e.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(p1):null;var u=new o(l);return l.worker?u:u.from(a).doCallback()}}(ut.API),ut.API.addJS=function(e){return d4=e,this.internal.events.subscribe("postPutResources",function(){xm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(xm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),u4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+d4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){xm!==void 0&&u4!==void 0&&this.internal.out("/Names <</JavaScript "+xm+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],a=n.exec(o);if(a!=null){var l=a[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var h=r.internal.newObject();d.push(h);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var o={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(ut.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,o,a){var l,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(h){for(var m,f=256*h.charCodeAt(4)+h.charCodeAt(5),w=h.length,y={width:0,height:0,numcomponents:1},b=4;b<w;b+=2){if(b+=f,t.indexOf(h.charCodeAt(b+1))!==-1){m=256*h.charCodeAt(b+5)+h.charCodeAt(b+6),y={width:256*h.charCodeAt(b+7)+h.charCodeAt(b+8),height:m,numcomponents:h.charCodeAt(b+9)};break}f=256*h.charCodeAt(b+2)+h.charCodeAt(b+3)}return y}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:n,alias:s}}return d}}(ut.API),ut.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=lK(e,{checkCrc:!0}),o=i.width,a=i.height,l=i.channels,u=i.palette,d=i.depth;s=u&&l===1?function(U){for(var B=U.width,K=U.height,L=U.data,k=U.palette,W=U.depth,P=!1,Z=[],ne=[],ie=void 0,M=!1,H=0,ae=0;ae<k.length;ae++){var de=mN(k[ae],4),C=de[0],q=de[1],V=de[2],Y=de[3];Z.push(C,q,V),Y!=null&&(Y===0?(H++,ne.length<1&&ne.push(ae)):Y<255&&(M=!0))}if(M||H>1){P=!0,ne=void 0;var se=B*K;ie=new Uint8Array(se);for(var Q=new DataView(L.buffer),ce=0;ce<se;ce++){var ue=g1(Q,ce,W),me=mN(k[ue],4)[3];ie[ce]=me}}else H===0&&(ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:P?8:void 0,colorBytes:L,alphaBytes:ie,needSMask:P,palette:Z,mask:ne}}(i):l===2||l===4?function(U){for(var B=U.data,K=U.width,L=U.height,k=U.channels,W=U.depth,P=k===2?"DeviceGray":"DeviceRGB",Z=k-1,ne=K*L,ie=Z,M=ne*ie,H=1*ne,ae=Math.ceil(M*W/8),de=Math.ceil(H*W/8),C=new Uint8Array(ae),q=new Uint8Array(de),V=new DataView(B.buffer),Y=new DataView(C.buffer),se=new DataView(q.buffer),Q=!1,ce=0;ce<ne;ce++){for(var ue=ce*k,me=0;me<ie;me++)x4(Y,g1(V,ue+me,W),ce*ie+me,W);var ve=g1(V,ue+ie,W);ve<(1<<W)-1&&(Q=!0),x4(se,ve,1*ce,W)}return{colorSpace:P,colorsPerPixel:Z,sMaskBitsPerComponent:Q?W:void 0,colorBytes:C,alphaBytes:q,needSMask:Q}}(i):function(U){var B=U.data,K=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:K,colorsPerPixel:K==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?function(L){for(var k=L.length,W=new Uint8Array(2*k),P=new DataView(W.buffer,W.byteOffset,W.byteLength),Z=0;Z<k;Z++)P.setUint16(2*Z,L[Z],!1);return W}(B):B,needSMask:!1}}(i);var h,m,f,w=s,y=w.colorSpace,b=w.colorsPerPixel,v=w.sMaskBitsPerComponent,S=w.colorBytes,_=w.alphaBytes,E=w.needSMask,T=w.palette,F=w.mask,D=null;return n!==ut.API.image_compression.NONE&&typeof aw=="function"?(D=function(U){var B;switch(U){case ut.API.image_compression.FAST:B=11;break;case ut.API.image_compression.MEDIUM:B=13;break;case ut.API.image_compression.SLOW:B=14;break;default:B=12}return B}(n),h=this.decode.FLATE_DECODE,m="/Predictor ".concat(D," /Colors ").concat(b," /BitsPerComponent ").concat(d," /Columns ").concat(o),e=m4(S,Math.ceil(o*b*d/8),b,d,n),E&&(f=m4(_,Math.ceil(o*v/8),1,v,n))):(h=void 0,m=void 0,e=S,E&&(f=_)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:e,index:t,filter:h,decodeParameters:m,transparency:F,palette:T,sMask:f,predictor:D,width:o,height:a,bitsPerComponent:d,sMaskBitsPerComponent:v,colorSpace:y}}},function(e){e.processGIF89A=function(t,r,n,s){var i=new kK(t),o=i.width,a=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},d=new y1(100).encode(u,100);return e.processJPEG.call(this,d,r,n,s)},e.processGIF87A=e.processGIF89A}(ut.API),pi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},pi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){nr.log("bit decode error:"+r)}},pi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,a=0;a<8&&8*s+a<this.width;a++){var l=this.palette[i>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}r!==0&&(this.pos+=4-r)}},pi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,a=i>>4,l=15&i,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*s+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},pi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},pi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,a=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*s;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},pi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=s*this.width*4+4*i;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=e}},pi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},pi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=o}},pi.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var i=new pi(t,!1),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},u=new y1(100).encode(l,100);return e.processJPEG.call(this,u,r,n,s)}}(ut.API),_4.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var i=new _4(t),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},u=new y1(100).encode(l,100);return e.processJPEG.call(this,u,r,n,s)}}(ut.API),ut.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),a=0,l=0,u=0;u<s;u+=4){var d=n[u],h=n[u+1],m=n[u+2],f=n[u+3];i[a++]=d,i[a++]=h,i[a++]=m,o[l++]=f}var w=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:w,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ut.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},nu=ut.API,bm=nu.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:s.metadata.Unicode.widths,l=a.fof?a.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=t.doKerning!==!1,m=0,f=e.length,w=0,y=a[0]||l,b=[];for(r=0;r<f;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?b.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(m=h&&Xt(u[n])==="object"&&!isNaN(parseInt(u[n][w],10))?u[n][w]/d:0,b.push((a[n]||y)/l+m)),w=n;return b},f4=nu.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return nu.processArabic&&(e=nu.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:bm.apply(this,arguments).reduce(function(i,o){return i+o},0)},h4=function(e,t,r,n){for(var s=[],i=0,o=e.length,a=0;i!==o&&a+t[i]<r;)a+=t[i],i++;s.push(e.slice(0,i));var l=i;for(a=0;i!==o;)a+t[i]>n&&(s.push(e.slice(l,i)),a=0,l=i),a+=t[i],i++;return l!==i&&s.push(e.slice(l,i)),s},p4=function(e,t,r){r||(r={});var n,s,i,o,a,l,u,d=[],h=[d],m=r.textIndent||0,f=0,w=0,y=e.split(" "),b=bm.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var v=Array(l).join(" "),S=[];y.map(function(E){(E=E.split(/\s*\n/)).length>1?S=S.concat(E.map(function(T,F){return(F&&T.length?`
`:"")+T})):S.push(E[0])}),y=S,l=f4.apply(this,[v,r])}for(i=0,o=y.length;i<o;i++){var _=0;if(n=y[i],l&&n[0]==`
`&&(n=n.substr(1),_=1),m+f+(w=(s=bm.apply(this,[n,r])).reduce(function(E,T){return E+T},0))>t||_){if(w>t){for(a=h4.apply(this,[n,s,t-(m+f),t]),d.push(a.shift()),d=[a.pop()];a.length;)h.push([a.shift()]);w=s.slice(n.length-(d[0]?d[0].length:0)).reduce(function(E,T){return E+T},0)}else d=[n];h.push(d),m=w+l,f=b}else d.push(n),m+=f+w,f=b}return u=l?function(E,T){return(T?v:"")+E.join(" ")}:function(E){return E.join(" ")},h.map(u)},nu.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return h.metadata[m]?{widths:h.metadata[m].widths||{0:1},kerning:h.metadata[m].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var a,l,u=[];for(a=0,l=n.length;a<l;a++)u=u.concat(p4.apply(this,[n[a],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=t[i],s[t[i]]=r[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},a=e.__fontmetrics__.compress=function(m){var f,w,y,b,v=["{"];for(var S in m){if(f=m[S],isNaN(parseInt(S,10))?w="'"+S+"'":(S=parseInt(S,10),w=(w=o(S).slice(2)).slice(0,-1)+s[w.slice(-1)]),typeof f=="number")f<0?(y=o(f).slice(3),b="-"):(y=o(f).slice(2),b=""),y=b+y.slice(0,-1)+s[y.slice(-1)];else{if(Xt(f)!=="object")throw new Error("Don't know what to do with value type "+Xt(f)+".");y=a(f)}v.push(w+y)}return v.push("}"),v.join("")},l=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,w,y,b,v={},S=1,_=v,E=[],T="",F="",D=m.length-1,U=1;U<D;U+=1)(b=m[U])=="'"?f?(y=f.join(""),f=void 0):f=[]:f?f.push(b):b=="{"?(E.push([_,y]),_={},y=void 0):b=="}"?((w=E.pop())[0][w[1]]=_,y=void 0,_=w[0]):b=="-"?S=-1:y===void 0?n.hasOwnProperty(b)?(T+=n[b],y=parseInt(T,16)*S,S=1,T=""):T+=b:n.hasOwnProperty(b)?(F+=n[b],_[y]=parseInt(F,16)*S,S=1,y=void 0,F=""):F+=b;return v},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var f=m.font,w=h.Unicode[f.postScriptName];w&&(f.metadata.Unicode={},f.metadata.Unicode.widths=w.widths,f.metadata.Unicode.kerning=w.kerning);var y=d.Unicode[f.postScriptName];y&&(f.metadata.Unicode.encoding=y,f.encoding=y.codePages[0])}])}(ut.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(ng(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])}(ut),ut.API.addSvgAsImage=function(e,t,r,n,s,i,o,a){if(isNaN(t)||isNaN(r))throw nr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw nr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=s;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(yt.canvg?Promise.resolve(yt.canvg):Sn(()=>import("./index.es-BPJSHZZr.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),t,r,n,s,o,a)})},ut.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},ut.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,d=0,h=0;function m(w,y){var b,v=!1;for(b=0;b<w.length;b+=1)w[b]===y&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=a.length;for(h=0;h<f;h+=1)r[a[h]].value=r[a[h]].defaultValue,r[a[h]].explicitSet=!1}if(Xt(e)==="object"){for(s in e)if(i=e[s],m(a,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&m(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")l.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&l.push([i[u][0]-1,i[u][1]-1].join(" "))}r[s].value="["+l.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,y=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?y.push("/"+w+" /"+r[w].value):y.push("/"+w+" "+r[w].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+a.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(ut.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,m=i.length;h<m;++h){if(a=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=i.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(u[4-a.length],a)}return d.join("")},n=function(i){var o,a,l,u,d,h,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,m=(a=Object.keys(i).sort(function(f,w){return f-w})).length;h<m;h++)o=a[h],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var a=o.font,l=o.out,u=o.newObject,d=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",w=0;w<m.length;w++)f+=String.fromCharCode(m[w]);var y=u();d({data:f,addLength1:!0,objectId:y}),l("endobj");var b=u();d({data:n(a.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var v=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+du(a.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var S=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+du(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+du(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var a=o.font,l=o.out,u=o.newObject,d=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,m="",f=0;f<h.length;f++)m+=String.fromCharCode(h[f]);var w=u();d({data:m,addLength1:!0,objectId:w}),l("endobj");var y=u();d({data:n(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var b=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+w+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+du(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+du(a.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,a=i.text||"",l=i.x,u=i.y,d=i.options||{},h=i.mutex||{},m=h.pdfEscape,f=h.activeFontKey,w=h.fonts,y=f,b="",v=0,S="",_=w[y].encoding;if(w[y].encoding!=="Identity-H")return{text:a,x:l,y:u,options:d,mutex:h};for(S=a,y=f,Array.isArray(a)&&(S=a[0]),v=0;v<S.length;v+=1)w[y].metadata.hasOwnProperty("cmap")&&(o=w[y].metadata.cmap.unicode.codeMap[S[v].charCodeAt(0)]),o||S[v].charCodeAt(0)<256&&w[y].metadata.hasOwnProperty("Unicode")?b+=S[v]:b+="";var E="";return parseInt(y.slice(1))<14||_==="WinAnsiEncoding"?E=m(b,y).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(E=r(b,w[y])),h.isHex=!0,{text:E,x:l,y:u,options:d,mutex:h}};t.events.push(["postProcessText",function(i){var o=i.text||"",a=[],l={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([s(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(s(Object.assign({},l,{text:o[u]})).text);i.text=a}else i.text=s(Object.assign({},l,{text:o})).text}])}(ut),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ut.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,o,a,l,u,d,h=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,_=0;this.__bidiEngine__={};var E=function(L){var k=L.charCodeAt(),W=k>>8,P=y[W];return P!==void 0?h[256*P+(255&k)]:W===252||W===253?"AL":v.test(W)?"L":W===8?"R":"N"},T=function(L){for(var k,W=0;W<L.length;W++){if((k=E(L.charAt(W)))==="L")return!1;if(k==="R")return!0}return!1},F=function(L,k,W,P){var Z,ne,ie,M,H=k[P];switch(H){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(H="AN");break;case"AL":S=!0,H="R";break;case"WS":case"BN":H="N";break;case"CS":P<1||P+1>=k.length||(Z=W[P-1])!=="EN"&&Z!=="AN"||(ne=k[P+1])!=="EN"&&ne!=="AN"?H="N":S&&(ne="AN"),H=ne===Z?ne:"N";break;case"ES":H=(Z=P>0?W[P-1]:"B")==="EN"&&P+1<k.length&&k[P+1]==="EN"?"EN":"N";break;case"ET":if(P>0&&W[P-1]==="EN"){H="EN";break}if(S){H="N";break}for(ie=P+1,M=k.length;ie<M&&k[ie]==="ET";)ie++;H=ie<M&&k[ie]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(M=k.length,ie=P+1;ie<M&&k[ie]==="NSM";)ie++;if(ie<M){var ae=L[P],de=ae>=1425&&ae<=2303||ae===64286;if(Z=k[ie],de&&(Z==="R"||Z==="AL")){H="R";break}}}H=P<1||(Z=k[P-1])==="B"?"N":W[P-1];break;case"B":S=!1,s=!0,H=_;break;case"S":i=!0,H="N"}return H},D=function(L,k,W){var P=L.split("");return W&&U(P,W,{hiLevel:_}),P.reverse(),k&&k.reverse(),P.join("")},U=function(L,k,W){var P,Z,ne,ie,M,H=-1,ae=L.length,de=0,C=[],q=_?f:m,V=[];for(S=!1,s=!1,i=!1,Z=0;Z<ae;Z++)V[Z]=E(L[Z]);for(ne=0;ne<ae;ne++){if(M=de,C[ne]=F(L,V,C,ne),P=240&(de=q[M][w[C[ne]]]),de&=15,k[ne]=ie=q[de][5],P>0)if(P===16){for(Z=H;Z<ne;Z++)k[Z]=1;H=-1}else H=-1;if(q[de][6])H===-1&&(H=ne);else if(H>-1){for(Z=H;Z<ne;Z++)k[Z]=ie;H=-1}V[ne]==="B"&&(k[ne]=0),W.hiLevel|=ie}i&&function(Y,se,Q){for(var ce=0;ce<Q;ce++)if(Y[ce]==="S"){se[ce]=_;for(var ue=ce-1;ue>=0&&Y[ue]==="WS";ue--)se[ue]=_}}(V,k,ae)},B=function(L,k,W,P,Z){if(!(Z.hiLevel<L)){if(L===1&&_===1&&!s)return k.reverse(),void(W&&W.reverse());for(var ne,ie,M,H,ae=k.length,de=0;de<ae;){if(P[de]>=L){for(M=de+1;M<ae&&P[M]>=L;)M++;for(H=de,ie=M-1;H<ie;H++,ie--)ne=k[H],k[H]=k[ie],k[ie]=ne,W&&(ne=W[H],W[H]=W[ie],W[ie]=ne);de=M}de++}}},K=function(L,k,W){var P=L.split(""),Z={hiLevel:_};return W||(W=[]),U(P,W,Z),function(ne,ie,M){if(M.hiLevel!==0&&d)for(var H,ae=0;ae<ne.length;ae++)ie[ae]===1&&(H=b.indexOf(ne[ae]))>=0&&(ne[ae]=b[H+1])}(P,W,Z),B(2,P,k,W,Z),B(1,P,k,W,Z),P.join("")};return this.__bidiEngine__.doBidiReorder=function(L,k,W){if(function(Z,ne){if(ne)for(var ie=0;ie<Z.length;ie++)ne[ie]=ie;a===void 0&&(a=T(Z)),u===void 0&&(u=T(Z))}(L,k),o||!l||u)if(o&&l&&a^u)_=a?1:0,L=D(L,k,W);else if(!o&&l&&u)_=a?1:0,L=K(L,k,W),L=D(L,k);else if(!o||a||l||u){if(o&&!l&&a^u)L=D(L,k),a?(_=0,L=K(L,k,W)):(_=1,L=K(L,k,W),L=D(L,k));else if(o&&a&&!l&&u)_=1,L=K(L,k,W),L=D(L,k);else if(!o&&!l&&a^u){var P=d;a?(_=1,L=K(L,k,W),_=0,d=!1,L=K(L,k,W),d=P):(_=0,L=K(L,k,W),L=D(L,k),_=1,d=!1,L=K(L,k,W),d=P,L=D(L,k))}}else _=0,L=K(L,k,W);else _=a?1:0,L=K(L,k,W);return L},this.__bidiEngine__.setOptions=function(L){L&&(o=L.isInputVisual,l=L.isOutputVisual,a=L.isInputRtl,u=L.isOutputRtl,d=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var a=0;for(o=[],a=0;a<s.length;a+=1)Object.prototype.toString.call(s[a])==="[object Array]"?o.push([r.doBidiReorder(s[a][0]),s[a][1],s[a][2]]):o.push([r.doBidiReorder(s[a])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(ut),ut.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new il(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new VK(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new PK(this.contents),this.head=new RK(this),this.name=new MK(this),this.cmap=new JT(this),this.toUnicode={},this.hhea=new LK(this),this.maxp=new FK(this),this.hmtx=new BK(this),this.post=new IK(this),this.os2=new OK(this),this.loca=new zK(this),this.glyf=new $K(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,o,a;for(o=0,i=0,a=(t=""+t).length;0<=a?i<a:i>a;i=0<=a?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Fi,il=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,o,a,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*o+256*a+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),PK=function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,o,a,l,u,d,h,m,f,w,y;for(y in f=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),o=Math.floor(h/l),d=16*f-h,(s=new il).writeInt(this.scalarType),s.writeShort(f),s.writeShort(h),s.writeShort(o),s.writeShort(d),i=16*f,u=s.pos+i,a=null,w=[],r)for(m=r[y],s.writeString(y),s.writeInt(e(m)),s.writeInt(u),s.writeInt(m.length),w=w.concat(m),y==="head"&&(a=u),u+=m.length;u%4;)w.push(0),u++;return s.write(w),n=2981146554-e(s.data),s.pos=a+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,o;for(r=YT.call(r);r.length%4;)r.push(0);for(i=new il(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),TK={}.hasOwnProperty,go=function(e,t){for(var r in t)TK.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Fi=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var RK=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return go(e,Fi),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new il).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),S4=function(){function e(t,r){var n,s,i,o,a,l,u,d,h,m,f,w,y,b,v,S,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),m=f/2,t.pos+=6,i=function(){var E,T;for(T=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)T.push(t.readUInt16());return T}(),t.pos+=2,y=function(){var E,T;for(T=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)T.push(t.readUInt16());return T}(),u=function(){var E,T;for(T=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)T.push(t.readUInt16());return T}(),d=function(){var E,T;for(T=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)T.push(t.readUInt16());return T}(),s=(this.length-t.pos+this.offset)/2,a=function(){var E,T;for(T=[],l=E=0;0<=s?E<s:E>s;l=0<=s?++E:--E)T.push(t.readUInt16());return T}(),l=v=0,_=i.length;v<_;l=++v)for(b=i[l],n=S=w=y[l];w<=b?S<=b:S>=b;n=w<=b?++S:--S)d[l]===0?o=n+u[l]:(o=a[d[l]/2+(n-w)-(m-l)]||0)!==0&&(o+=u[l]),this.codeMap[n]=65535&o}t.pos=h}return e.encode=function(t,r){var n,s,i,o,a,l,u,d,h,m,f,w,y,b,v,S,_,E,T,F,D,U,B,K,L,k,W,P,Z,ne,ie,M,H,ae,de,C,q,V,Y,se,Q,ce,ue,me,ve,be;switch(P=new il,o=Object.keys(t).sort(function(Ne,Ue){return Ne-Ue}),r){case"macroman":for(y=0,b=function(){var Ne=[];for(w=0;w<256;++w)Ne.push(0);return Ne}(),S={0:0},i={},Z=0,H=o.length;Z<H;Z++)S[ue=t[s=o[Z]]]==null&&(S[ue]=++y),i[s]={old:t[s],new:S[t[s]]},b[s]=S[t[s]];return P.writeUInt16(1),P.writeUInt16(0),P.writeUInt32(12),P.writeUInt16(0),P.writeUInt16(262),P.writeUInt16(0),P.write(b),{charMap:i,subtable:P.data,maxGlyphID:y+1};case"unicode":for(k=[],h=[],_=0,S={},n={},v=u=null,ne=0,ae=o.length;ne<ae;ne++)S[T=t[s=o[ne]]]==null&&(S[T]=++_),n[s]={old:T,new:S[T]},a=S[T]-s,v!=null&&a===u||(v&&h.push(v),k.push(s),u=a),v=s;for(v&&h.push(v),h.push(65535),k.push(65535),K=2*(B=k.length),U=2*Math.pow(Math.log(B)/Math.LN2,2),m=Math.log(U/2)/Math.LN2,D=2*B-U,l=[],F=[],f=[],w=ie=0,de=k.length;ie<de;w=++ie){if(L=k[w],d=h[w],L===65535){l.push(0),F.push(0);break}if(L-(W=n[L].new)>=32768)for(l.push(0),F.push(2*(f.length+B-w)),s=M=L;L<=d?M<=d:M>=d;s=L<=d?++M:--M)f.push(n[s].new);else l.push(W-L),F.push(0)}for(P.writeUInt16(3),P.writeUInt16(1),P.writeUInt32(12),P.writeUInt16(4),P.writeUInt16(16+8*B+2*f.length),P.writeUInt16(0),P.writeUInt16(K),P.writeUInt16(U),P.writeUInt16(m),P.writeUInt16(D),Q=0,C=h.length;Q<C;Q++)s=h[Q],P.writeUInt16(s);for(P.writeUInt16(0),ce=0,q=k.length;ce<q;ce++)s=k[ce],P.writeUInt16(s);for(me=0,V=l.length;me<V;me++)a=l[me],P.writeUInt16(a);for(ve=0,Y=F.length;ve<Y;ve++)E=F[ve],P.writeUInt16(E);for(be=0,se=f.length;be<se;be++)y=f[be],P.writeUInt16(y);return{charMap:n,subtable:P.data,maxGlyphID:_+1}}},e}(),JT=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return go(e,Fi),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new S4(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=S4.encode(t,r),(s=new il).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e}(),LK=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return go(e,Fi),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),OK=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return go(e,Fi),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),IK=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return go(e,Fi),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,a,l;for(l=[],i=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;i=0<=a?++o:--o)l.push(t.readUInt32());return l}).call(this)}},e}(),DK=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},MK=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return go(e,Fi),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,i,o,a,l,u,d,h,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),a=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(l={},i=d=0,h=n.length;d<h;i=++d)s=n[i],t.pos=s.offset,u=t.readString(s.length),o=new DK(u,s),l[m=s.nameID]==null&&(l[m]=[]),l[s.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),FK=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return go(e,Fi),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),BK=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return go(e,Fi),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,i,o,a,l;for(t.pos=this.offset,this.metrics=[],r=0,a=this.file.hhea.numberOfMetrics;0<=a?r<a:r>a;r=0<=a?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)d.push(t.readInt16());return d}(),this.widths=(function(){var u,d,h,m;for(m=[],u=0,d=(h=this.metrics).length;u<d;u++)i=h[u],m.push(i.advance);return m}).call(this),n=this.widths[this.widths.length-1],l=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)l.push(this.widths.push(n));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),YT=[].slice,$K=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return go(e,Fi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,i,o,a,l,u,d,h;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(a=new il(r.read(s))).readShort(),u=a.readShort(),h=a.readShort(),l=a.readShort(),d=a.readShort(),this.cache[t]=o===-1?new qK(a,u,h,l,d):new UK(a,o,u,h,l,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,i,o,a,l;for(o=[],i=[],a=0,l=r.length;a<l;a++)s=t[r[a]],i.push(o.length),s&&(o=o.concat(s.encode(n)));return i.push(o.length),{table:o,offsets:i}},e}(),UK=function(){function e(t,r,n,s,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),qK=function(){function e(t,r,n,s,i){var o,a;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new il(YT.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),zK=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return go(e,Fi),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<n.length;++o)if(n[o]=s,i<r.length&&r[i]==o){++i,n[o]=s;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(s+=l)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},e}(),VK=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,o,a,l;for(s={},o=0,a=t.length;o<a;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,o,a,l,u,d,h,m,f,w,y,b,v;for(s in n=JT.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},v=n.charMap)f[(l=v[s]).old]=l.new;for(w in m=n.maxGlyphID,o)w in f||(f[w]=m++);return d=function(S){var _,E;for(_ in E={},S)E[S[_]]=_;return E}(f),h=Object.keys(d).sort(function(S,_){return S-_}),y=function(){var S,_,E;for(E=[],S=0,_=h.length;S<_;S++)a=h[S],E.push(d[a]);return E}(),i=this.font.glyf.encode(o,y,f),u=this.font.loca.encode(i.offsets,y),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e}();ut.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,o;if(Array.isArray(r))return"["+function(){var a,l,u;for(u=[],a=0,l=r.length;a<l;a++)n=r[a],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();var Xh={},WK=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},QT={},Bs={};let Lb;const HK=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Bs.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Bs.getSymbolTotalCodewords=function(t){return HK[t]};Bs.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Bs.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Lb=t};Bs.isKanjiModeEnabled=function(){return typeof Lb<"u"};Bs.toSJIS=function(t){return Lb(t)};var my={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,s){if(e.isValid(n))return n;try{return t(n)}catch{return s}}})(my);function XT(){this.buffer=[],this.length=0}XT.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var GK=XT;function Zh(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Zh.prototype.set=function(e,t,r,n){const s=e*this.size+t;this.data[s]=r,n&&(this.reservedBit[s]=!0)};Zh.prototype.get=function(e,t){return this.data[e*this.size+t]};Zh.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};Zh.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var KK=Zh,ZT={};(function(e){const t=Bs.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const s=Math.floor(n/7)+2,i=t(n),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let l=1;l<s-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},e.getPositions=function(n){const s=[],i=e.getRowColCoords(n),o=i.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||s.push([i[a],i[l]]);return s}})(ZT);var eR={};const JK=Bs.getSymbolSize,N4=7;eR.getPositions=function(t){const r=JK(t);return[[0,0],[r-N4,0],[0,r-N4]]};var tR={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const i=s.size;let o=0,a=0,l=0,u=null,d=null;for(let h=0;h<i;h++){a=l=0,u=d=null;for(let m=0;m<i;m++){let f=s.get(h,m);f===u?a++:(a>=5&&(o+=t.N1+(a-5)),u=f,a=1),f=s.get(m,h),f===d?l++:(l>=5&&(o+=t.N1+(l-5)),d=f,l=1)}a>=5&&(o+=t.N1+(a-5)),l>=5&&(o+=t.N1+(l-5))}return o},e.getPenaltyN2=function(s){const i=s.size;let o=0;for(let a=0;a<i-1;a++)for(let l=0;l<i-1;l++){const u=s.get(a,l)+s.get(a,l+1)+s.get(a+1,l)+s.get(a+1,l+1);(u===4||u===0)&&o++}return o*t.N2},e.getPenaltyN3=function(s){const i=s.size;let o=0,a=0,l=0;for(let u=0;u<i;u++){a=l=0;for(let d=0;d<i;d++)a=a<<1&2047|s.get(u,d),d>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|s.get(d,u),d>=10&&(l===1488||l===93)&&o++}return o*t.N3},e.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let l=0;l<o;l++)i+=s.data[l];return Math.abs(Math.ceil(i*100/o/5)-10)*t.N4};function r(n,s,i){switch(n){case e.Patterns.PATTERN000:return(s+i)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(s+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return s*i%2+s*i%3===0;case e.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case e.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(s,i){const o=i.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)i.isReserved(l,a)||i.xor(l,a,r(s,l,a))},e.getBestMask=function(s,i){const o=Object.keys(e.Patterns).length;let a=0,l=1/0;for(let u=0;u<o;u++){i(u),e.applyMask(u,s);const d=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(u,s),d<l&&(l=d,a=u)}return a}})(tR);var gy={};const Wa=my,_m=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Sm=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];gy.getBlocksCount=function(t,r){switch(r){case Wa.L:return _m[(t-1)*4+0];case Wa.M:return _m[(t-1)*4+1];case Wa.Q:return _m[(t-1)*4+2];case Wa.H:return _m[(t-1)*4+3];default:return}};gy.getTotalCodewordsCount=function(t,r){switch(r){case Wa.L:return Sm[(t-1)*4+0];case Wa.M:return Sm[(t-1)*4+1];case Wa.Q:return Sm[(t-1)*4+2];case Wa.H:return Sm[(t-1)*4+3];default:return}};var rR={},yy={};const Vf=new Uint8Array(512),r0=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)Vf[r]=t,r0[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)Vf[r]=Vf[r-255]})();yy.log=function(t){if(t<1)throw new Error("log("+t+")");return r0[t]};yy.exp=function(t){return Vf[t]};yy.mul=function(t,r){return t===0||r===0?0:Vf[r0[t]+r0[r]]};(function(e){const t=yy;e.mul=function(n,s){const i=new Uint8Array(n.length+s.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<s.length;a++)i[o+a]^=t.mul(n[o],s[a]);return i},e.mod=function(n,s){let i=new Uint8Array(n);for(;i.length-s.length>=0;){const o=i[0];for(let l=0;l<s.length;l++)i[l]^=t.mul(s[l],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},e.generateECPolynomial=function(n){let s=new Uint8Array([1]);for(let i=0;i<n;i++)s=e.mul(s,new Uint8Array([1,t.exp(i)]));return s}})(rR);const nR=rR;function Ob(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Ob.prototype.initialize=function(t){this.degree=t,this.genPoly=nR.generateECPolynomial(this.degree)};Ob.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=nR.mod(r,this.genPoly),s=this.degree-n.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(n,s),i}return n};var YK=Ob,sR={},ml={},Ib={};Ib.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var yo={};const iR="[0-9]+",QK="[A-Z $%*+\\-./:]+";let bh="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";bh=bh.replace(/u/g,"\\u");const XK="(?:(?![A-Z0-9 $%*+\\-./:]|"+bh+`)(?:.|[\r
]))+`;yo.KANJI=new RegExp(bh,"g");yo.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");yo.BYTE=new RegExp(XK,"g");yo.NUMERIC=new RegExp(iR,"g");yo.ALPHANUMERIC=new RegExp(QK,"g");const ZK=new RegExp("^"+bh+"$"),eJ=new RegExp("^"+iR+"$"),tJ=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");yo.testKanji=function(t){return ZK.test(t)};yo.testNumeric=function(t){return eJ.test(t)};yo.testAlphanumeric=function(t){return tJ.test(t)};(function(e){const t=Ib,r=yo;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return r.testNumeric(i)?e.NUMERIC:r.testAlphanumeric(i)?e.ALPHANUMERIC:r.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function n(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(i,o){if(e.isValid(i))return i;try{return n(i)}catch{return o}}})(ml);(function(e){const t=Bs,r=gy,n=my,s=ml,i=Ib,o=7973,a=t.getBCHDigit(o);function l(m,f,w){for(let y=1;y<=40;y++)if(f<=e.getCapacity(y,w,m))return y}function u(m,f){return s.getCharCountIndicator(m,f)+4}function d(m,f){let w=0;return m.forEach(function(y){const b=u(y.mode,f);w+=b+y.getBitsLength()}),w}function h(m,f){for(let w=1;w<=40;w++)if(d(m,w)<=e.getCapacity(w,f,s.MIXED))return w}e.from=function(f,w){return i.isValid(f)?parseInt(f,10):w},e.getCapacity=function(f,w,y){if(!i.isValid(f))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=s.BYTE);const b=t.getSymbolTotalCodewords(f),v=r.getTotalCodewordsCount(f,w),S=(b-v)*8;if(y===s.MIXED)return S;const _=S-u(y,f);switch(y){case s.NUMERIC:return Math.floor(_/10*3);case s.ALPHANUMERIC:return Math.floor(_/11*2);case s.KANJI:return Math.floor(_/13);case s.BYTE:default:return Math.floor(_/8)}},e.getBestVersionForData=function(f,w){let y;const b=n.from(w,n.M);if(Array.isArray(f)){if(f.length>1)return h(f,b);if(f.length===0)return 1;y=f[0]}else y=f;return l(y.mode,y.getLength(),b)},e.getEncodedBits=function(f){if(!i.isValid(f)||f<7)throw new Error("Invalid QR Code version");let w=f<<12;for(;t.getBCHDigit(w)-a>=0;)w^=o<<t.getBCHDigit(w)-a;return f<<12|w}})(sR);var oR={};const mw=Bs,aR=1335,rJ=21522,E4=mw.getBCHDigit(aR);oR.getEncodedBits=function(t,r){const n=t.bit<<3|r;let s=n<<10;for(;mw.getBCHDigit(s)-E4>=0;)s^=aR<<mw.getBCHDigit(s)-E4;return(n<<10|s)^rJ};var lR={};const nJ=ml;function hd(e){this.mode=nJ.NUMERIC,this.data=e.toString()}hd.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};hd.prototype.getLength=function(){return this.data.length};hd.prototype.getBitsLength=function(){return hd.getBitsLength(this.data.length)};hd.prototype.write=function(t){let r,n,s;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),s=parseInt(n,10),t.put(s,10);const i=this.data.length-r;i>0&&(n=this.data.substr(r),s=parseInt(n,10),t.put(s,i*3+1))};var sJ=hd;const iJ=ml,v1=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function pd(e){this.mode=iJ.ALPHANUMERIC,this.data=e}pd.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};pd.prototype.getLength=function(){return this.data.length};pd.prototype.getBitsLength=function(){return pd.getBitsLength(this.data.length)};pd.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=v1.indexOf(this.data[r])*45;n+=v1.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(v1.indexOf(this.data[r]),6)};var oJ=pd;const aJ=ml;function md(e){this.mode=aJ.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}md.getBitsLength=function(t){return t*8};md.prototype.getLength=function(){return this.data.length};md.prototype.getBitsLength=function(){return md.getBitsLength(this.data.length)};md.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var lJ=md;const cJ=ml,uJ=Bs;function gd(e){this.mode=cJ.KANJI,this.data=e}gd.getBitsLength=function(t){return t*13};gd.prototype.getLength=function(){return this.data.length};gd.prototype.getBitsLength=function(){return gd.getBitsLength(this.data.length)};gd.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=uJ.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var dJ=gd,cR={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,s){var i={},o={};o[n]=0;var a=t.PriorityQueue.make();a.push(n,0);for(var l,u,d,h,m,f,w,y,b;!a.empty();){l=a.pop(),u=l.value,h=l.cost,m=r[u]||{};for(d in m)m.hasOwnProperty(d)&&(f=m[d],w=h+f,y=o[d],b=typeof o[d]>"u",(b||y>w)&&(o[d]=w,a.push(d,w),i[d]=u))}if(typeof s<"u"&&typeof o[s]>"u"){var v=["Could not find a path from ",n," to ",s,"."].join("");throw new Error(v)}return i},extract_shortest_path_from_predecessor_list:function(r,n){for(var s=[],i=n;i;)s.push(i),r[i],i=r[i];return s.reverse(),s},find_path:function(r,n,s){var i=t.single_source_shortest_paths(r,n,s);return t.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,s={},i;r=r||{};for(i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);return s.queue=[],s.sorter=r.sorter||n.default_sorter,s},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var s={value:r,cost:n};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(cR);var fJ=cR.exports;(function(e){const t=ml,r=sJ,n=oJ,s=lJ,i=dJ,o=yo,a=Bs,l=fJ;function u(v){return unescape(encodeURIComponent(v)).length}function d(v,S,_){const E=[];let T;for(;(T=v.exec(_))!==null;)E.push({data:T[0],index:T.index,mode:S,length:T[0].length});return E}function h(v){const S=d(o.NUMERIC,t.NUMERIC,v),_=d(o.ALPHANUMERIC,t.ALPHANUMERIC,v);let E,T;return a.isKanjiModeEnabled()?(E=d(o.BYTE,t.BYTE,v),T=d(o.KANJI,t.KANJI,v)):(E=d(o.BYTE_KANJI,t.BYTE,v),T=[]),S.concat(_,E,T).sort(function(D,U){return D.index-U.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function m(v,S){switch(S){case t.NUMERIC:return r.getBitsLength(v);case t.ALPHANUMERIC:return n.getBitsLength(v);case t.KANJI:return i.getBitsLength(v);case t.BYTE:return s.getBitsLength(v)}}function f(v){return v.reduce(function(S,_){const E=S.length-1>=0?S[S.length-1]:null;return E&&E.mode===_.mode?(S[S.length-1].data+=_.data,S):(S.push(_),S)},[])}function w(v){const S=[];for(let _=0;_<v.length;_++){const E=v[_];switch(E.mode){case t.NUMERIC:S.push([E,{data:E.data,mode:t.ALPHANUMERIC,length:E.length},{data:E.data,mode:t.BYTE,length:E.length}]);break;case t.ALPHANUMERIC:S.push([E,{data:E.data,mode:t.BYTE,length:E.length}]);break;case t.KANJI:S.push([E,{data:E.data,mode:t.BYTE,length:u(E.data)}]);break;case t.BYTE:S.push([{data:E.data,mode:t.BYTE,length:u(E.data)}])}}return S}function y(v,S){const _={},E={start:{}};let T=["start"];for(let F=0;F<v.length;F++){const D=v[F],U=[];for(let B=0;B<D.length;B++){const K=D[B],L=""+F+B;U.push(L),_[L]={node:K,lastCount:0},E[L]={};for(let k=0;k<T.length;k++){const W=T[k];_[W]&&_[W].node.mode===K.mode?(E[W][L]=m(_[W].lastCount+K.length,K.mode)-m(_[W].lastCount,K.mode),_[W].lastCount+=K.length):(_[W]&&(_[W].lastCount=K.length),E[W][L]=m(K.length,K.mode)+4+t.getCharCountIndicator(K.mode,S))}}T=U}for(let F=0;F<T.length;F++)E[T[F]].end=0;return{map:E,table:_}}function b(v,S){let _;const E=t.getBestModeForData(v);if(_=t.from(S,E),_!==t.BYTE&&_.bit<E.bit)throw new Error('"'+v+'" cannot be encoded with mode '+t.toString(_)+`.
 Suggested mode is: `+t.toString(E));switch(_===t.KANJI&&!a.isKanjiModeEnabled()&&(_=t.BYTE),_){case t.NUMERIC:return new r(v);case t.ALPHANUMERIC:return new n(v);case t.KANJI:return new i(v);case t.BYTE:return new s(v)}}e.fromArray=function(S){return S.reduce(function(_,E){return typeof E=="string"?_.push(b(E,null)):E.data&&_.push(b(E.data,E.mode)),_},[])},e.fromString=function(S,_){const E=h(S,a.isKanjiModeEnabled()),T=w(E),F=y(T,_),D=l.find_path(F.map,"start","end"),U=[];for(let B=1;B<D.length-1;B++)U.push(F.table[D[B]].node);return e.fromArray(f(U))},e.rawSplit=function(S){return e.fromArray(h(S,a.isKanjiModeEnabled()))}})(lR);const vy=Bs,w1=my,hJ=GK,pJ=KK,mJ=ZT,gJ=eR,gw=tR,yw=gy,yJ=YK,n0=sR,vJ=oR,wJ=ml,x1=lR;function xJ(e,t){const r=e.size,n=gJ.getPositions(t);for(let s=0;s<n.length;s++){const i=n[s][0],o=n[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||r<=i+a))for(let l=-1;l<=7;l++)o+l<=-1||r<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?e.set(i+a,o+l,!0,!0):e.set(i+a,o+l,!1,!0))}}function bJ(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function _J(e,t){const r=mJ.getPositions(t);for(let n=0;n<r.length;n++){const s=r[n][0],i=r[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?e.set(s+o,i+a,!0,!0):e.set(s+o,i+a,!1,!0)}}function SJ(e,t){const r=e.size,n=n0.getEncodedBits(t);let s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+r-8-3,o=(n>>a&1)===1,e.set(s,i,o,!0),e.set(i,s,o,!0)}function b1(e,t,r){const n=e.size,s=vJ.getEncodedBits(t,r);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?e.set(i,8,o,!0):i<8?e.set(i+1,8,o,!0):e.set(n-15+i,8,o,!0),i<8?e.set(8,n-i-1,o,!0):i<9?e.set(8,15-i-1+1,o,!0):e.set(8,15-i-1,o,!0);e.set(n-8,8,1,!0)}function NJ(e,t){const r=e.size;let n=-1,s=r-1,i=7,o=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!e.isReserved(s,a-l)){let u=!1;o<t.length&&(u=(t[o]>>>i&1)===1),e.set(s,a-l,u),i--,i===-1&&(o++,i=7)}if(s+=n,s<0||r<=s){s-=n,n=-n;break}}}function EJ(e,t,r){const n=new hJ;r.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),wJ.getCharCountIndicator(l.mode,e)),l.write(n)});const s=vy.getSymbolTotalCodewords(e),i=yw.getTotalCodewordsCount(e,t),o=(s-i)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(o-n.getLengthInBits())/8;for(let l=0;l<a;l++)n.put(l%2?17:236,8);return jJ(n,e,t)}function jJ(e,t,r){const n=vy.getSymbolTotalCodewords(t),s=yw.getTotalCodewordsCount(t,r),i=n-s,o=yw.getBlocksCount(t,r),a=n%o,l=o-a,u=Math.floor(n/o),d=Math.floor(i/o),h=d+1,m=u-d,f=new yJ(m);let w=0;const y=new Array(o),b=new Array(o);let v=0;const S=new Uint8Array(e.buffer);for(let D=0;D<o;D++){const U=D<l?d:h;y[D]=S.slice(w,w+U),b[D]=f.encode(y[D]),w+=U,v=Math.max(v,U)}const _=new Uint8Array(n);let E=0,T,F;for(T=0;T<v;T++)for(F=0;F<o;F++)T<y[F].length&&(_[E++]=y[F][T]);for(T=0;T<m;T++)for(F=0;F<o;F++)_[E++]=b[F][T];return _}function AJ(e,t,r,n){let s;if(Array.isArray(e))s=x1.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const d=x1.rawSplit(e);u=n0.getBestVersionForData(d,r)}s=x1.fromString(e,u||40)}else throw new Error("Invalid data");const i=n0.getBestVersionForData(s,r);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=EJ(t,r,s),a=vy.getSymbolSize(t),l=new pJ(a);return xJ(l,t),bJ(l),_J(l,t),b1(l,r,0),t>=7&&SJ(l,t),NJ(l,o),isNaN(n)&&(n=gw.getBestMask(l,b1.bind(null,l,r))),gw.applyMask(n,l),b1(l,r,n),{modules:l,version:t,errorCorrectionLevel:r,maskPattern:n,segments:s}}QT.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=w1.M,s,i;return typeof r<"u"&&(n=w1.from(r.errorCorrectionLevel,w1.M),s=n0.from(r.version),i=gw.from(r.maskPattern),r.toSJISFunc&&vy.setToSJISFunction(r.toSJISFunc)),AJ(t,s,n,i)};var uR={},Db={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const s=parseInt(n.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const s=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,s){return s.width&&s.width>=n+s.margin*2?s.width/(n+s.margin*2):s.scale},e.getImageWidth=function(n,s){const i=e.getScale(n,s);return Math.floor((n+s.margin*2)*i)},e.qrToImageData=function(n,s,i){const o=s.modules.size,a=s.modules.data,l=e.getScale(o,i),u=Math.floor((o+i.margin*2)*l),d=i.margin*l,h=[i.color.light,i.color.dark];for(let m=0;m<u;m++)for(let f=0;f<u;f++){let w=(m*u+f)*4,y=i.color.light;if(m>=d&&f>=d&&m<u-d&&f<u-d){const b=Math.floor((m-d)/l),v=Math.floor((f-d)/l);y=h[a[b*o+v]?1:0]}n[w++]=y.r,n[w++]=y.g,n[w++]=y.b,n[w]=y.a}}})(Db);(function(e){const t=Db;function r(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,o,a){let l=a,u=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(u=n()),l=t.getOptions(l);const d=t.getImageWidth(i.modules.size,l),h=u.getContext("2d"),m=h.createImageData(d,d);return t.qrToImageData(m.data,i,l),r(h,u,d),h.putImageData(m,0,0),u},e.renderToDataURL=function(i,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const u=e.render(i,o,l),d=l.type||"image/png",h=l.rendererOpts||{};return u.toDataURL(d,h.quality)}})(uR);var dR={};const CJ=Db;function j4(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function _1(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function kJ(e,t,r){let n="",s=0,i=!1,o=0;for(let a=0;a<e.length;a++){const l=Math.floor(a%t),u=Math.floor(a/t);!l&&!i&&(i=!0),e[a]?(o++,a>0&&l>0&&e[a-1]||(n+=i?_1("M",l+r,.5+u+r):_1("m",s,0),s=0,i=!1),l+1<t&&e[a+1]||(n+=_1("h",o),o=0)):s++}return n}dR.render=function(t,r,n){const s=CJ.getOptions(r),i=t.modules.size,o=t.modules.data,a=i+s.margin*2,l=s.color.light.a?"<path "+j4(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+j4(s.color.dark,"stroke")+' d="'+kJ(o,i,s.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+u+`</svg>
`;return typeof n=="function"&&n(null,m),m};const PJ=WK,vw=QT,fR=uR,TJ=dR;function Mb(e,t,r,n,s){const i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!PJ())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=r,r=t,t=n=void 0):o===3&&(t.getContext&&typeof s>"u"?(s=n,n=void 0):(s=n,n=r,r=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=t,t=n=void 0):o===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(l,u){try{const d=vw.create(r,n);l(e(d,t,n))}catch(d){u(d)}})}try{const l=vw.create(r,n);s(null,e(l,t,n))}catch(l){s(l)}}Xh.create=vw.create;Xh.toCanvas=Mb.bind(null,fR.render);Xh.toDataURL=Mb.bind(null,fR.renderToDataURL);Xh.toString=Mb.bind(null,function(e,t,r){return TJ.render(e,r)});const RJ=async e=>{const t=new ut;t.setFontSize(22),t.setTextColor(255,107,0),t.text("BRICKWORKS MANAGER",105,20,{align:"center"}),t.setFontSize(10),t.setTextColor(100,100,100),t.text("Professional Brick Manufacturing & Sales Management",105,28,{align:"center"}),t.setDrawColor(255,107,0),t.setLineWidth(.5),t.line(20,35,190,35),t.setFontSize(16),t.setTextColor(0,0,0),t.text("INVOICE",20,45),t.setFontSize(10),t.text(`Invoice #: ${e.invoiceNumber}`,20,52),t.text(`Date: ${new Date(e.date).toLocaleDateString("en-IN")}`,20,58),t.setFontSize(12),t.text("BILL TO:",20,70),t.setFontSize(10),t.text(e.customerName,20,77),e.customerPhone&&t.text(`Phone: ${e.customerPhone}`,20,83),t.setDrawColor(200,200,200),t.setLineWidth(.3),t.line(20,92,190,92),t.setFontSize(10),t.setFillColor(240,240,240),t.rect(20,100,170,8,"F"),t.text("Description",25,105),t.text("Quantity",90,105),t.text("Rate",125,105),t.text("Amount",160,105),t.setFontSize(10),t.text(e.brickTypeName,25,115),t.text(e.quantity.toLocaleString(),90,115),t.text(`${e.ratePerBrick.toFixed(2)}`,125,115),t.text(`${e.totalAmount.toLocaleString("en-IN")}`,160,115),t.line(20,120,190,120);const r=130;if(t.setFontSize(11),t.text("Total Amount:",120,r),t.text(`${e.totalAmount.toLocaleString("en-IN")}`,160,r),t.text("Amount Received:",120,r+7),t.setTextColor(40,167,69),t.text(`${e.amountReceived.toLocaleString("en-IN")}`,160,r+7),t.setTextColor(0,0,0),t.setFontSize(12),t.setFont(void 0,"bold"),t.text("Balance Due:",120,r+15),e.balanceDue>0?t.setTextColor(255,193,7):t.setTextColor(40,167,69),t.text(`${e.balanceDue.toLocaleString("en-IN")}`,160,r+15),t.setFont(void 0,"normal"),t.setFontSize(10),t.setTextColor(0,0,0),t.text("Payment Status:",20,r+15),e.paymentStatus==="Paid"?t.setTextColor(40,167,69):e.paymentStatus==="Partial"?t.setTextColor(255,193,7):t.setTextColor(220,53,69),t.text(e.paymentStatus,55,r+15),e.balanceDue>0)try{const n=`upi://pay?pa=merchant@upi&pn=BrickWorks&am=${e.balanceDue}&cu=INR&tn=Invoice ${e.invoiceNumber}`,s=await Xh.toDataURL(n,{width:80});t.addImage(s,"PNG",25,r+25,40,40),t.setFontSize(8),t.setTextColor(100,100,100),t.text("Scan to pay via UPI",25,r+70)}catch(n){console.error("QR code generation failed:",n)}return t.setFontSize(8),t.setTextColor(150,150,150),t.text("Thank you for your business!",105,280,{align:"center"}),t.text("This is a computer-generated invoice.",105,285,{align:"center"}),t.output("blob")},LJ=(e,t)=>{const r=`*Invoice for ${e.customerName}*
  
Invoice #: ${e.invoiceNumber}
Date: ${new Date(e.date).toLocaleDateString("en-IN")}

Item: ${e.brickTypeName}
Quantity: ${e.quantity.toLocaleString()}
Rate: ${e.ratePerBrick.toFixed(2)}

*Total Amount: ${e.totalAmount.toLocaleString("en-IN")}*
Amount Received: ${e.amountReceived.toLocaleString("en-IN")}
*Balance Due: ${e.balanceDue.toLocaleString("en-IN")}*

Payment Status: ${e.paymentStatus}

--- BrickWorks Manager ---`,n=encodeURIComponent(r),s=e.customerPhone?e.customerPhone.replace(/\D/g,""):"";s&&s.length>=10?window.open(`https://wa.me/91${s.slice(-10)}?text=${n}`,"_blank"):window.open(`https://wa.me/?text=${n}`,"_blank")},OJ=e=>{const t=encodeURIComponent(`Invoice #${e.invoiceNumber} - ${e.customerName}`),r=encodeURIComponent(`Dear ${e.customerName},

Please find your invoice details below:

Invoice #: ${e.invoiceNumber}
Date: ${new Date(e.date).toLocaleDateString("en-IN")}

Item: ${e.brickTypeName}
Quantity: ${e.quantity.toLocaleString()}
Rate: ${e.ratePerBrick.toFixed(2)}

Total Amount: ${e.totalAmount.toLocaleString("en-IN")}
Amount Received: ${e.amountReceived.toLocaleString("en-IN")}
Balance Due: ${e.balanceDue.toLocaleString("en-IN")}

Payment Status: ${e.paymentStatus}

Thank you for your business!

--- BrickWorks Manager ---`);window.location.href=`mailto:?subject=${t}&body=${r}`},IJ=(e,t)=>{const r=window.URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,n.click(),window.URL.revokeObjectURL(r)},DJ=({initialShowDuesOnly:e=!1})=>{const[t,r]=x.useState([]),[n,s]=x.useState([]),[i,o]=x.useState([]),[a,l]=x.useState(!1),[u,d]=x.useState(null),[h,m]=x.useState(null),[f,w]=x.useState([]),[y,b]=x.useState(""),[v,S]=x.useState(e),[_,E]=x.useState(!1),[T,F]=x.useState(null),[D,U]=x.useState(!1),[B,K]=x.useState([]),[L,k]=x.useState(null),[W,P]=x.useState({amount:"",date:new Date().toISOString().split("T")[0],notes:""}),{toast:Z}=gs(),{factoryId:ne}=mo();Yh(),x.useEffect(()=>{ne&&k(ne)},[ne]),x.useEffect(()=>{S(e)},[e]);const ie=async()=>{},[M,H]=x.useState({date:new Date().toISOString().split("T")[0],customer_name:"",customer_phone:"",product_id:"",quantity_sold:"",rate_per_brick:"",amount_received:"",notes:""}),ae=oe=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(oe),de=async()=>{var oe,X;if(L)try{const ye=await oc.getByFactory(L);s(ye||[])}catch(ye){Z({title:"Error loading product types",description:((X=(oe=ye.response)==null?void 0:oe.data)==null?void 0:X.detail)||"Failed to load",variant:"destructive"})}},C=async()=>{var oe,X;if(L)try{const ye=await Ra.getByFactory(L),Ee=await oc.getByFactory(L),Oe=ye.map(Me=>({...Me,product_definitions:Ee.find(_e=>_e.id===Me.product_id)||{id:Me.product_id,name:"Unknown",unit:"pieces"}}));r(Oe),q(Oe)}catch(ye){Z({title:"Error loading sales",description:((X=(oe=ye.response)==null?void 0:oe.data)==null?void 0:X.detail)||"Failed to load",variant:"destructive"})}},q=oe=>{const X=new Map;oe.forEach(ye=>{const Ee=ye.customer_name;X.has(Ee)||X.set(Ee,{customer_name:ye.customer_name,customer_phone:ye.customer_phone||"",total_sales:0,total_received:0,balance_due:0,transaction_count:0,last_transaction_date:ye.date});const Oe=X.get(Ee);Oe.total_sales+=ye.total_amount,Oe.total_received+=ye.amount_received,Oe.balance_due+=ye.balance_due,Oe.transaction_count+=1,new Date(ye.date)>new Date(Oe.last_transaction_date)&&(Oe.last_transaction_date=ye.date)}),o(Array.from(X.values()).sort((ye,Ee)=>Ee.total_sales-ye.total_sales))},V=async()=>{if(L)try{const X=(await sb.getByFactory(L)).map(ye=>({value:ye.name,label:ye.name,phone:ye.phone||""}));K(X)}catch(oe){console.error("Error loading customers:",oe);const X=new Map;t.forEach(Ee=>{X.has(Ee.customer_name)||X.set(Ee.customer_name,{name:Ee.customer_name,phone:Ee.customer_phone||""})});const ye=Array.from(X.values()).map(Ee=>({value:Ee.name,label:Ee.name,phone:Ee.phone}));K(ye)}},Y=async oe=>{var X,ye;if(L)try{const Ee=await Ra.getByFactory(L),Oe=await oc.getByFactory(L),_e=Ee.filter(Ie=>Ie.customer_name===oe).sort((Ie,$e)=>new Date(Ie.date).getTime()-new Date($e.date).getTime()).map(Ie=>({...Ie,product_definitions:Oe.find($e=>$e.id===Ie.product_id)||{id:Ie.product_id,name:"Unknown",unit:"pieces"}}));w(_e)}catch(Ee){Z({title:"Error loading customer sales",description:((ye=(X=Ee.response)==null?void 0:X.data)==null?void 0:ye.detail)||"Failed to load",variant:"destructive"})}},se=async(oe,X,ye)=>{if(!L)return X;const{data:Ee,error:Oe}=await supabase.from("sales").select("*").eq("factory_id",L).eq("customer_name",oe).gt("balance_due",0).order("date",{ascending:!0});if(Oe)return console.error("Error fetching unpaid sales:",Oe),X;let Me=X;const _e=[];for(const Ie of Ee||[]){if(Me<=0)break;if(Ie.id===ye)continue;const $e=Math.min(Me,Ie.balance_due),mt=Ie.amount_received+$e,Et=Ie.balance_due-$e;_e.push({id:Ie.id,amount_received:mt,balance_due:Et}),Me-=$e}for(const Ie of _e)await supabase.from("sales").update({amount_received:Ie.amount_received,balance_due:Ie.balance_due}).eq("id",Ie.id);return Me},Q=async oe=>{var Me,_e;if(oe.preventDefault(),console.log("=== SALE FORM SUBMIT ==="),console.log("saleForm:",M),console.log("product_id:",M.product_id),console.log("productTypes list:",n),!L){Z({title:"Error",description:"Factory not found",variant:"destructive"});return}if(!M.product_id||M.product_id.trim()===""){console.error("VALIDATION FAILED: No product selected"),Z({title:"Error",description:"Please select a product type from the dropdown",variant:"destructive"});return}if(!M.customer_name||M.customer_name.trim()===""){console.error("VALIDATION FAILED: No customer name"),Z({title:"Error",description:"Please enter customer name",variant:"destructive"});return}const X=Number(M.quantity_sold)*Number(M.rate_per_brick),ye=Number(M.amount_received)||0,Ee=X-ye,Oe={date:M.date,customer_name:M.customer_name,customer_phone:M.customer_phone||void 0,product_id:M.product_id,quantity_sold:Number(M.quantity_sold),rate_per_brick:Number(M.rate_per_brick),total_amount:X,amount_received:ye,balance_due:Ee,notes:M.notes,factory_id:L};try{u?(await Ra.update(u.id,Oe),Z({title:"Sale updated successfully"})):(await Ra.create(Oe),Z({title:"Sale added successfully"})),await C(),l(!1),d(null),H({date:new Date().toISOString().split("T")[0],customer_name:"",customer_phone:"",product_id:"",quantity_sold:"",rate_per_brick:"",amount_received:"",notes:""})}catch(Ie){Z({title:"Error",description:((_e=(Me=Ie.response)==null?void 0:Me.data)==null?void 0:_e.detail)||"Failed to save sale",variant:"destructive"})}},[ce,ue]=x.useState({open:!1,id:""}),me=async oe=>{var X,ye;try{await Ra.delete(oe),await C(),Z({title:"Sale deleted successfully"})}catch(Ee){Z({title:"Error deleting sale",description:((ye=(X=Ee.response)==null?void 0:X.data)==null?void 0:ye.detail)||"Failed to delete",variant:"destructive"})}ue({open:!1,id:""})},ve=oe=>{d(oe),H({date:oe.date,customer_name:oe.customer_name,customer_phone:oe.customer_phone||"",product_id:oe.product_id,quantity_sold:oe.quantity_sold.toString(),rate_per_brick:oe.rate_per_brick.toString(),amount_received:oe.amount_received.toString(),notes:oe.notes||""}),l(!0)},be=oe=>{m(oe),Y(oe)},Ne=oe=>oe.balance_due===0?{status:"Paid",color:"success"}:oe.amount_received===0?{status:"Unpaid",color:"destructive"}:{status:"Partial",color:"warning"},Ue=async(oe,X)=>{var ye;try{const Ee={invoiceNumber:`SALE-${oe.id.slice(0,8).toUpperCase()}`,date:oe.date,customerName:oe.customer_name,customerPhone:oe.customer_phone,brickTypeName:((ye=oe.product_definitions)==null?void 0:ye.name)||"Product",quantity:oe.quantity_sold,ratePerBrick:oe.rate_per_brick,totalAmount:oe.total_amount,amountReceived:oe.amount_received,balanceDue:oe.balance_due,paymentStatus:Ne(oe).status},Oe=await RJ(Ee);X==="whatsapp"?LJ(Ee,Oe):X==="email"?OJ(Ee):IJ(Oe,`invoice-${Ee.invoiceNumber}.pdf`),Z({title:"Invoice generated successfully"})}catch(Ee){Z({title:"Error generating invoice",variant:"destructive"}),console.error(Ee)}},R=x.useMemo(()=>{let oe=i;if(y.trim()){const X=y.toLowerCase();oe=oe.filter(ye=>ye.customer_name.toLowerCase().includes(X)||ye.customer_phone&&ye.customer_phone.toLowerCase().includes(X))}return v&&(oe=oe.filter(X=>X.balance_due>0)),oe},[i,y,v]),Te=oe=>{F(oe),P({amount:oe.balance_due.toString(),date:new Date().toISOString().split("T")[0],notes:""}),E(!0)},He=async oe=>{if(oe.preventDefault(),!T)return;const X=Number(W.amount);if(X<=0){Z({title:"Invalid amount",variant:"destructive"});return}await se(T.customer_name,X),await C(),E(!1),F(null),P({amount:"",date:new Date().toISOString().split("T")[0],notes:""}),Z({title:"Payment recorded successfully"})};if(x.useEffect(()=>{ie()},[]),x.useEffect(()=>{L&&(de(),C())},[L]),x.useEffect(()=>{V()},[t]),x.useEffect(()=>{n.length>0&&!M.product_id&&!u&&H(oe=>({...oe,product_id:n[0].id}))},[n,u]),h){const oe=i.find(X=>X.customer_name===h);return c.jsx("div",{className:"min-h-screen bg-background p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs("div",{children:[c.jsx(Be,{variant:"outline",onClick:()=>m(null),className:"mb-4",children:" Back to Sales"}),c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Customer Details"})]})}),oe&&c.jsx("section",{className:"animate-fade-in",children:c.jsx("div",{className:"card-metric",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx(Bg,{className:"h-8 w-8 text-primary mx-auto mb-2"}),c.jsx("p",{className:"text-secondary",children:"Customer"}),c.jsx("p",{className:"text-xl font-bold text-foreground",children:oe.customer_name}),oe.customer_phone&&c.jsx("p",{className:"text-secondary text-sm",children:oe.customer_phone})]}),c.jsxs("div",{className:"text-center",children:[c.jsx(Rv,{className:"h-8 w-8 text-success mx-auto mb-2"}),c.jsx("p",{className:"text-secondary",children:"Total Sales"}),c.jsx("p",{className:"text-xl font-bold text-success",children:ae(oe.total_sales)})]}),c.jsxs("div",{className:"text-center",children:[c.jsx(Rv,{className:"h-8 w-8 text-warning mx-auto mb-2"}),c.jsx("p",{className:"text-secondary",children:"Balance Due"}),c.jsx("p",{className:"text-xl font-bold text-warning",children:ae(oe.balance_due)})]}),c.jsxs("div",{className:"text-center",children:[c.jsx(ad,{className:"h-8 w-8 text-secondary mx-auto mb-2"}),c.jsx("p",{className:"text-secondary",children:"Transactions"}),c.jsx("p",{className:"text-xl font-bold text-foreground",children:oe.transaction_count})]})]})})}),c.jsxs("section",{className:"animate-slide-up",children:[c.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Customer Ledger"}),c.jsxs("div",{className:"card-dark",children:[c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-border",children:[c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Date"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Transaction"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Sale Amount"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Payment"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Running Balance"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Status"})]})}),c.jsx("tbody",{children:(()=>{let X=0;return f.map((ye,Ee)=>{var _e;X+=ye.total_amount;const Oe=X;X-=ye.amount_received;const Me=Ne(ye);return c.jsxs(qe.Fragment,{children:[c.jsxs("tr",{className:"border-b border-border hover:bg-accent/5",children:[c.jsx("td",{className:"py-3 px-4 text-foreground",children:new Date(ye.date).toLocaleDateString("en-IN")}),c.jsx("td",{className:"py-3 px-4 text-foreground",children:c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium",children:["Sale: ",((_e=ye.product_definitions)==null?void 0:_e.name)||"Product"]}),c.jsxs("p",{className:"text-sm text-secondary",children:[ye.quantity_sold.toLocaleString()," @ ",ae(ye.rate_per_brick)]})]})}),c.jsxs("td",{className:"py-3 px-4 text-destructive font-medium",children:["+",ae(ye.total_amount)]}),c.jsx("td",{className:"py-3 px-4 text-secondary",children:"-"}),c.jsx("td",{className:"py-3 px-4 text-foreground font-medium",children:ae(Oe)}),c.jsx("td",{className:"py-3 px-4",children:c.jsx("span",{className:"text-sm px-2 py-1 rounded bg-destructive/20 text-destructive",children:"Due"})})]}),ye.amount_received>0&&c.jsxs("tr",{className:"border-b border-border hover:bg-accent/5",children:[c.jsx("td",{className:"py-3 px-4 text-foreground",children:new Date(ye.date).toLocaleDateString("en-IN")}),c.jsxs("td",{className:"py-3 px-4 text-foreground",children:[c.jsx("p",{className:"font-medium",children:"Payment Received"}),ye.notes&&c.jsx("p",{className:"text-sm text-secondary",children:ye.notes})]}),c.jsx("td",{className:"py-3 px-4 text-secondary",children:"-"}),c.jsxs("td",{className:"py-3 px-4 text-success font-medium",children:["-",ae(ye.amount_received)]}),c.jsx("td",{className:"py-3 px-4 text-foreground font-medium",children:ae(X)}),c.jsx("td",{className:"py-3 px-4",children:c.jsx("span",{className:`text-sm px-2 py-1 rounded bg-${Me.color}/20 text-${Me.color}`,children:Me.status})})]})]},ye.id)})})()})]})}),c.jsx("div",{className:"mt-6 p-4 bg-accent/10 rounded-lg",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-secondary text-sm",children:"Total Sales"}),c.jsx("p",{className:"text-xl font-bold text-foreground",children:ae(f.reduce((X,ye)=>X+ye.total_amount,0))})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-secondary text-sm",children:"Total Payments"}),c.jsx("p",{className:"text-xl font-bold text-success",children:ae(f.reduce((X,ye)=>X+ye.amount_received,0))})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-secondary text-sm",children:"Outstanding Balance"}),c.jsx("p",{className:"text-xl font-bold text-warning",children:ae(f.reduce((X,ye)=>X+ye.balance_due,0))})]})]})})]})]})]})})}return c.jsx("div",{className:"min-h-screen bg-background p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[c.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-3",children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Sales Management"}),c.jsx("div",{className:"flex gap-2",children:c.jsxs(dn,{open:a,onOpenChange:l,children:[c.jsx(yh,{asChild:!0,children:c.jsxs(Be,{className:"btn-primary",children:[c.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Add Sale"]})}),c.jsxs(tn,{className:"modal-content max-w-md",children:[c.jsx(rn,{children:c.jsx(nn,{className:"text-foreground",children:u?"Edit Sale":"Add New Sale"})}),c.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"date",children:"Date"}),c.jsx(Ge,{id:"date",type:"date",value:M.date,onChange:oe=>H({...M,date:oe.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"productType",children:"Product Type"}),c.jsxs(so,{value:M.product_id,onValueChange:oe=>H({...M,product_id:oe}),children:[c.jsx(Ei,{children:c.jsx(io,{placeholder:"Select product type"})}),c.jsx(ji,{children:n.map(oe=>c.jsx(os,{value:oe.id,children:oe.name},oe.id))})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx(ze,{htmlFor:"customerName",children:"Customer Name"}),c.jsxs(Be,{type:"button",size:"sm",variant:"outline",onClick:()=>U(!0),className:"h-7 text-xs",children:[c.jsx(W7,{className:"h-3 w-3 mr-1"}),"Add New"]})]}),c.jsx(vh,{options:B,value:M.customer_name,onValueChange:oe=>{const X=B.find(ye=>ye.value===oe);H({...M,customer_name:oe,customer_phone:(X==null?void 0:X.phone)||""})},placeholder:"Select or type customer name...",searchPlaceholder:"Search customers..."})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"customerPhone",children:"Customer Phone"}),c.jsx(Ge,{id:"customerPhone",value:M.customer_phone,onChange:oe=>H({...M,customer_phone:oe.target.value}),readOnly:!!M.customer_name,className:M.customer_name?"bg-muted":""})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"quantity",children:"Quantity"}),c.jsx(Ge,{id:"quantity",type:"number",value:M.quantity_sold,onChange:oe=>H({...M,quantity_sold:oe.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"rate",children:"Rate per Brick ()"}),c.jsx(Ge,{id:"rate",type:"number",step:"0.01",value:M.rate_per_brick,onChange:oe=>H({...M,rate_per_brick:oe.target.value}),required:!0})]})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"amountReceived",children:"Amount Received ()"}),c.jsx(Ge,{id:"amountReceived",type:"number",step:"0.01",value:M.amount_received,onChange:oe=>H({...M,amount_received:oe.target.value}),required:!0})]}),M.quantity_sold&&M.rate_per_brick&&c.jsxs("div",{className:"p-3 bg-accent/10 rounded",children:[c.jsxs("p",{className:"text-sm text-secondary",children:["Total Amount: ",ae(Number(M.quantity_sold)*Number(M.rate_per_brick))]}),M.amount_received&&c.jsxs("p",{className:"text-sm text-secondary",children:["Balance Due: ",ae(Number(M.quantity_sold)*Number(M.rate_per_brick)-Number(M.amount_received))]})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"notes",children:"Notes"}),c.jsx(Ho,{id:"notes",value:M.notes,onChange:oe=>H({...M,notes:oe.target.value})})]}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx(Be,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),c.jsxs(Be,{type:"submit",className:"btn-primary",children:[u?"Update":"Add"," Sale"]})]})]})]})]})}),c.jsx(B6,{open:D,onOpenChange:U,onCustomerAdded:(oe,X)=>{H({...M,customer_name:oe,customer_phone:X}),V()}})]}),c.jsxs("section",{className:"animate-fade-in",children:[c.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Sales Summary"}),c.jsx("div",{className:"card-metric",children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx(Dx,{className:"h-8 w-8 text-primary mx-auto mb-2"}),c.jsx("p",{className:"text-secondary",children:"Total Sales"}),c.jsx("p",{className:"text-2xl font-bold text-foreground",children:t.length})]}),c.jsxs("div",{className:"text-center",children:[c.jsx(Rv,{className:"h-8 w-8 text-success mx-auto mb-2"}),c.jsx("p",{className:"text-secondary",children:"Revenue"}),c.jsx("p",{className:"text-2xl font-bold text-success",children:ae(t.reduce((oe,X)=>oe+X.total_amount,0))})]}),c.jsxs("div",{className:"text-center",children:[c.jsx(ad,{className:"h-8 w-8 text-warning mx-auto mb-2"}),c.jsx("p",{className:"text-secondary",children:"Balance Due"}),c.jsx("p",{className:"text-2xl font-bold text-warning",children:ae(t.reduce((oe,X)=>oe+X.balance_due,0))})]}),c.jsxs("div",{className:"text-center",children:[c.jsx(Bg,{className:"h-8 w-8 text-secondary mx-auto mb-2"}),c.jsx("p",{className:"text-secondary",children:"Customers"}),c.jsx("p",{className:"text-2xl font-bold text-foreground",children:i.length})]})]})})]}),c.jsxs("section",{className:"animate-slide-up",children:[c.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Customers"}),c.jsxs("div",{className:"flex gap-3 items-center mb-4",children:[c.jsxs("div",{className:"relative flex-1 max-w-md",children:[c.jsx(Yj,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-secondary"}),c.jsx(Ge,{type:"text",placeholder:"Search customers by name or phone...",value:y,onChange:oe=>b(oe.target.value),className:"pl-10 pr-10"}),y&&c.jsx("button",{onClick:()=>b(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-secondary hover:text-foreground",children:c.jsx(Mx,{className:"h-4 w-4"})})]}),c.jsxs(Be,{variant:v?"default":"outline",onClick:()=>S(!v),className:v?"btn-primary":"",children:[c.jsx(Qo,{className:"h-4 w-4 mr-2"}),v?"Show All":"Due Only"]})]}),(y||v)&&c.jsxs("p",{className:"text-sm text-secondary mb-3",children:["Showing ",R.length," of ",i.length," customers",v&&" with dues"]}),c.jsx("div",{className:"card-dark",children:c.jsx("div",{className:"overflow-x-auto max-h-[450px] overflow-y-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"sticky top-0 bg-card z-10",children:c.jsxs("tr",{className:"border-b border-border",children:[c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Customer"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Contact"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Total Sales"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Amount Received"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Balance Due"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Last Transaction"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Actions"})]})}),c.jsx("tbody",{children:R.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"py-8 text-center text-secondary",children:y||v?"No customers found matching your filters":"No customers yet"})}):R.map(oe=>c.jsxs("tr",{className:"border-b border-border hover:bg-accent/5",children:[c.jsx("td",{className:"py-3 px-4 text-foreground font-medium",children:oe.customer_name}),c.jsx("td",{className:"py-3 px-4 text-foreground",children:oe.customer_phone&&c.jsxs("button",{onClick:()=>{window.confirm(`Call ${oe.customer_phone}?`)&&(window.location.href=`tel:${oe.customer_phone}`)},className:"flex items-center hover:text-primary cursor-pointer",children:[c.jsx(z7,{className:"h-4 w-4 mr-2 text-secondary"}),oe.customer_phone]})}),c.jsx("td",{className:"py-3 px-4 text-foreground",children:ae(oe.total_sales)}),c.jsx("td",{className:"py-3 px-4 text-success",children:ae(oe.total_received)}),c.jsx("td",{className:"py-3 px-4",children:c.jsx("span",{className:`font-medium ${oe.balance_due>0?"text-warning":"text-success"}`,children:ae(oe.balance_due)})}),c.jsx("td",{className:"py-3 px-4 text-foreground text-sm",children:new Date(oe.last_transaction_date).toLocaleDateString("en-IN")}),c.jsx("td",{className:"py-3 px-4",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Be,{size:"sm",variant:"outline",onClick:()=>be(oe.customer_name),children:"View Details"}),oe.balance_due>0&&c.jsxs(Be,{size:"sm",className:"btn-primary",onClick:()=>Te(oe),children:[c.jsx(Qo,{className:"h-4 w-4 mr-1"}),"Pay Due"]}),oe.customer_phone&&c.jsx(Be,{size:"sm",variant:"outline",onClick:()=>{const X=`Hi ${oe.customer_name}, your current balance is ${ae(oe.balance_due)}. Total sales: ${ae(oe.total_sales)}`;window.open(`https://wa.me/${oe.customer_phone.replace(/\D/g,"")}?text=${encodeURIComponent(X)}`,"_blank")},className:"bg-green-600 hover:bg-green-700 text-white border-green-600",children:c.jsx(K_,{className:"h-4 w-4"})})]})})]},oe.customer_name))})]})})})]}),c.jsx(dn,{open:_,onOpenChange:E,children:c.jsxs(tn,{className:"modal-content max-w-md",children:[c.jsx(rn,{children:c.jsx(nn,{className:"text-foreground",children:"Record Payment"})}),T&&c.jsxs("div",{className:"mb-4 p-3 bg-accent/10 rounded",children:[c.jsx("p",{className:"text-sm text-secondary",children:"Customer"}),c.jsx("p",{className:"font-medium text-foreground",children:T.customer_name}),c.jsxs("p",{className:"text-sm text-warning mt-2",children:["Outstanding Balance: ",ae(T.balance_due)]})]}),c.jsxs("form",{onSubmit:He,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"payment-amount",children:"Payment Amount ()"}),c.jsx(Ge,{id:"payment-amount",type:"number",step:"0.01",value:W.amount,onChange:oe=>P({...W,amount:oe.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"payment-date",children:"Payment Date"}),c.jsx(Ge,{id:"payment-date",type:"date",value:W.date,onChange:oe=>P({...W,date:oe.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"payment-notes",children:"Notes (optional)"}),c.jsx(Ho,{id:"payment-notes",value:W.notes,onChange:oe=>P({...W,notes:oe.target.value}),placeholder:"Payment method, reference number, etc."})]}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx(Be,{type:"button",variant:"outline",onClick:()=>E(!1),children:"Cancel"}),c.jsx(Be,{type:"submit",className:"btn-primary",children:"Record Payment"})]})]})]})}),c.jsxs("section",{className:"animate-fade-in",children:[c.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Sales"}),c.jsx("div",{className:"card-dark",children:c.jsx("div",{className:"overflow-x-auto max-h-[500px] overflow-y-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"sticky top-0 bg-card z-10 border-b-2 border-border",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Date"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Customer"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Brick & Qty"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Total Amount"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Balance Due"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary bg-card",children:"Actions"})]})}),c.jsx("tbody",{children:t.map(oe=>{var X,ye;return c.jsxs("tr",{className:"border-b border-border hover:bg-accent/5",children:[c.jsx("td",{className:"py-3 px-4 text-foreground",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(id,{className:"h-4 w-4 mr-2 text-secondary"}),new Date(oe.date).toLocaleDateString("en-IN")]})}),c.jsx("td",{className:"py-3 px-4 text-foreground",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:oe.customer_name}),oe.customer_phone&&c.jsx("p",{className:"text-sm text-secondary",children:oe.customer_phone})]})}),c.jsx("td",{className:"py-3 px-4 text-foreground",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:((X=oe.product_definitions)==null?void 0:X.name)||"Product"}),c.jsxs("p",{className:"text-sm text-secondary",children:[oe.quantity_sold.toLocaleString()," ",((ye=oe.product_definitions)==null?void 0:ye.unit)||"units"]})]})}),c.jsx("td",{className:"py-3 px-4 text-foreground",children:ae(oe.total_amount)}),c.jsx("td",{className:"py-3 px-4",children:c.jsx("span",{className:`${oe.balance_due>0?"text-warning":"text-success"}`,children:ae(oe.balance_due)})}),c.jsx("td",{className:"py-3 px-4",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Be,{size:"sm",variant:"outline",onClick:()=>Ue(oe,"download"),title:"Download PDF",children:c.jsx(Gj,{className:"h-4 w-4"})}),c.jsx(Be,{size:"sm",variant:"outline",onClick:()=>Ue(oe,"whatsapp"),title:"Share via WhatsApp",className:"text-green-600 hover:text-green-700",children:c.jsx(K_,{className:"h-4 w-4 fill-current"})}),c.jsx(Be,{size:"sm",variant:"outline",onClick:()=>Ue(oe,"email"),title:"Share via Email",children:c.jsx($7,{className:"h-4 w-4"})}),c.jsx(Be,{size:"sm",variant:"outline",onClick:()=>ve(oe),children:c.jsx(Dg,{className:"h-4 w-4"})}),c.jsx(Be,{size:"sm",variant:"destructive",onClick:()=>ue({open:!0,id:oe.id}),children:c.jsx(fo,{className:"h-4 w-4"})})]})})]},oe.id)})})]})})})]}),c.jsx(Td,{open:ce.open,onOpenChange:oe=>ue({...ce,open:oe}),children:c.jsxs(Cc,{children:[c.jsxs(kc,{children:[c.jsx(Tc,{children:"Are you sure?"}),c.jsx(Rc,{children:"This action cannot be undone. This will permanently delete this sale record."})]}),c.jsxs(Pc,{children:[c.jsx(Oc,{children:"Cancel"}),c.jsx(Lc,{onClick:()=>me(ce.id),children:"Delete"})]})]})})]})})},MJ=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[s,i]=x.useState(!1),[o,a]=x.useState(null),[l,u]=x.useState(null),[d,h]=x.useState([]),[m,f]=x.useState({start:"",end:""}),[w,y]=x.useState(!1),[b,v]=x.useState([]),[S,_]=x.useState(null),{toast:E}=gs(),{factoryId:T}=mo();Yh(),x.useEffect(()=>{T&&_(T)},[T]);const[F,D]=x.useState(0),[U,B]=x.useState(0),[K,L]=x.useState(0),[k,W]=x.useState(0),[P,Z]=x.useState(15),[ne,ie]=x.useState(2),[M,H]=x.useState({date:new Date().toISOString().split("T")[0],employee_name:"",amount:"",payment_type:"",notes:""}),ae=["Salary","Advance","Bonus","Incentive"],de=X=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(X),C=async()=>{},q=async()=>{var X,ye;if(S)try{const Ee=await qo.getPayments(S,m.start||void 0,m.end||void 0);t(Ee||[]),V(Ee||[])}catch(Ee){E({title:"Error loading payments",description:((ye=(X=Ee.response)==null?void 0:X.data)==null?void 0:ye.detail)||"Failed to load",variant:"destructive"})}},V=X=>{const ye=new Map;X.forEach(Ee=>{const Oe=Ee.employee_name.toLowerCase();ye.has(Oe)||ye.set(Oe,{employee_name:Ee.employee_name,total_amount:0,payment_count:0,latest_payment:Ee.date});const Me=ye.get(Oe);Me.total_amount+=Ee.amount,Me.payment_count+=1,Ee.date>Me.latest_payment&&(Me.latest_payment=Ee.date)}),n(Array.from(ye.values()).sort((Ee,Oe)=>Oe.total_amount-Ee.total_amount))},Y=async()=>{if(S)try{const X=await qo.getByFactory(S),ye=(X==null?void 0:X.map(Ee=>({value:Ee.name,label:Ee.name})))||[];v(ye)}catch(X){console.error("Error loading employees",X),v([])}},se=async X=>{var ye,Ee;if(S)try{const Me=(await qo.getPayments(S)).filter(_e=>_e.employee_name.toLowerCase()===X.toLowerCase()).sort((_e,Ie)=>new Date(Ie.date).getTime()-new Date(_e.date).getTime());h(Me||[])}catch(Oe){E({title:"Error loading employee payments",description:((Ee=(ye=Oe.response)==null?void 0:ye.data)==null?void 0:Ee.detail)||"Failed to load",variant:"destructive"})}},Q=async X=>{var Ee,Oe;if(X.preventDefault(),!S){E({title:"Error",description:"Factory not found",variant:"destructive"});return}const ye={date:M.date,employee_name:M.employee_name,amount:Number(M.amount),payment_type:M.payment_type,notes:M.notes,factory_id:S};try{if(o){E({title:"Update functionality coming soon"});return}else await qo.createPayment(ye);await q(),i(!1),a(null),H({date:new Date().toISOString().split("T")[0],employee_name:"",amount:"",payment_type:"",notes:""}),E({title:o?"Payment updated successfully":"Payment added successfully"})}catch(Me){E({title:"Error",description:((Oe=(Ee=Me.response)==null?void 0:Ee.data)==null?void 0:Oe.detail)||"Failed to save payment",variant:"destructive"})}},[ce,ue]=x.useState({open:!1,id:""}),me=async X=>{var ye,Ee;try{await qo.deletePayment(X),await q(),E({title:"Payment deleted successfully"})}catch(Oe){E({title:"Error deleting payment",description:((Ee=(ye=Oe.response)==null?void 0:ye.data)==null?void 0:Ee.detail)||"Failed to delete",variant:"destructive"})}ue({open:!1,id:""})},ve=X=>{a(X),H({date:X.date,employee_name:X.employee_name,amount:X.amount.toString(),payment_type:X.payment_type,notes:X.notes||""}),i(!0)},be=X=>{u(X),se(X)},Ne=X=>{switch(X){case"Salary":return"primary";case"Advance":return"warning";case"Bonus":return"success";case"Incentive":return"secondary";default:return"muted"}},Ue=()=>{const X=new Date().toISOString().split("T")[0];return e.filter(ye=>ye.date===X)},R=()=>{const X=new Date;X.setDate(X.getDate()-7);const ye=X.toISOString().split("T")[0];return e.filter(Ee=>Ee.date>=ye)},Te=()=>{f({start:"",end:""})};x.useEffect(()=>{C()},[]),x.useEffect(()=>{S&&(q(),Y(),He())},[S,m]);const He=async()=>{try{const{data:X}=await supabase.from("factory_rates").select("*").eq("is_active",!0);if(X){const _e=X.find($e=>$e.rate_type==="production_per_punch"),Ie=X.find($e=>$e.rate_type==="loading_per_brick");_e&&Z(_e.rate_amount),Ie&&ie(Ie.rate_amount)}const{data:ye}=await supabase.from("bricks_production").select("number_of_punches").gte("date",m.start).lte("date",m.end),Ee=(ye==null?void 0:ye.reduce((_e,Ie)=>_e+Ie.number_of_punches,0))||0;L(Ee),D(Ee*P);const{data:Oe}=await supabase.from("sales").select("quantity_sold").gte("date",m.start).lte("date",m.end),Me=(Oe==null?void 0:Oe.reduce((_e,Ie)=>_e+Ie.quantity_sold,0))||0;W(Me),B(Me*ne)}catch(X){console.error("Error calculating auto wages:",X)}};if(l){const X=r.find(ye=>ye.employee_name===l);return c.jsx("div",{className:"min-h-screen bg-background p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs("div",{children:[c.jsx(Be,{variant:"outline",onClick:()=>u(null),className:"mb-4",children:" Back to Payments"}),c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Employee Payment History"})]})}),X&&c.jsx("section",{className:"animate-fade-in",children:c.jsx("div",{className:"card-metric",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx(Bg,{className:"h-8 w-8 text-primary mx-auto mb-2"}),c.jsx("p",{className:"text-secondary",children:"Employee"}),c.jsx("p",{className:"text-xl font-bold text-foreground",children:X.employee_name})]}),c.jsxs("div",{className:"text-center",children:[c.jsx(Qo,{className:"h-8 w-8 text-success mx-auto mb-2"}),c.jsx("p",{className:"text-secondary",children:"Total Payments"}),c.jsx("p",{className:"text-xl font-bold text-success",children:de(X.total_amount)})]}),c.jsxs("div",{className:"text-center",children:[c.jsx(ad,{className:"h-8 w-8 text-secondary mx-auto mb-2"}),c.jsx("p",{className:"text-secondary",children:"Payment Count"}),c.jsx("p",{className:"text-xl font-bold text-foreground",children:X.payment_count})]})]})})}),c.jsxs("section",{className:"animate-slide-up",children:[c.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Payment History"}),c.jsx("div",{className:"card-dark",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-border",children:[c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Date"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Payment Type"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Amount"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Notes"})]})}),c.jsx("tbody",{children:d.map(ye=>c.jsxs("tr",{className:"border-b border-border hover:bg-accent/5",children:[c.jsx("td",{className:"py-3 px-4 text-foreground",children:new Date(ye.date).toLocaleDateString("en-IN")}),c.jsx("td",{className:"py-3 px-4",children:c.jsx("span",{className:`text-sm px-2 py-1 rounded bg-${Ne(ye.payment_type)}/20 text-${Ne(ye.payment_type)}`,children:ye.payment_type})}),c.jsx("td",{className:"py-3 px-4 text-foreground font-semibold",children:de(ye.amount)}),c.jsx("td",{className:"py-3 px-4 text-secondary",children:ye.notes})]},ye.id))})]})})})]})]})})}Ue();const oe=R();return c.jsx("div",{className:"min-h-screen bg-background p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Employee Payments"}),c.jsxs(dn,{open:s,onOpenChange:i,children:[c.jsx(yh,{asChild:!0,children:c.jsxs(Be,{className:"btn-primary",children:[c.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Add Payment"]})}),c.jsxs(tn,{className:"modal-content",children:[c.jsx(rn,{children:c.jsx(nn,{className:"text-foreground",children:o?"Edit Payment":"Add Employee Payment"})}),c.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"date",children:"Date"}),c.jsx(Ge,{id:"date",type:"date",value:M.date,onChange:X=>H({...M,date:X.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"paymentType",children:"Payment Type"}),c.jsxs(so,{value:M.payment_type,onValueChange:X=>H({...M,payment_type:X}),children:[c.jsx(Ei,{children:c.jsx(io,{placeholder:"Select payment type"})}),c.jsx(ji,{children:ae.map(X=>c.jsx(os,{value:X,children:X},X))})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx(ze,{htmlFor:"employeeName",children:"Employee Name"}),c.jsxs(Be,{type:"button",size:"sm",variant:"outline",onClick:()=>y(!0),className:"h-7 text-xs",children:[c.jsx(Pi,{className:"h-3 w-3 mr-1"}),"Add New"]})]}),c.jsx(vh,{value:M.employee_name,onValueChange:X=>H({...M,employee_name:X}),options:b,placeholder:"Select employee...",searchPlaceholder:"Search employees..."})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"amount",children:"Amount ()"}),c.jsx(Ge,{id:"amount",type:"number",step:"0.01",value:M.amount,onChange:X=>H({...M,amount:X.target.value}),required:!0})]})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"notes",children:"Notes"}),c.jsx(Ho,{id:"notes",value:M.notes,onChange:X=>H({...M,notes:X.target.value}),placeholder:"Optional notes about this payment"})]}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx(Be,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),c.jsxs(Be,{type:"submit",className:"btn-primary",children:[o?"Update":"Add"," Payment"]})]})]})]})]}),c.jsx($6,{open:w,onOpenChange:y,onEmployeeAdded:X=>{H({...M,employee_name:X}),Y()}})]}),c.jsx("section",{className:"animate-fade-in",children:c.jsxs("div",{className:"card-dark p-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Filter by Date Range"}),c.jsxs("div",{className:"flex gap-4 items-end",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"startDate",children:"Start Date"}),c.jsx(Ge,{id:"startDate",type:"date",value:m.start,onChange:X=>f({...m,start:X.target.value})})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"endDate",children:"End Date"}),c.jsx(Ge,{id:"endDate",type:"date",value:m.end,onChange:X=>f({...m,end:X.target.value})})]}),c.jsx(Be,{variant:"outline",onClick:Te,children:"Clear Filter"})]})]})}),c.jsxs("section",{className:"animate-fade-in",children:[c.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Payment Summary"}),c.jsx("div",{className:"card-metric",children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx(ad,{className:"h-8 w-8 text-success mx-auto mb-2"}),c.jsx("p",{className:"text-secondary",children:"Weekly Payments"}),c.jsx("p",{className:"text-2xl font-bold text-success",children:de(oe.reduce((X,ye)=>X+ye.amount,0))}),c.jsxs("p",{className:"text-sm text-secondary",children:[oe.length," payments"]})]}),c.jsxs("div",{className:"text-center",children:[c.jsx(Qo,{className:"h-8 w-8 text-warning mx-auto mb-2"}),c.jsx("p",{className:"text-secondary",children:"Total Payments"}),c.jsx("p",{className:"text-2xl font-bold text-warning",children:de(e.reduce((X,ye)=>X+ye.amount,0))}),c.jsxs("p",{className:"text-sm text-secondary",children:[e.length," payments"]})]}),c.jsxs("div",{className:"text-center",children:[c.jsx(Bg,{className:"h-8 w-8 text-secondary mx-auto mb-2"}),c.jsx("p",{className:"text-secondary",children:"Employees"}),c.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.length})]})]})})]}),c.jsxs("section",{className:"animate-slide-up",children:[c.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Employee Summary"}),c.jsx("div",{className:"card-dark",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-border",children:[c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Employee Name"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Total Payments"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Payment Count"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Latest Payment"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Actions"})]})}),c.jsx("tbody",{children:r.map(X=>c.jsxs("tr",{className:"border-b border-border hover:bg-accent/5",children:[c.jsx("td",{className:"py-3 px-4 text-foreground font-medium",children:X.employee_name}),c.jsx("td",{className:"py-3 px-4 text-foreground",children:de(X.total_amount)}),c.jsx("td",{className:"py-3 px-4 text-foreground",children:X.payment_count}),c.jsx("td",{className:"py-3 px-4 text-foreground",children:new Date(X.latest_payment).toLocaleDateString("en-IN")}),c.jsx("td",{className:"py-3 px-4",children:c.jsx(Be,{size:"sm",variant:"outline",onClick:()=>be(X.employee_name),children:"View History"})})]},X.employee_name))})]})})})]}),c.jsxs("section",{className:"animate-fade-in",children:[c.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Recent Payments"}),c.jsx("div",{className:"card-dark",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-border",children:[c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Date"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Employee"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Payment Type"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Amount"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Notes"}),c.jsx("th",{className:"text-left py-3 px-4 text-secondary",children:"Actions"})]})}),c.jsx("tbody",{children:e.slice(0,15).map(X=>c.jsxs("tr",{className:"border-b border-border hover:bg-accent/5",children:[c.jsx("td",{className:"py-3 px-4 text-foreground",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(id,{className:"h-4 w-4 mr-2 text-secondary"}),new Date(X.date).toLocaleDateString("en-IN")]})}),c.jsx("td",{className:"py-3 px-4 text-foreground font-medium",children:X.employee_name}),c.jsx("td",{className:"py-3 px-4",children:c.jsx("span",{className:`text-sm px-2 py-1 rounded bg-${Ne(X.payment_type)}/20 text-${Ne(X.payment_type)}`,children:X.payment_type})}),c.jsx("td",{className:"py-3 px-4 text-foreground font-semibold",children:de(X.amount)}),c.jsx("td",{className:"py-3 px-4 text-secondary",children:X.notes}),c.jsx("td",{className:"py-3 px-4",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Be,{size:"sm",variant:"outline",onClick:()=>ve(X),children:c.jsx(Dg,{className:"h-4 w-4"})}),c.jsx(Be,{size:"sm",variant:"destructive",onClick:()=>ue({open:!0,id:X.id}),children:c.jsx(fo,{className:"h-4 w-4"})})]})})]},X.id))})]})})})]}),c.jsx(Td,{open:ce.open,onOpenChange:X=>ue({...ce,open:X}),children:c.jsxs(Cc,{children:[c.jsxs(kc,{children:[c.jsx(Tc,{children:"Are you sure?"}),c.jsx(Rc,{children:"This action cannot be undone. This will permanently delete this payment record."})]}),c.jsxs(Pc,{children:[c.jsx(Oc,{children:"Cancel"}),c.jsx(Lc,{onClick:()=>me(ce.id),children:"Delete"})]})]})})]})})},Ir=x.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:Qe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ir.displayName="Card";const Gn=x.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:Qe("flex flex-col space-y-1.5 p-6",e),...t}));Gn.displayName="CardHeader";const is=x.forwardRef(({className:e,...t},r)=>c.jsx("h3",{ref:r,className:Qe("text-2xl font-semibold leading-none tracking-tight",e),...t}));is.displayName="CardTitle";const FJ=x.forwardRef(({className:e,...t},r)=>c.jsx("p",{ref:r,className:Qe("text-sm text-muted-foreground",e),...t}));FJ.displayName="CardDescription";const Nn=x.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:Qe("p-6 pt-0",e),...t}));Nn.displayName="CardContent";const BJ=x.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:Qe("flex items-center p-6 pt-0",e),...t}));BJ.displayName="CardFooter";var Fb={},s0={};const $J=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let wy=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},hR=class extends wy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},ww=class extends wy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},xw=class extends wy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var i0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(i0||(i0={}));class UJ{constructor(t,{headers:r={},customFetch:n,region:s=i0.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=$J(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ye(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:d,timeout:h}=n;let m={},{region:f}=n;f||(f=this.region);const w=new URL(`${this.url}/${r}`);f&&f!=="any"&&(m["x-region"]=f,w.searchParams.set("forceFunctionRegion",f));let y;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(m["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(m["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let b=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const v=yield this.fetch(w.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),a),body:y,signal:b}).catch(T=>{throw new hR(T)}),S=v.headers.get("x-relay-error");if(S&&S==="true")throw new ww(v);if(!v.ok)throw new xw(v);let _=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),E;return _==="application/json"?E=yield v.json():_==="application/octet-stream"||_==="application/pdf"?E=yield v.blob():_==="text/event-stream"?E=v:_==="multipart/form-data"?E=yield v.formData():E=yield v.text(),{data:E,error:null,response:v}}catch(a){return{data:null,error:a,response:a instanceof xw||a instanceof ww?a.context:void 0}}finally{i&&clearTimeout(i)}})}}const qJ=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return i0},FunctionsClient:UJ,FunctionsError:wy,FunctionsFetchError:hR,FunctionsHttpError:xw,FunctionsRelayError:ww},Symbol.toStringTag,{value:"Module"})),pR=Ah(qJ);var Mn={};const Ld=Ah(kU);var Nm={},Em={},jm={},Am={},Cm={},km={},A4;function mR(){if(A4)return km;A4=1,Object.defineProperty(km,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return km.default=e,km}var C4;function gR(){if(C4)return Cm;C4=1,Object.defineProperty(Cm,"__esModule",{value:!0});const t=Ld.__importDefault(mR());let r=class{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,d,h,m;let f=null,w=null,y=null,b=l.status,v=l.statusText;if(l.ok){if(this.method!=="HEAD"){const T=await l.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?w=T:w=JSON.parse(T))}const _=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),E=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&E&&E.length>1&&(y=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(f={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,y=null,b=406,v="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const _=await l.text();try{f=JSON.parse(_),Array.isArray(f)&&l.status===404&&(w=[],f=null,b=200,v="OK")}catch{l.status===404&&_===""?(b=204,v="No Content"):f={message:_}}if(f&&this.isMaybeSingle&&(!((m=f==null?void 0:f.details)===null||m===void 0)&&m.includes("0 rows"))&&(f=null,b=200,v="OK"),f&&this.shouldThrowOnError)throw new t.default(f)}return{error:f,data:w,count:y,status:b,statusText:v}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,d,h,m,f,w;let y="";const b=l==null?void 0:l.cause;if(b){const v=(u=b==null?void 0:b.message)!==null&&u!==void 0?u:"",S=(d=b==null?void 0:b.code)!==null&&d!==void 0?d:"";y=`${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"FetchError"}: ${l==null?void 0:l.message}`,y+=`

Caused by: ${(m=b==null?void 0:b.name)!==null&&m!==void 0?m:"Error"}: ${v}`,S&&(y+=` (${S})`),b!=null&&b.stack&&(y+=`
${b.stack}`)}else y=(f=l==null?void 0:l.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(w=l==null?void 0:l.name)!==null&&w!==void 0?w:"FetchError"}: ${l==null?void 0:l.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}};return Cm.default=r,Cm}var k4;function yR(){if(k4)return Am;k4=1,Object.defineProperty(Am,"__esModule",{value:!0});const t=Ld.__importDefault(gR());let r=class extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};return Am.default=r,Am}var P4;function Bb(){if(P4)return jm;P4=1,Object.defineProperty(jm,"__esModule",{value:!0});const t=Ld.__importDefault(yR()),r=new RegExp("[,()]");let n=class extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}};return jm.default=n,jm}var T4;function vR(){if(T4)return Em;T4=1,Object.defineProperty(Em,"__esModule",{value:!0});const t=Ld.__importDefault(Bb());let r=class{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((m,f)=>m.concat(Object.keys(f)),[]);if(h.length>0){const m=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return Em.default=r,Em}var R4;function zJ(){if(R4)return Nm;R4=1,Object.defineProperty(Nm,"__esModule",{value:!0});const e=Ld,t=e.__importDefault(vR()),r=e.__importDefault(Bb());let n=class wR{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new wR(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var d;let h;const m=new URL(`${this.url}/rpc/${i}`);let f;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{m.searchParams.append(y,b)})):(h="POST",f=o);const w=new Headers(this.headers);return u&&w.set("Prefer",`count=${u}`),new r.default({method:h,url:m,headers:w,schema:this.schemaName,body:f,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return Nm.default=n,Nm}Object.defineProperty(Mn,"__esModule",{value:!0});Mn.PostgrestError=Mn.PostgrestBuilder=Mn.PostgrestTransformBuilder=Mn.PostgrestFilterBuilder=Mn.PostgrestQueryBuilder=Mn.PostgrestClient=void 0;const Od=Ld,xR=Od.__importDefault(zJ());Mn.PostgrestClient=xR.default;const bR=Od.__importDefault(vR());Mn.PostgrestQueryBuilder=bR.default;const _R=Od.__importDefault(Bb());Mn.PostgrestFilterBuilder=_R.default;const SR=Od.__importDefault(yR());Mn.PostgrestTransformBuilder=SR.default;const NR=Od.__importDefault(gR());Mn.PostgrestBuilder=NR.default;const ER=Od.__importDefault(mR());Mn.PostgrestError=ER.default;Mn.default={PostgrestClient:xR.default,PostgrestQueryBuilder:bR.default,PostgrestFilterBuilder:_R.default,PostgrestTransformBuilder:SR.default,PostgrestBuilder:NR.default,PostgrestError:ER.default};class jR{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const VJ="2.86.2",WJ=`realtime-js/${VJ}`,AR="1.0.0",HJ="2.0.0",L4=AR,bw=1e4,GJ=1e3,KJ=100;var zl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(zl||(zl={}));var Vr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Vr||(Vr={}));var Si;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Si||(Si={}));var _w;(function(e){e.websocket="websocket"})(_w||(_w={}));var Vl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vl||(Vl={}));class JJ{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+m);let w=new DataView(f),y=0;w.setUint8(y++,this.KINDS.userBroadcastPush),w.setUint8(y++,l.length),w.setUint8(y++,a.length),w.setUint8(y++,o.length),w.setUint8(y++,u.length),w.setUint8(y++,h.length),w.setUint8(y++,r),Array.from(l,v=>w.setUint8(y++,v.charCodeAt(0))),Array.from(a,v=>w.setUint8(y++,v.charCodeAt(0))),Array.from(o,v=>w.setUint8(y++,v.charCodeAt(0))),Array.from(u,v=>w.setUint8(y++,v.charCodeAt(0))),Array.from(h,v=>w.setUint8(y++,v.charCodeAt(0)));var b=new Uint8Array(f.byteLength+n.byteLength);return b.set(new Uint8Array(f),0),b.set(new Uint8Array(n),f.byteLength),b.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+s));l=l+s;const d=n.decode(t.slice(l,l+i));l=l+i;const h=n.decode(t.slice(l,l+o));l=l+o;const m=t.slice(l,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,w={type:this.BROADCAST_EVENT,event:d,payload:f};return o>0&&(w.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class CR{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ar;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ar||(ar={}));const O4=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=YJ(o,e,t,s),i),{}):{}},YJ=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?kR(i,o):Sw(o)},kR=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return eY(t,r)}switch(e){case ar.bool:return QJ(t);case ar.float4:case ar.float8:case ar.int2:case ar.int4:case ar.int8:case ar.numeric:case ar.oid:return XJ(t);case ar.json:case ar.jsonb:return ZJ(t);case ar.timestamp:return tY(t);case ar.abstime:case ar.date:case ar.daterange:case ar.int4range:case ar.int8range:case ar.money:case ar.reltime:case ar.text:case ar.time:case ar.timestamptz:case ar.timetz:case ar.tsrange:case ar.tstzrange:return Sw(t);default:return Sw(t)}},Sw=e=>e,QJ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},XJ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ZJ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},eY=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>kR(t,a))}return e},tY=e=>typeof e=="string"?e.replace(" ","T"):e,PR=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class S1{constructor(t,r,n={},s=bw){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Nw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Nw||(Nw={}));let TR=class lg{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lg.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=lg.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=lg.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const m=d.map(b=>b.presence_ref),f=h.map(b=>b.presence_ref),w=d.filter(b=>f.indexOf(b.presence_ref)<0),y=h.filter(b=>m.indexOf(b.presence_ref)<0);w.length>0&&(a[u]=w),y.length>0&&(l[u]=y)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(f=>f.presence_ref),m=d.filter(f=>h.indexOf(f.presence_ref)<0);t[a].unshift(...m)}n(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ew;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ew||(Ew={}));var qu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qu||(qu={}));var Xi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xi||(Xi={}));const rY=Vr;let RR=class LR{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Vr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new S1(this,Si.join,this.params,this.timeout),this.rejoinTimer=new CR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Vr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Vr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Si.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new TR(this),this.broadcastEndpointURL=PR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Vr.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[qu.PRESENCE]&&this.bindings[qu.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Xi.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Xi.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var w;if(this.socket.setAuth(),f===void 0){t==null||t(Xi.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,v=[];for(let S=0;S<b;S++){const _=y[S],{filter:{event:E,schema:T,table:F,filter:D}}=_,U=f&&f[S];if(U&&U.event===E&&U.schema===T&&U.table===F&&U.filter===D)v.push(Object.assign(Object.assign({},_),{id:U.id}));else{this.unsubscribe(),this.state=Vr.errored,t==null||t(Xi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Xi.SUBSCRIBED);return}}).receive("error",f=>{this.state=Vr.errored,t==null||t(Xi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Xi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Vr.joined&&t===qu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Vr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Si.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new S1(this,Si.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new S1(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>KJ){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=Si;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var w,y,b;return((w=f.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(y=f.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(f=>f.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var w,y,b,v,S,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const E=f.id,T=(w=f.filter)===null||w===void 0?void 0:w.event;return E&&((y=r.ids)===null||y===void 0?void 0:y.includes(E))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const E=(S=(v=f==null?void 0:f.filter)===null||v===void 0?void 0:v.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return E==="*"||E===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:y,table:b,commit_timestamp:v,type:S,errors:_}=w;m=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:v,eventType:S,new:{},old:{},errors:_}),this._getPayloadRecords(w))}f.callback(m,n)})}_isClosed(){return this.state===Vr.closed}_isJoined(){return this.state===Vr.joined}_isJoining(){return this.state===Vr.joining}_isLeaving(){return this.state===Vr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&LR.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Si.close,{},t)}_onError(t){this._on(Si.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=O4(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=O4(t.columns,t.old_record)),r}};const N1=()=>{},Pm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nY=[1e3,2e3,5e3,1e4],sY=1e4,iY=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let oY=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bw,this.transport=null,this.heartbeatIntervalMs=Pm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=N1,this.ref=0,this.reconnectTimer=null,this.vsn=L4,this.logger=N1,this.conn=null,this.sendBuffer=[],this.serializer=new JJ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${_w.websocket}`,this.httpEndpoint=PR(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jR.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case zl.connecting:return Vl.Connecting;case zl.open:return Vl.Open;case zl.closing:return Vl.Closing;default:return Vl.Closed}}isConnected(){return this.connectionState()===Vl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new RR(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(GJ,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Pm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===zl.open||this.conn.readyState===zl.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Si.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([iY],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:WJ};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Si.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new CR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,a,l,u,d,h,m,f;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:bw,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Pm.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:N1,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:L4,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:w=>nY[w-1]||sY,this.vsn){case AR:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(w,y)=>y(JSON.stringify(w)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(w,y)=>y(JSON.parse(w));break;case HJ:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const aY=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:rY,get REALTIME_LISTEN_TYPES(){return qu},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Ew},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Nw},get REALTIME_SUBSCRIBE_STATES(){return Xi},RealtimeChannel:RR,RealtimeClient:oY,RealtimePresence:TR,WebSocketFactory:jR},Symbol.toStringTag,{value:"Module"})),OR=Ah(aY);class ep extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function yr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class IR extends ep{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class o0 extends ep{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const $b=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lY=()=>Response,jw=e=>{if(Array.isArray(e))return e.map(r=>jw(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=jw(n)}),t},cY=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},uY=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),E1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},dY=(e,t,r)=>Ye(void 0,void 0,void 0,function*(){const n=yield lY();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new IR(E1(s),i,o))}).catch(s=>{t(new o0(E1(s),s))}):t(new o0(E1(e),e))}),fY=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(cY(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function tp(e,t,r,n,s,i){return Ye(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,fY(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>dY(l,a,n))})})}function _h(e,t,r,n){return Ye(this,void 0,void 0,function*(){return tp(e,"GET",t,r,n)})}function wi(e,t,r,n,s){return Ye(this,void 0,void 0,function*(){return tp(e,"POST",t,n,s,r)})}function Aw(e,t,r,n,s){return Ye(this,void 0,void 0,function*(){return tp(e,"PUT",t,n,s,r)})}function hY(e,t,r,n){return Ye(this,void 0,void 0,function*(){return tp(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ub(e,t,r,n,s){return Ye(this,void 0,void 0,function*(){return tp(e,"DELETE",t,n,s,r)})}class pY{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Ye(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yr(t))return{data:null,error:t};throw t}})}}var DR;class mY{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[DR]="BlobDownloadBuilder",this.promise=null}asStream(){return new pY(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ye(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(yr(t))return{data:null,error:t};throw t}})}}DR=Symbol.toStringTag;const gY={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},I4={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yY{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=$b(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return Ye(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},I4),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?Aw:wi)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(yr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ye(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:I4.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Aw(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(yr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Ye(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield wi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ep("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ye(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yr(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ye(this,void 0,void 0,function*(){try{return{data:{path:(yield wi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yr(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ye(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield wi(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yr(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ye(this,void 0,void 0,function*(){try{const s=yield wi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yr(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(t),l=()=>_h(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new mY(l,this.shouldThrowOnError)}info(t){return Ye(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield _h(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:jw(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yr(n))return{data:null,error:n};throw n}})}exists(t){return Ye(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield hY(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yr(n)&&n instanceof o0){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Ub(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ye(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},gY),r),{prefix:t||""});return{data:yield wi(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yr(s))return{data:null,error:s};throw s}})}listV2(t,r){return Ye(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield wi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const MR="2.86.2",FR={"X-Client-Info":`storage-js/${MR}`};class vY{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FR),r),this.fetch=$b(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ye(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield _h(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}getBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield _h(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}createBucket(t){return Ye(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield wi(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(yr(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return Ye(this,void 0,void 0,function*(){try{return{data:yield Aw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Ub(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Sh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function wY(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function xY(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function bY(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=wY(e.baseUrl,n,s),l=await xY(e.auth),u=await t(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),m=h&&d?JSON.parse(d):d;if(!u.ok){const f=h?m:void 0,w=f==null?void 0:f.error;throw new Sh((w==null?void 0:w.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:f})}return{status:u.status,headers:u.headers,data:m}}}}function Tm(e){return e.join("")}var _Y=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Tm(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Tm(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tm(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Tm(e.namespace)}`}),!0}catch(t){if(t instanceof Sh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Sh&&r.status===409)return;throw r}}};function su(e){return e.join("")}var SY=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${su(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${su(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${su(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${su(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${su(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${su(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Sh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Sh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},NY=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=bY({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new _Y(this.client,t),this.tableOps=new SY(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class BR{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FR),r),this.fetch=$b(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}listBuckets(t){return Ye(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield _h(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Ub(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yr(r))return{data:null,error:r};throw r}})}from(t){if(!uY(t))throw new ep("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new NY({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ye(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const qb={"X-Client-Info":`storage-js/${MR}`,"Content-Type":"application/json"};class zb extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ls(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class cg extends zb{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $R extends zb{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Cw;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Cw||(Cw={}));const xy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),EY=()=>Response,UR=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},jY=e=>Array.from(new Float32Array(e)),AY=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},D4=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CY=(e,t,r)=>Ye(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new cg(D4(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new cg(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new cg(a,s,o))}}else t(new $R(D4(e),e))}),kY=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(UR(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function PY(e,t,r,n,s,i){return Ye(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,kY(t,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>CY(l,a,n))})})}function Ts(e,t,r,n,s){return Ye(this,void 0,void 0,function*(){return PY(e,"POST",t,n,s,r)})}class qR{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qb),r),this.fetch=xy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Ts(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ls(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Ye(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ls(n))return{data:null,error:n};throw n}})}listIndexes(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ls(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Ts(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ls(n))return{data:null,error:n};throw n}})}}class zR{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qb),r),this.fetch=xy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ye(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ts(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ls(r))return{data:null,error:r};throw r}})}getVectors(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ls(r))return{data:null,error:r};throw r}})}listVectors(t){return Ye(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ts(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ls(r))return{data:null,error:r};throw r}})}queryVectors(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ls(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Ye(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ts(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ls(r))return{data:null,error:r};throw r}})}}class VR{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qb),r),this.fetch=xy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Ts(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ls(r))return{data:null,error:r};throw r}})}getBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ls(r))return{data:null,error:r};throw r}})}listBuckets(){return Ye(this,arguments,void 0,function*(t={}){try{return{data:yield Ts(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ls(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Ts(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ls(r))return{data:null,error:r};throw r}})}}class WR extends VR{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new HR(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ye(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ye(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ye(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ye(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class HR extends qR{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ye(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ye(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ye(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ye(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new GR(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class GR extends zR{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ye(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ye(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ye(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ye(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ye(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class TY extends vY{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new yY(this.url,this.headers,t,this.fetch)}get vectors(){return new WR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new BR(this.url+"/iceberg",this.headers,this.fetch)}}const RY=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:BR,StorageApiError:IR,StorageClient:TY,StorageError:ep,StorageUnknownError:o0,StorageVectorsApiError:cg,StorageVectorsClient:WR,StorageVectorsError:zb,get StorageVectorsErrorCode(){return Cw},StorageVectorsUnknownError:$R,VectorBucketApi:VR,VectorBucketScope:HR,VectorDataApi:zR,VectorIndexApi:qR,VectorIndexScope:GR,isPlainObject:UR,isStorageError:yr,isStorageVectorsError:ls,normalizeToFloat32:jY,resolveFetch:xy,resolveResponse:EY,validateVectorDimension:AY},Symbol.toStringTag,{value:"Module"})),LY=Ah(RY);var KR={},by={};Object.defineProperty(by,"__esModule",{value:!0});by.version=void 0;by.version="2.86.2";(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=by;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(KR);var JR={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=s=>s?(...i)=>s(...i):(...i)=>fetch(...i);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(s,i,o)=>{const a=(0,e.resolveFetch)(o),l=(0,e.resolveHeadersConstructor)();return async(u,d)=>{var h;const m=(h=await i())!==null&&h!==void 0?h:s;let f=new l(d==null?void 0:d.headers);return f.has("apikey")||f.set("apikey",s),f.has("Authorization")||f.set("Authorization",`Bearer ${m}`),a(u,Object.assign(Object.assign({},d),{headers:f}))}};e.fetchWithAuth=n})(JR);var gl={};Object.defineProperty(gl,"__esModule",{value:!0});gl.isBrowser=void 0;gl.uuid=OY;gl.ensureTrailingSlash=YR;gl.applySettingDefaults=DY;gl.validateSupabaseUrl=MY;function OY(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e=="x"?t:t&3|8;return r.toString(16)})}function YR(e){return e.endsWith("/")?e:e+"/"}const IY=()=>typeof window<"u";gl.isBrowser=IY;function DY(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:d,global:h}=t,m={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function MY(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(YR(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var _y={};const QR="2.86.2",fu=30*1e3,kw=3,j1=kw*fu,FY="http://localhost:9999",BY="supabase.auth.token",$Y={"X-Client-Info":`gotrue-js/${QR}`},Pw="X-Supabase-Api-Version",XR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UY=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qY=10*60*1e3;let yd=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function it(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let ZR=class extends yd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function e8(e){return it(e)&&e.name==="AuthApiError"}let La=class extends yd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},ra=class extends yd{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}},ns=class extends ra{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function t8(e){return it(e)&&e.name==="AuthSessionMissingError"}let Bl=class extends ra{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Pf=class extends ra{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Tf=class extends ra{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function r8(e){return it(e)&&e.name==="AuthImplicitGrantRedirectError"}let Tw=class extends ra{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},a0=class extends ra{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function ug(e){return it(e)&&e.name==="AuthRetryableFetchError"}let Rw=class extends ra{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function zY(e){return it(e)&&e.name==="AuthWeakPasswordError"}let l0=class extends ra{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const c0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),M4=` 	
\r=`.split(""),VY=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<M4.length;t+=1)e[M4[t].charCodeAt(0)]=-2;for(let t=0;t<c0.length;t+=1)e[c0[t].charCodeAt(0)]=t;return e})();function F4(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(c0[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(c0[n]),t.queuedBits-=6}}function n8(e,t,r){const n=VY[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function B4(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{GY(o,n,r)};for(let o=0;o<e.length;o+=1)n8(e.charCodeAt(o),s,i);return t.join("")}function WY(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function HY(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}WY(n,t)}}function GY(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function zu(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)n8(e.charCodeAt(s),r,n);return new Uint8Array(t)}function KY(e){const t=[];return HY(e,r=>t.push(r)),new Uint8Array(t)}function Jl(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>F4(s,r,n)),F4(null,r,n),t.join("")}function JY(e){return Math.round(Date.now()/1e3)+e}function YY(){return Symbol("auth-callback")}const bn=()=>typeof window<"u"&&typeof document<"u",Ol={tested:!1,writable:!1},s8=()=>{if(!bn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ol.tested)return Ol.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ol.tested=!0,Ol.writable=!0}catch{Ol.tested=!0,Ol.writable=!1}return Ol.writable};function QY(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const i8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),XY=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",hu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Il=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xn=async(e,t)=>{await e.removeItem(t)};class Sy{constructor(){this.promise=new Sy.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Sy.promiseConstructor=Promise;function A1(e){const t=e.split(".");if(t.length!==3)throw new l0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!UY.test(t[n]))throw new l0("JWT not in base64url format");return{header:JSON.parse(B4(t[0])),payload:JSON.parse(B4(t[1])),signature:zu(t[2]),raw:{header:t[0],payload:t[1]}}}async function ZY(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function eQ(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function tQ(e){return("0"+e.toString(16)).substr(-2)}function rQ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,tQ).join("")}async function nQ(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function sQ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await nQ(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function iu(e,t,r=!1){const n=rQ();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await hu(e,`${t}-code-verifier`,s);const i=await sQ(n);return[i,n===i?"plain":"s256"]}const iQ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oQ(e){const t=e.headers.get(Pw);if(!t||!t.match(iQ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function aQ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lQ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cQ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ou(e){if(!cQ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function C1(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uQ(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function $4(e){return JSON.parse(JSON.stringify(e))}const $l=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dQ=[502,503,504];async function U4(e){var t;if(!XY(e))throw new a0($l(e),0);if(dQ.includes(e.status))throw new a0($l(e),e.status);let r;try{r=await e.json()}catch(i){throw new La($l(i),i)}let n;const s=oQ(e);if(s&&s.getTime()>=XR["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Rw($l(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ns}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Rw($l(r),e.status,r.weak_password.reasons);throw new ZR($l(r),e.status||500,n)}const fQ=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function pt(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Pw]||(i[Pw]=XR["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await hQ(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function hQ(e,t,r,n,s,i){const o=fQ(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new a0($l(l),0)}if(a.ok||await U4(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await U4(l)}}function mi(e){var t;let r=null;gQ(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=JY(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function q4(e){const t=mi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Oa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pQ(e){return{data:e,error:null}}function mQ(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=ul(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function z4(e){return e}function gQ(e){return e.access_token&&e.refresh_token&&e.expires_in}const dg=["global","local","others"];let Vb=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=i8(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=dg[0]){if(dg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dg.join(", ")}`);try{return await pt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await pt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Oa})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ul(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await pt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mQ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(it(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await pt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Oa})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await pt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:z4});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(it(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ou(t);try{return await pt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Oa})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ou(t);try{return await pt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Oa})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ou(t);try{return await pt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Oa})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ou(t.userId);try{const{data:r,error:n}=await pt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(it(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ou(t.userId),ou(t.id);try{return{data:await pt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await pt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:z4});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(it(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await pt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await pt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await pt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(it(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await pt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await pt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(it(r))return{data:null,error:r};throw r}}};function V4(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ul={debug:!!(globalThis&&s8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let o8=class extends Wb{};class yQ extends Wb{}async function a8(e,t,r){Ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ul.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new o8(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ul.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const W4={};async function vQ(e,t,r){var n;const s=(n=W4[e])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([s.catch(()=>null),t>=0?new Promise((o,a)=>{setTimeout(()=>{a(new yQ(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return W4[e]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await s,null;throw o}),await i}function wQ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function l8(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function xQ(e){return parseInt(e,16)}function bQ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function _Q(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:h,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=l8(e.address),w=d?`${d}://${n}`:n,y=e.statement?`${e.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${f}

${y}`;let v=`URI: ${h}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let S=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);S+=`
- ${_}`}v+=S}return`${b}
${v}`}class Wr extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class u0 extends Wr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function SQ({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Wr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Wr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Wr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Wr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Wr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Wr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Wr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Wr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(c8(o)){if(i.rp.id!==o)return new Wr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Wr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Wr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Wr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Wr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function NQ({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Wr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Wr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(c8(n)){if(r.rpId!==n)return new Wr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Wr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Wr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Wr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class EQ{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const jQ=new EQ;function AQ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=ul(e,["challenge","user","excludeCredentials"]),i=zu(t).buffer,o=Object.assign(Object.assign({},r),{id:zu(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:zu(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function CQ(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ul(e,["challenge","allowCredentials"]),s=zu(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:zu(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function kQ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Jl(new Uint8Array(e.response.attestationObject)),clientDataJSON:Jl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function PQ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Jl(new Uint8Array(s.authenticatorData)),clientDataJSON:Jl(new Uint8Array(s.clientDataJSON)),signature:Jl(new Uint8Array(s.signature)),userHandle:s.userHandle?Jl(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function c8(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function H4(){var e,t;return!!(bn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function TQ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new u0("Browser returned unexpected credential type",t)}:{data:null,error:new u0("Empty credential response",t)}}catch(t){return{data:null,error:SQ({error:t,options:e})}}}async function RQ(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new u0("Browser returned unexpected credential type",t)}:{data:null,error:new u0("Empty credential response",t)}}catch(t){return{data:null,error:NQ({error:t,options:e})}}}const LQ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},OQ={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function d0(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const a=n[i];t(a)?n[i]=d0(a,o):n[i]=d0(o)}else n[i]=o}return n}function IQ(e,t){return d0(LQ,e,t||{})}function DQ(e,t){return d0(OQ,e,t||{})}class MQ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:a};const l=s??jQ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=IQ(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await TQ({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=DQ(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await RQ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return it(o)?{data:null,error:o}:{data:null,error:new La("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new yd("rpId is required for WebAuthn authentication")};try{if(!H4())return{data:null,error:new La("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return it(o)?{data:null,error:o}:{data:null,error:new La("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new yd("rpId is required for WebAuthn registration")};try{if(!H4())return{data:null,error:new La("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return it(o)?{data:null,error:o}:{data:null,error:new La("Unexpected error in register",o)}}}}wQ();const FQ={url:FY,storageKey:BY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$Y,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function G4(e,t,r){return await r()}const au={};let Hb=class Lw{get jwks(){var t,r;return(r=(t=au[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){au[this.storageKey]=Object.assign(Object.assign({},au[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=au[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){au[this.storageKey]=Object.assign(Object.assign({},au[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},FQ),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Lw.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Lw.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&bn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Vb({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=i8(i.fetch),this.lock=i.lock||G4,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:bn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=a8:this.lock=G4,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new MQ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:s8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=V4(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=V4(this.memoryStorage)),bn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${QR}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(bn()&&(r=QY(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),bn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),r8(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return it(r)?this._returnResult({error:r}):this._returnResult({error:new La("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:mi}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(it(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:m}=t;let f=null,w=null;this.flowType==="pkce"&&([f,w]=await iu(this.storage,this.storageKey)),i=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:w},xform:mi})}else if("phone"in t){const{phone:d,password:h,options:m}=t;i=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:mi})}else throw new Pf("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await xn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await xn(this.storage,`${this.storageKey}-code-verifier`),it(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:q4})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:q4})}else throw new Pf("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Bl;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,a,l,u,d,h,m;let f,w;if("message"in t)f=t.message,w=t.signature;else{const{chain:y,wallet:b,statement:v,options:S}=t;let _;if(bn())if(typeof b=="object")_=b;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")_=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const E=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href),T=await _.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=l8(T[0]);let D=(n=S==null?void 0:S.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!D){const B=await _.request({method:"eth_chainId"});D=xQ(B)}const U={domain:E.host,address:F,statement:v,uri:E.href,version:"1",chainId:D,nonce:(s=S==null?void 0:S.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=S==null?void 0:S.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=S==null?void 0:S.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=S==null?void 0:S.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=_Q(U),w=await _.request({method:"personal_sign",params:[bQ(f),F]})}try{const{data:y,error:b}=await pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:w},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:mi});if(b)throw b;if(!y||!y.session||!y.user){const v=new Bl;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(it(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,s,i,o,a,l,u,d,h,m,f;let w,y;if("message"in t)w=t.message,y=t.signature;else{const{chain:b,wallet:v,statement:S,options:_}=t;let E;if(bn())if(typeof v=="object")E=v;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))E=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=v}const T=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const F=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),S?{statement:S}:null));let D;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")D=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)D=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)w=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),y=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${T.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const F=await E.signMessage(new TextEncoder().encode(w),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=F}}try{const{data:b,error:v}=await pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Jl(y)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:mi});if(v)throw v;if(!b||!b.session||!b.user){const S=new Bl;return this._returnResult({data:{user:null,session:null},error:S})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(it(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await Il(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await pt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:mi});if(await xn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Bl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await xn(this.storage,`${this.storageKey}-code-verifier`),it(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:mi}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Bl;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await iu(this.storage,this.storageKey));const{error:h}=await pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Pf("You must provide either an email or phone number.")}catch(a){if(await xn(this.storage,`${this.storageKey}-code-verifier`),it(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await pt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:mi});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(it(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await iu(this.storage,this.storageKey));const u=await pt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:pQ});return!((i=u.data)===null||i===void 0)&&i.url&&bn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await xn(this.storage,`${this.storageKey}-code-verifier`),it(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ns;const{error:s}=await pt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(it(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await pt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await pt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Pf("You must provide either an email or phone number and a type")}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Il(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<j1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Il(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=C1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=uQ(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Oa}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ns}:await pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Oa})})}catch(r){if(it(r))return t8(r)&&(await this._removeSession(),await xn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ns;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await iu(this.storage,this.storageKey));const{data:u,error:d}=await pt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Oa});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await xn(this.storage,`${this.storageKey}-code-verifier`),it(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ns;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=A1(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(it(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ns;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!bn())throw new Tf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Tf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Tw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Tf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Tw("No code detected.");const{data:S,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Tf("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let m=d+h;l&&(m=parseInt(l));const f=m-d;f*1e3<=fu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const w=m-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,d);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(it(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Il(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(e8(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await xn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=YY(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await iu(this.storage,this.storageKey,!0));try{return await pt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await xn(this.storage,`${this.storageKey}-code-verifier`),it(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:m}=i;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await pt(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return bn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(it(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:d}=t,h=await pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:mi}),{data:m,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Bl}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:f}))}catch(s){if(await xn(this.storage,`${this.storageKey}-code-verifier`),it(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await pt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await eQ(async s=>(s>0&&await ZY(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await pt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:mi})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ug(i)&&Date.now()+o-n<fu})}catch(n){if(this._debug(r,"error",n),it(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),bn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Il(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Il(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await hu(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:C1()}else if(s&&!s.user&&!s.user){const o=await Il(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await xn(this.storage,this.storageKey+"-user"),await hu(this.storage,this.storageKey,s)):s.user=C1()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<j1;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${j1}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ug(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ns;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Sy;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ns;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),it(i)){const o={data:null,error:i};return ug(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await xn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await hu(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=$4(s);await hu(this.storage,this.storageKey,i)}else{const s=$4(r);await hu(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await xn(this.storage,this.storageKey),await xn(this.storage,this.storageKey+"-code-verifier"),await xn(this.storage,this.storageKey+"-user"),this.userStorage&&await xn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&bn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),fu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/fu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${fu}ms, refresh threshold is ${kw} ticks`),s<=kw&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Wb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await iu(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await pt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await pt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?kQ(t.webauthn.credential_response):PQ(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await pt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await pt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:AQ(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:CQ(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=A1(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await pt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ns})})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ns});const o=await pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&bn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(it(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ns});const o=await pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&bn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(it(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await pt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ns})})}catch(t){if(it(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await pt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ns})})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+qY>s)return n;const{data:i,error:o}=await pt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:w}=await this.getSession();if(w||!f.session)return this._returnResult({data:null,error:w});n=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=A1(n);r!=null&&r.allowExpired||aQ(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const d=lQ(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,KY(`${a}.${l}`)))throw new l0("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(it(n))return this._returnResult({data:null,error:n});throw n}}};Hb.nextInstanceID={};const BQ=Vb,$Q=Hb,UQ=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:BQ,AuthApiError:ZR,AuthClient:$Q,AuthError:yd,AuthImplicitGrantRedirectError:Tf,AuthInvalidCredentialsError:Pf,AuthInvalidJwtError:l0,AuthInvalidTokenResponseError:Bl,AuthPKCEGrantCodeExchangeError:Tw,AuthRetryableFetchError:a0,AuthSessionMissingError:ns,AuthUnknownError:La,AuthWeakPasswordError:Rw,CustomAuthError:ra,GoTrueAdminApi:Vb,GoTrueClient:Hb,NavigatorLockAcquireTimeoutError:o8,SIGN_OUT_SCOPES:dg,isAuthApiError:e8,isAuthError:it,isAuthImplicitGrantRedirectError:r8,isAuthRetryableFetchError:ug,isAuthSessionMissingError:t8,isAuthWeakPasswordError:zY,lockInternals:Ul,navigatorLock:a8,processLock:vQ},Symbol.toStringTag,{value:"Module"})),u8=Ah(UQ);Object.defineProperty(_y,"__esModule",{value:!0});_y.SupabaseAuthClient=void 0;const qQ=u8;class zQ extends qQ.AuthClient{constructor(t){super(t)}}_y.SupabaseAuthClient=zQ;Object.defineProperty(s0,"__esModule",{value:!0});const VQ=pR,WQ=Mn,HQ=OR,GQ=LY,Rm=KR,KQ=JR,K4=gl,JQ=_y;let YQ=class{constructor(t,r,n){var s,i,o;this.supabaseUrl=t,this.supabaseKey=r;const a=(0,K4.validateSupabaseUrl)(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Rm.DEFAULT_DB_OPTIONS,realtime:Rm.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},Rm.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:Rm.DEFAULT_GLOBAL_OPTIONS},d=(0,K4.applySettingDefaults)(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=(0,KQ.fetchWithAuth)(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new WQ.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new GQ.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new VQ.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:d},h,m){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JQ.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),h),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new HQ.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};s0.default=YQ;(function(e){var t=Yc&&Yc.__createBinding||(Object.create?function(d,h,m,f){f===void 0&&(f=m);var w=Object.getOwnPropertyDescriptor(h,m);(!w||("get"in w?!h.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(d,f,w)}:function(d,h,m,f){f===void 0&&(f=m),d[f]=h[m]}),r=Yc&&Yc.__exportStar||function(d,h){for(var m in d)m!=="default"&&!Object.prototype.hasOwnProperty.call(h,m)&&t(h,d,m)},n=Yc&&Yc.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const s=n(s0);r(u8,e);var i=Mn;Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=pR;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(OR,e);var a=s0;Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(a).default}});const l=(d,h,m)=>new s.default(d,h,m);e.createClient=l;function u(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const h=d.match(/^v(\d+)\./);return h?parseInt(h[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Fb);const d8=Dw(Fb),QQ=sE({__proto__:null,default:d8},[Fb]),{PostgrestError:yZ,FunctionsHttpError:vZ,FunctionsFetchError:wZ,FunctionsRelayError:xZ,FunctionsError:bZ,FunctionRegion:_Z,SupabaseClient:SZ,createClient:XQ,GoTrueAdminApi:NZ,GoTrueClient:EZ,AuthAdminApi:jZ,AuthClient:AZ,navigatorLock:CZ,NavigatorLockAcquireTimeoutError:kZ,lockInternals:PZ,processLock:TZ,SIGN_OUT_SCOPES:RZ,AuthError:LZ,AuthApiError:OZ,AuthUnknownError:IZ,CustomAuthError:DZ,AuthSessionMissingError:MZ,AuthInvalidTokenResponseError:FZ,AuthInvalidCredentialsError:BZ,AuthImplicitGrantRedirectError:$Z,AuthPKCEGrantCodeExchangeError:UZ,AuthRetryableFetchError:qZ,AuthWeakPasswordError:zZ,AuthInvalidJwtError:VZ,isAuthError:WZ,isAuthApiError:HZ,isAuthSessionMissingError:GZ,isAuthImplicitGrantRedirectError:KZ,isAuthRetryableFetchError:JZ,isAuthWeakPasswordError:YZ,RealtimePresence:QZ,RealtimeChannel:XZ,RealtimeClient:ZZ,REALTIME_LISTEN_TYPES:eee,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:tee,REALTIME_PRESENCE_LISTEN_EVENTS:ree,REALTIME_SUBSCRIBE_STATES:nee,REALTIME_CHANNEL_STATES:see}=d8||QQ,ZQ="https://vgkjqhcxovbngcenreml.supabase.co",eX="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZna2pxaGN4b3ZibmdjZW5yZW1sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg0MzgxMTIsImV4cCI6MjA3NDAxNDExMn0.gLRutgG0trrvFMXz9DK7DxESmOvRmJOI0FJLBhgkpQw",Do=XQ(ZQ,eX,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),tX=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,a]=x.useState({startDate:(()=>{const w=new Date,y=w.getDay(),b=w.getDate()-y+(y===0?-6:1);return new Date(w.setDate(b)).toISOString().split("T")[0]})(),endDate:(()=>{const w=new Date,y=w.getDay(),b=w.getDate()-y+(y===0?0:7);return new Date(w.setDate(b)).toISOString().split("T")[0]})()}),{toast:l}=gs(),u=w=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(w),d=w=>new Date(w).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),h=async()=>{const{data:{user:w}}=await Do.auth.getUser();if(!w)return;const{data:y}=await Do.from("factories").select("id").eq("owner_id",w.id).maybeSingle();y&&i(y.id)};x.useEffect(()=>{h()},[]),x.useEffect(()=>{s&&m()},[s]);const m=async()=>{var w,y;if(s){n(!0);try{const{data:b}=await Do.from("factory_rates").select("*").eq("factory_id",s).eq("is_active",!0),v=((w=b==null?void 0:b.find(be=>be.rate_type==="production_per_punch"))==null?void 0:w.rate_amount)||15,S=((y=b==null?void 0:b.find(be=>be.rate_type==="loading_per_brick"))==null?void 0:y.rate_amount)||2,{data:_}=await Do.from("production_logs").select("*, product_definitions(*)").eq("factory_id",s).gte("date",o.startDate).lte("date",o.endDate).order("date"),{data:E}=await Do.from("sales").select("*, product_definitions(*)").eq("factory_id",s).gte("date",o.startDate).lte("date",o.endDate).order("date"),{data:T}=await Do.from("material_purchases").select("*, materials(*)").eq("factory_id",s).gte("date",o.startDate).lte("date",o.endDate).order("date"),{data:F}=await Do.from("material_usage").select("*, materials(*)").eq("factory_id",s).gte("date",o.startDate).lte("date",o.endDate).order("date"),{data:D}=await Do.from("employee_payments").select("*").eq("factory_id",s).gte("date",o.startDate).lte("date",o.endDate).order("date"),{data:U}=await Do.from("other_expenses").select("*").eq("factory_id",s).gte("date",o.startDate).lte("date",o.endDate).order("date"),B=new Map;let K=0;_==null||_.forEach(be=>{var R;const Ne=((R=be.product_definitions)==null?void 0:R.name)||"Unknown",Ue=B.get(Ne)||{name:Ne,quantity:0,punches:0};Ue.quantity+=be.quantity,Ue.punches+=be.punches||0,K+=be.punches||0,B.set(Ne,Ue)});const L=(E==null?void 0:E.reduce((be,Ne)=>be+Number(Ne.total_amount),0))||0,k=(E==null?void 0:E.reduce((be,Ne)=>be+Ne.quantity_sold,0))||0,W=(E==null?void 0:E.reduce((be,Ne)=>be+Number(Ne.balance_due),0))||0,P=new Map,Z=new Map;let ne=0;T==null||T.forEach(be=>{var Te;const Ne=((Te=be.materials)==null?void 0:Te.material_name)||"Unknown",Ue=Number(be.quantity_purchased)*Number(be.unit_cost),R=P.get(Ne)||{name:Ne,quantity:0,cost:0};R.quantity+=Number(be.quantity_purchased),R.cost+=Ue,ne+=Ue,P.set(Ne,R)}),F==null||F.forEach(be=>{var R;const Ne=((R=be.materials)==null?void 0:R.material_name)||"Unknown",Ue=Z.get(Ne)||{name:Ne,quantity:0};Ue.quantity+=Number(be.quantity_used),Z.set(Ne,Ue)});let ie=0,M=0,H=0,ae=0;D==null||D.forEach(be=>{const Ne=Number(be.amount);switch(be.payment_type.toLowerCase()){case"salary":ie+=Ne;break;case"advance":M+=Ne;break;case"bonus":H+=Ne;break;case"incentive":ae+=Ne;break;default:ie+=Ne}});const de=ie+M+H+ae,C=K*v,q=k*S,V=ne+C+q;let Y=0,se=0,Q=0,ce=0,ue=0;U==null||U.forEach(be=>{const Ne=Number(be.amount);switch(be.expense_type.toLowerCase()){case"transport":Y+=Ne;break;case"utilities":se+=Ne;break;case"office salaries":case"salaries":Q+=Ne;break;case"repairs":ce+=Ne;break;default:ue+=Ne}});const me=Y+se+Q+ce+ue,ve=L-V-de-me;t({startDate:o.startDate,endDate:o.endDate,production:{totalPunches:K,byType:Array.from(B.values())},sales:{totalRevenue:L,totalQtySold:k,outstandingBalance:W,records:E||[]},materials:{purchased:Array.from(P.values()),used:Array.from(Z.values()),totalPurchaseCost:ne},payments:{salary:ie,advance:M,bonus:H,incentive:ae,total:de,records:D||[]},cogs:{materialCost:ne,productionWages:C,loadingWages:q,totalCOGS:V},expenses:{transport:Y,utilities:se,salaries:Q,repairs:ce,miscellaneous:ue,total:me,records:U||[]},netProfit:ve,productionRecords:_||[],purchaseRecords:T||[],usageRecords:F||[]}),l({title:"Report generated successfully"})}catch(b){console.error("Error generating report:",b),l({title:"Error generating report",description:"Please try again",variant:"destructive"})}finally{n(!1)}}},f=()=>{if(!e)return;const w=[];w.push("BrickWorks Manager - Detailed Report"),w.push(`Period: ${d(e.startDate)} to ${d(e.endDate)}`),w.push(""),w.push("=== SUMMARY ==="),w.push(`Net Profit,${e.netProfit}`),w.push(`Total Revenue,${e.sales.totalRevenue}`),w.push(`Total COGS,${e.cogs.totalCOGS}`),w.push(`Total Payments,${e.payments.total}`),w.push(`Total Expenses,${e.expenses.total}`),w.push(""),w.push("=== PRODUCTION RECORDS ==="),w.push("Date,Product,Quantity,Punches,Remarks"),e.productionRecords.forEach(_=>{var E;w.push(`${_.date},${((E=_.product_definitions)==null?void 0:E.name)||_.product_name},${_.quantity},${_.punches||""},${_.remarks||""}`)}),w.push(""),w.push("=== SALES RECORDS ==="),w.push("Date,Customer,Phone,Product,Quantity,Rate,Total,Received,Balance,Notes"),e.sales.records.forEach(_=>{var E;w.push(`${_.date},${_.customer_name},${_.customer_phone||""},${((E=_.product_definitions)==null?void 0:E.name)||""},${_.quantity_sold},${_.rate_per_brick},${_.total_amount},${_.amount_received},${_.balance_due},${_.notes||""}`)}),w.push(""),w.push("=== MATERIAL PURCHASES ==="),w.push("Date,Material,Supplier,Quantity,Unit Cost,Total Cost,Payment Made,Notes"),e.purchaseRecords.forEach(_=>{var T;const E=Number(_.quantity_purchased)*Number(_.unit_cost);w.push(`${_.date},${((T=_.materials)==null?void 0:T.material_name)||""},${_.supplier_name},${_.quantity_purchased},${_.unit_cost},${E},${_.payment_made||0},${_.notes||""}`)}),w.push(""),w.push("=== MATERIAL USAGE ==="),w.push("Date,Material,Quantity,Purpose"),e.usageRecords.forEach(_=>{var E;w.push(`${_.date},${((E=_.materials)==null?void 0:E.material_name)||""},${_.quantity_used},${_.purpose}`)}),w.push(""),w.push("=== EMPLOYEE PAYMENTS ==="),w.push("Date,Employee,Type,Amount,Notes"),e.payments.records.forEach(_=>{w.push(`${_.date},${_.employee_name},${_.payment_type},${_.amount},${_.notes||""}`)}),w.push(""),w.push("=== OTHER EXPENSES ==="),w.push("Date,Type,Description,Amount,Vendor,Receipt,Notes"),e.expenses.records.forEach(_=>{w.push(`${_.date},${_.expense_type},${_.description},${_.amount},${_.vendor_name||""},${_.receipt_number||""},${_.notes||""}`)});const y=w.join(`
`),b=new Blob([y],{type:"text/csv"}),v=window.URL.createObjectURL(b),S=document.createElement("a");S.href=v,S.download=`brickworks-report-${e.startDate}-to-${e.endDate}.csv`,S.click(),window.URL.revokeObjectURL(v),l({title:"Report exported successfully"})};return c.jsx("div",{className:"min-h-screen bg-background p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Reports"}),e&&c.jsxs(Be,{onClick:f,className:"btn-secondary",children:[c.jsx(Gj,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),c.jsxs(Ir,{className:"card-dark",children:[c.jsx(Gn,{children:c.jsxs(is,{className:"text-foreground flex items-center",children:[c.jsx(id,{className:"h-5 w-5 mr-2"}),"Choose Dates"]})}),c.jsx(Nn,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex gap-4 flex-wrap",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"startDate",children:"Start Date"}),c.jsx(Ge,{id:"startDate",type:"date",value:o.startDate,onChange:w=>a({...o,startDate:w.target.value}),className:"input-dark"})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"endDate",children:"End Date"}),c.jsx(Ge,{id:"endDate",type:"date",value:o.endDate,onChange:w=>a({...o,endDate:w.target.value}),className:"input-dark"})]})]}),c.jsxs(Be,{onClick:m,disabled:r,className:"btn-primary w-full md:w-auto",children:[c.jsx(F7,{className:"h-4 w-4 mr-2"}),r?"Generating...":"Show Report"]})]})})]}),e&&c.jsxs(c.Fragment,{children:[c.jsxs(Ir,{className:"card-metric border-2 border-primary",children:[c.jsx(Gn,{children:c.jsxs(is,{className:"text-foreground flex items-center text-xl",children:[c.jsx(Qo,{className:"h-6 w-6 mr-2"}),"Profit/Loss Summary"]})}),c.jsxs(Nn,{children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:"Net Profit"}),c.jsx("p",{className:`text-4xl font-bold ${e.netProfit>=0?"text-success":"text-destructive"}`,children:u(e.netProfit)})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-border",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-muted-foreground text-xs",children:"Revenue"}),c.jsx("p",{className:"text-lg font-bold text-success",children:u(e.sales.totalRevenue)})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-muted-foreground text-xs",children:"COGS"}),c.jsxs("p",{className:"text-lg font-bold text-destructive",children:["-",u(e.cogs.totalCOGS)]})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-muted-foreground text-xs",children:"Payments"}),c.jsxs("p",{className:"text-lg font-bold text-warning",children:["-",u(e.payments.total)]})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-muted-foreground text-xs",children:"Expenses"}),c.jsxs("p",{className:"text-lg font-bold text-warning",children:["-",u(e.expenses.total)]})]})]})]})]}),c.jsxs(Ir,{className:"card-dark",children:[c.jsx(Gn,{children:c.jsxs(is,{className:"text-foreground flex items-center",children:[c.jsx(od,{className:"h-5 w-5 mr-2 text-primary"}),"Production Summary"]})}),c.jsx(Nn,{children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{className:"bg-muted/20 rounded-lg p-4 text-center",children:[c.jsx("p",{className:"text-secondary text-sm font-medium",children:"Total Punches"}),c.jsx("p",{className:"text-2xl font-bold text-foreground",children:e.production.totalPunches.toLocaleString()})]}),e.production.byType.map((w,y)=>c.jsxs("div",{className:"bg-muted/20 rounded-lg p-4 text-center",children:[c.jsx("p",{className:"text-secondary text-sm font-medium",children:w.name}),c.jsx("p",{className:"text-2xl font-bold text-foreground",children:w.quantity.toLocaleString()}),c.jsxs("p",{className:"text-xs text-secondary",children:[w.punches," punches"]})]},y))]})})]}),c.jsxs(Ir,{className:"card-dark",children:[c.jsx(Gn,{children:c.jsxs(is,{className:"text-foreground flex items-center",children:[c.jsx(ad,{className:"h-5 w-5 mr-2 text-success"}),"Sales Performance"]})}),c.jsx(Nn,{children:c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-success/10 rounded-lg p-4 text-center",children:[c.jsx("p",{className:"text-secondary text-sm font-medium",children:"Total Revenue"}),c.jsx("p",{className:"text-2xl font-bold text-success",children:u(e.sales.totalRevenue)})]}),c.jsxs("div",{className:"bg-muted/20 rounded-lg p-4 text-center",children:[c.jsx("p",{className:"text-secondary text-sm font-medium",children:"Qty Sold"}),c.jsx("p",{className:"text-2xl font-bold text-foreground",children:e.sales.totalQtySold.toLocaleString()})]}),c.jsxs("div",{className:"bg-warning/10 rounded-lg p-4 text-center",children:[c.jsx("p",{className:"text-secondary text-sm font-medium",children:"Outstanding"}),c.jsx("p",{className:"text-2xl font-bold text-warning",children:u(e.sales.outstandingBalance)})]})]})})]}),c.jsxs(Ir,{className:"card-dark",children:[c.jsx(Gn,{children:c.jsxs(is,{className:"text-foreground flex items-center",children:[c.jsx(co,{className:"h-5 w-5 mr-2 text-primary"}),"Materials Consumption"]})}),c.jsx(Nn,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-border",children:[c.jsx("th",{className:"text-left py-2 text-foreground font-semibold",children:"Material"}),c.jsx("th",{className:"text-right py-2 text-foreground font-semibold",children:"Purchased"}),c.jsx("th",{className:"text-right py-2 text-foreground font-semibold",children:"Used"}),c.jsx("th",{className:"text-right py-2 text-foreground font-semibold",children:"Cost"})]})}),c.jsxs("tbody",{children:[e.materials.purchased.map((w,y)=>{var v;const b=((v=e.materials.used.find(S=>S.name===w.name))==null?void 0:v.quantity)||0;return c.jsxs("tr",{className:"border-b border-border/50",children:[c.jsx("td",{className:"py-2 text-foreground",children:w.name}),c.jsx("td",{className:"py-2 text-right text-foreground",children:w.quantity.toLocaleString()}),c.jsx("td",{className:"py-2 text-right text-foreground",children:b.toLocaleString()}),c.jsx("td",{className:"py-2 text-right text-destructive",children:u(w.cost)})]},y)}),c.jsxs("tr",{className:"font-bold",children:[c.jsx("td",{colSpan:3,className:"py-2 text-foreground",children:"Total Material Cost"}),c.jsx("td",{className:"py-2 text-right text-destructive",children:u(e.materials.totalPurchaseCost)})]})]})]})})})]}),c.jsxs(Ir,{className:"card-dark",children:[c.jsx(Gn,{children:c.jsxs(is,{className:"text-foreground flex items-center",children:[c.jsx(Zj,{className:"h-5 w-5 mr-2 text-warning"}),"Employee Payments"]})}),c.jsx(Nn,{children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[c.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 text-center",children:[c.jsx("p",{className:"text-secondary text-xs font-medium",children:"Salary"}),c.jsx("p",{className:"text-lg font-bold text-foreground",children:u(e.payments.salary)})]}),c.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 text-center",children:[c.jsx("p",{className:"text-secondary text-xs font-medium",children:"Advance"}),c.jsx("p",{className:"text-lg font-bold text-foreground",children:u(e.payments.advance)})]}),c.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 text-center",children:[c.jsx("p",{className:"text-secondary text-xs font-medium",children:"Bonus"}),c.jsx("p",{className:"text-lg font-bold text-foreground",children:u(e.payments.bonus)})]}),c.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 text-center",children:[c.jsx("p",{className:"text-secondary text-xs font-medium",children:"Incentive"}),c.jsx("p",{className:"text-lg font-bold text-foreground",children:u(e.payments.incentive)})]}),c.jsxs("div",{className:"bg-warning/20 rounded-lg p-3 text-center",children:[c.jsx("p",{className:"text-secondary text-xs font-medium",children:"Total"}),c.jsx("p",{className:"text-lg font-bold text-warning",children:u(e.payments.total)})]})]})})]}),c.jsxs(Ir,{className:"card-dark",children:[c.jsx(Gn,{children:c.jsxs(is,{className:"text-foreground flex items-center",children:[c.jsx(Qo,{className:"h-5 w-5 mr-2 text-destructive"}),"Production Costs (COGS)"]})}),c.jsx(Nn,{children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 text-center",children:[c.jsx("p",{className:"text-secondary text-xs font-medium",children:"Material Costs"}),c.jsx("p",{className:"text-lg font-bold text-foreground",children:u(e.cogs.materialCost)})]}),c.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 text-center",children:[c.jsx("p",{className:"text-secondary text-xs font-medium",children:"Production Wages"}),c.jsx("p",{className:"text-lg font-bold text-foreground",children:u(e.cogs.productionWages)})]}),c.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 text-center",children:[c.jsx("p",{className:"text-secondary text-xs font-medium",children:"Loading Wages"}),c.jsx("p",{className:"text-lg font-bold text-foreground",children:u(e.cogs.loadingWages)})]}),c.jsxs("div",{className:"bg-destructive/20 rounded-lg p-3 text-center",children:[c.jsx("p",{className:"text-secondary text-xs font-medium",children:"Total COGS"}),c.jsx("p",{className:"text-lg font-bold text-destructive",children:u(e.cogs.totalCOGS)})]})]})})]}),c.jsxs(Ir,{className:"card-dark",children:[c.jsx(Gn,{children:c.jsxs(is,{className:"text-foreground flex items-center",children:[c.jsx(V7,{className:"h-5 w-5 mr-2 text-warning"}),"Operating Expenses"]})}),c.jsx(Nn,{children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[c.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 text-center",children:[c.jsx("p",{className:"text-secondary text-xs font-medium",children:"Transport"}),c.jsx("p",{className:"text-lg font-bold text-foreground",children:u(e.expenses.transport)})]}),c.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 text-center",children:[c.jsx("p",{className:"text-secondary text-xs font-medium",children:"Utilities"}),c.jsx("p",{className:"text-lg font-bold text-foreground",children:u(e.expenses.utilities)})]}),c.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 text-center",children:[c.jsx("p",{className:"text-secondary text-xs font-medium",children:"Salaries"}),c.jsx("p",{className:"text-lg font-bold text-foreground",children:u(e.expenses.salaries)})]}),c.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 text-center",children:[c.jsx("p",{className:"text-secondary text-xs font-medium",children:"Repairs"}),c.jsx("p",{className:"text-lg font-bold text-foreground",children:u(e.expenses.repairs)})]}),c.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 text-center",children:[c.jsx("p",{className:"text-secondary text-xs font-medium",children:"Misc"}),c.jsx("p",{className:"text-lg font-bold text-foreground",children:u(e.expenses.miscellaneous)})]}),c.jsxs("div",{className:"bg-warning/20 rounded-lg p-3 text-center",children:[c.jsx("p",{className:"text-secondary text-xs font-medium",children:"Total"}),c.jsx("p",{className:"text-lg font-bold text-warning",children:u(e.expenses.total)})]})]})})]}),c.jsxs(Ir,{className:"card-metric border-2 border-success",children:[c.jsx(Gn,{children:c.jsxs(is,{className:"text-foreground flex items-center text-xl",children:[c.jsx(P7,{className:"h-6 w-6 mr-2"}),"Financial Overview"]})}),c.jsx(Nn,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[c.jsx("span",{className:"text-foreground",children:"Total Revenue"}),c.jsx("span",{className:"text-xl font-bold text-success",children:u(e.sales.totalRevenue)})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[c.jsx("span",{className:"text-foreground",children:"- Production Costs (COGS)"}),c.jsxs("span",{className:"text-lg font-semibold text-destructive",children:["-",u(e.cogs.totalCOGS)]})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[c.jsx("span",{className:"text-foreground",children:"- Employee Payments"}),c.jsxs("span",{className:"text-lg font-semibold text-warning",children:["-",u(e.payments.total)]})]}),c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border",children:[c.jsx("span",{className:"text-foreground",children:"- Operating Expenses"}),c.jsxs("span",{className:"text-lg font-semibold text-warning",children:["-",u(e.expenses.total)]})]}),c.jsxs("div",{className:"flex justify-between items-center py-4 bg-muted/20 rounded-lg px-4",children:[c.jsx("span",{className:"text-lg font-bold text-foreground",children:"= Net Profit"}),c.jsx("span",{className:`text-2xl font-bold ${e.netProfit>=0?"text-success":"text-destructive"}`,children:u(e.netProfit)})]})]})})]})]})]})})},f8=x.forwardRef(({className:e,...t},r)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:r,className:Qe("w-full caption-bottom text-sm",e),...t})}));f8.displayName="Table";const h8=x.forwardRef(({className:e,...t},r)=>c.jsx("thead",{ref:r,className:Qe("[&_tr]:border-b",e),...t}));h8.displayName="TableHeader";const p8=x.forwardRef(({className:e,...t},r)=>c.jsx("tbody",{ref:r,className:Qe("[&_tr:last-child]:border-0",e),...t}));p8.displayName="TableBody";const rX=x.forwardRef(({className:e,...t},r)=>c.jsx("tfoot",{ref:r,className:Qe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));rX.displayName="TableFooter";const Ow=x.forwardRef(({className:e,...t},r)=>c.jsx("tr",{ref:r,className:Qe("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Ow.displayName="TableRow";const ja=x.forwardRef(({className:e,...t},r)=>c.jsx("th",{ref:r,className:Qe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ja.displayName="TableHead";const Aa=x.forwardRef(({className:e,...t},r)=>c.jsx("td",{ref:r,className:Qe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Aa.displayName="TableCell";const nX=x.forwardRef(({className:e,...t},r)=>c.jsx("caption",{ref:r,className:Qe("mt-4 text-sm text-muted-foreground",e),...t}));nX.displayName="TableCaption";const sX=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!1),[s,i]=x.useState(!1),{toast:o}=gs(),{factoryId:a}=mo(),[l,u]=x.useState({date:new Date().toISOString().split("T")[0],expense_type:"miscellaneous",description:"",amount:"",vendor_name:"",receipt_number:"",notes:""}),d=[{value:"transport",label:"Transport"},{value:"utilities",label:"Utilities"},{value:"office_salaries",label:"Office Salaries"},{value:"repairs",label:"Repairs"},{value:"miscellaneous",label:"Miscellaneous"}],h=E=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(E),m=async()=>{var E,T;if(a){i(!0);try{const F=await Zm.getOtherExpenses(a);t(F||[])}catch(F){console.error("Error loading expenses:",F),o({title:"Error loading expenses",description:((T=(E=F.response)==null?void 0:E.data)==null?void 0:T.detail)||"Failed to load expenses",variant:"destructive"})}finally{i(!1)}}};x.useEffect(()=>{a&&m()},[a]);const f=async E=>{var T,F;if(E.preventDefault(),!!a){i(!0);try{const D={date:l.date,expense_type:l.expense_type,description:l.description,amount:Number(l.amount),vendor_name:l.vendor_name||void 0,receipt_number:l.receipt_number||void 0,notes:l.notes||void 0,factory_id:a};await Zm.createOtherExpense(D),o({title:"Success",description:"Expense added successfully"}),u({date:new Date().toISOString().split("T")[0],expense_type:"miscellaneous",description:"",amount:"",vendor_name:"",receipt_number:"",notes:""}),n(!1),await m()}catch(D){console.error("Error adding expense:",D),o({title:"Error",description:((F=(T=D.response)==null?void 0:T.data)==null?void 0:F.detail)||"Failed to add expense. Please try again.",variant:"destructive"})}finally{i(!1)}}},[w,y]=x.useState({open:!1,id:""}),b=async E=>{var T,F;try{await Zm.deleteOtherExpense(E),o({title:"Success",description:"Expense deleted"}),await m()}catch(D){console.error("Error deleting expense:",D),o({title:"Error",description:((F=(T=D.response)==null?void 0:T.data)==null?void 0:F.detail)||"Failed to delete expense. Please try again.",variant:"destructive"})}finally{y({open:!1,id:""})}},v=()=>{const E={};return e.forEach(T=>{E[T.expense_type]=(E[T.expense_type]||0)+T.amount}),E},S=e.reduce((E,T)=>E+T.amount,0),_=v();return c.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Other Expenses"}),c.jsxs(dn,{open:r,onOpenChange:n,children:[c.jsx(yh,{asChild:!0,children:c.jsxs(Be,{className:"gap-2",children:[c.jsx(Pi,{className:"h-4 w-4"}),"Add Expense"]})}),c.jsxs(tn,{className:"max-w-2xl",children:[c.jsx(rn,{children:c.jsx(nn,{children:"Add New Expense"})}),c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{children:"Date"}),c.jsx(Ge,{type:"date",value:l.date,onChange:E=>u({...l,date:E.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Expense Type"}),c.jsxs(so,{value:l.expense_type,onValueChange:E=>u({...l,expense_type:E}),children:[c.jsx(Ei,{children:c.jsx(io,{})}),c.jsx(ji,{children:d.map(E=>c.jsx(os,{value:E.value,children:E.label},E.value))})]})]})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Description"}),c.jsx(Ge,{value:l.description,onChange:E=>u({...l,description:E.target.value}),placeholder:"Brief description of the expense",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{children:"Amount ()"}),c.jsx(Ge,{type:"number",step:"0.01",value:l.amount,onChange:E=>u({...l,amount:E.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Vendor Name"}),c.jsx(Ge,{value:l.vendor_name,onChange:E=>u({...l,vendor_name:E.target.value}),placeholder:"Optional"})]})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Receipt Number"}),c.jsx(Ge,{value:l.receipt_number,onChange:E=>u({...l,receipt_number:E.target.value}),placeholder:"Optional"})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Notes"}),c.jsx(Ho,{value:l.notes,onChange:E=>u({...l,notes:E.target.value}),placeholder:"Additional notes",rows:3})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Be,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),c.jsx(Be,{type:"submit",disabled:s,children:"Add Expense"})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(Ir,{className:"p-6",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-3 bg-destructive/10 rounded-lg",children:c.jsx(Mg,{className:"h-6 w-6 text-destructive"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Expenses"}),c.jsx("p",{className:"text-2xl font-bold text-foreground",children:h(S)})]})]})}),c.jsx(Ir,{className:"p-6",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:c.jsx(Qo,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"}),c.jsx("p",{className:"text-2xl font-bold text-foreground",children:h(e.filter(E=>new Date(E.date).getMonth()===new Date().getMonth()).reduce((E,T)=>E+T.amount,0))})]})]})})]}),c.jsxs(Ir,{className:"p-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4 text-foreground",children:"Expense Breakdown by Category"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:d.map(E=>c.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:E.label}),c.jsx("p",{className:"text-lg font-semibold text-foreground",children:h(_[E.value]||0)})]},E.value))})]}),c.jsxs(Ir,{className:"p-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4 text-foreground",children:"Recent Expenses"}),e.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Mg,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"No expenses recorded yet"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(f8,{children:[c.jsx(h8,{children:c.jsxs(Ow,{children:[c.jsx(ja,{children:"Date"}),c.jsx(ja,{children:"Type"}),c.jsx(ja,{children:"Description"}),c.jsx(ja,{children:"Vendor"}),c.jsx(ja,{children:"Receipt #"}),c.jsx(ja,{className:"text-right",children:"Amount"}),c.jsx(ja,{})]})}),c.jsx(p8,{children:e.map(E=>{var T;return c.jsxs(Ow,{children:[c.jsx(Aa,{children:new Date(E.date).toLocaleDateString()}),c.jsx(Aa,{children:c.jsx("span",{className:"px-2 py-1 bg-muted rounded text-xs",children:(T=d.find(F=>F.value===E.expense_type))==null?void 0:T.label})}),c.jsx(Aa,{children:E.description}),c.jsx(Aa,{children:E.vendor_name||"-"}),c.jsx(Aa,{children:E.receipt_number||"-"}),c.jsx(Aa,{className:"text-right font-semibold",children:h(E.amount)}),c.jsx(Aa,{children:c.jsx(Be,{variant:"ghost",size:"sm",onClick:()=>y({open:!0,id:E.id}),children:c.jsx(fo,{className:"h-4 w-4 text-destructive"})})})]},E.id)})})]})})]}),c.jsx(Td,{open:w.open,onOpenChange:E=>y({...w,open:E}),children:c.jsxs(Cc,{children:[c.jsxs(kc,{children:[c.jsx(Tc,{children:"Are you sure?"}),c.jsx(Rc,{children:"This action cannot be undone. This will permanently delete this expense record."})]}),c.jsxs(Pc,{children:[c.jsx(Oc,{children:"Cancel"}),c.jsx(Lc,{onClick:()=>b(w.id),children:"Delete"})]})]})})]})},iX=()=>{const[e,t]=x.useState("factory-info"),{toast:r}=gs(),[n,s]=x.useState(null),[i,o]=x.useState(""),[a,l]=x.useState(""),[u,d]=x.useState(""),[h,m]=x.useState(""),[f,w]=x.useState([]),[y,b]=x.useState(!1),[v,S]=x.useState(null),[_,E]=x.useState(""),[T,F]=x.useState(""),[D,U]=x.useState(4),[B,K]=x.useState(null),[L,k]=x.useState([]),[W,P]=x.useState(!1),[Z,ne]=x.useState(null),[ie,M]=x.useState(""),[H,ae]=x.useState(""),[de,C]=x.useState([]),[q,V]=x.useState(15),[Y,se]=x.useState(2),[Q,ce]=x.useState(!1);x.useEffect(()=>{ue()},[]),x.useEffect(()=>{n&&me()},[n]);const ue=async()=>{try{const{factoryApi:_e}=await Sn(async()=>{const{factoryApi:mt}=await Promise.resolve().then(()=>q2);return{factoryApi:mt}},void 0),Ie=await _e.getAll();if(!Ie||Ie.length===0){r({title:"No factory found",description:"Please complete onboarding first",variant:"destructive"});return}const $e=Ie[0];s($e),o($e.name),l($e.location||""),d($e.owner_name||""),m($e.contact_number||"")}catch(_e){r({title:"Error loading factory",description:_e.message||"Failed to load",variant:"destructive"})}},me=async()=>{n&&await Promise.all([ve(),be(),Ne()])},ve=async()=>{if(n)try{const{productApi:_e}=await Sn(async()=>{const{productApi:$e}=await Promise.resolve().then(()=>Qm);return{productApi:$e}},void 0),Ie=await _e.getByFactory(n.id);w(Ie||[])}catch(_e){r({title:"Error loading products",description:_e.message||"Failed to load",variant:"destructive"})}},be=async()=>{if(n)try{const{materialApi:_e}=await Sn(async()=>{const{materialApi:$e}=await Promise.resolve().then(()=>Xm);return{materialApi:$e}},void 0),Ie=await _e.getByFactory(n.id);k(Ie||[])}catch(_e){r({title:"Error loading materials",description:_e.message||"Failed to load",variant:"destructive"})}},Ne=async()=>{if(n)try{const{expenseApi:_e}=await Sn(async()=>{const{expenseApi:$e}=await Promise.resolve().then(()=>z2);return{expenseApi:$e}},void 0),Ie=await _e.getRates(n.id);if(Ie){C(Ie);const $e=Ie.find(Et=>Et.rate_type==="production_per_punch"),mt=Ie.find(Et=>Et.rate_type==="loading_per_brick");$e&&V($e.rate_amount),mt&&se(mt.rate_amount)}}catch(_e){r({title:"Error loading rates",description:_e.message||"Failed to load",variant:"destructive"})}},Ue=async()=>{if(n){ce(!0);try{const{factoryApi:_e}=await Sn(async()=>{const{factoryApi:Ie}=await Promise.resolve().then(()=>q2);return{factoryApi:Ie}},void 0);await _e.update(n.id,{name:i,location:a||void 0,owner_name:u||void 0,contact_number:h||void 0}),r({title:"Factory info saved"}),await ue()}catch(_e){r({title:"Error saving factory",description:_e.message||"Failed to save",variant:"destructive"})}finally{ce(!1)}}},R=_e=>{_e?(S(_e),E(_e.name),F(_e.size_description||""),U(_e.items_per_punch||4)):(S(null),E(""),F(""),U(4)),b(!0)},Te=async()=>{if(!n||!_.trim()){r({title:"Please enter product name",variant:"destructive"});return}ce(!0);try{const{productApi:_e}=await Sn(async()=>{const{productApi:Ie}=await Promise.resolve().then(()=>Qm);return{productApi:Ie}},void 0);v?(await _e.update(v.id,{name:_,size_description:T||void 0,items_per_punch:D}),r({title:"Product updated successfully"})):(await _e.create({factory_id:n.id,name:_,size_description:T||void 0,items_per_punch:D,unit:"Pieces"}),r({title:"Product added successfully"})),b(!1),await ve()}catch(_e){r({title:"Error saving product",description:_e.message||"Failed to save",variant:"destructive"})}finally{ce(!1)}},He=async _e=>{try{const{productApi:Ie}=await Sn(async()=>{const{productApi:$e}=await Promise.resolve().then(()=>Qm);return{productApi:$e}},void 0);await Ie.delete(_e),r({title:"Product deleted"}),await ve()}catch(Ie){r({title:"Error deleting product",description:Ie.message||"Failed to delete",variant:"destructive"})}K(null)},oe=_e=>{_e?(ne(_e),M(_e.material_name),ae(_e.unit)):(ne(null),M(""),ae("")),P(!0)},X=async()=>{if(!n||!ie.trim()||!H.trim()){r({title:"Please fill all fields",variant:"destructive"});return}ce(!0);try{const{materialApi:_e}=await Sn(async()=>{const{materialApi:Ie}=await Promise.resolve().then(()=>Xm);return{materialApi:Ie}},void 0);Z?(await _e.update(Z.id,{material_name:ie,unit:H}),r({title:"Material updated successfully"})):(await _e.create({factory_id:n.id,material_name:ie,unit:H,current_stock_qty:0,average_cost_per_unit:0}),r({title:"Material added successfully"})),P(!1),await be()}catch(_e){r({title:"Error saving material",description:_e.message||"Failed to save",variant:"destructive"})}finally{ce(!1)}},ye=async _e=>{try{const{materialApi:Ie}=await Sn(async()=>{const{materialApi:$e}=await Promise.resolve().then(()=>Xm);return{materialApi:$e}},void 0);await Ie.delete(_e),r({title:"Material deleted"}),await be()}catch(Ie){r({title:"Error deleting material",description:Ie.message||"Failed to delete",variant:"destructive"})}K(null)},Ee=async()=>{if(n){ce(!0);try{const{expenseApi:_e}=await Sn(async()=>{const{expenseApi:Ie}=await Promise.resolve().then(()=>z2);return{expenseApi:Ie}},void 0);await _e.createRate({factory_id:n.id,rate_type:"production_per_punch",rate_amount:q,is_active:!0}),await _e.createRate({factory_id:n.id,rate_type:"loading_per_brick",rate_amount:Y,is_active:!0}),r({title:"Rates updated successfully"}),await Ne()}catch(_e){r({title:"Error saving rates",description:_e.message||"Failed to save",variant:"destructive"})}finally{ce(!1)}}},Oe=async()=>{localStorage.removeItem("token"),window.location.href="/"},Me=[{id:"factory-info",label:"Factory Info",icon:od},{id:"brick-types",label:"Brick Types",icon:co},{id:"raw-materials",label:"Raw Materials",icon:Y_},{id:"wages-rates",label:"Wages & Rates",icon:Qo}];return c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Qj,{className:"h-6 w-6 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Settings"})]}),c.jsxs(Be,{variant:"outline",onClick:Oe,className:"text-destructive",children:[c.jsx(Jj,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),c.jsx(Ir,{className:"bg-card",children:c.jsx(Nn,{className:"p-4 space-y-2",children:Me.map(_e=>{const Ie=_e.icon,$e=e===_e.id;return c.jsxs("button",{onClick:()=>t(_e.id),className:`w-full flex items-center gap-3 p-3 rounded-lg transition-colors ${$e?"bg-primary text-primary-foreground":"hover:bg-muted text-foreground"}`,children:[c.jsx(Ie,{className:"h-5 w-5"}),c.jsx("span",{className:"font-medium",children:_e.label})]},_e.id)})})}),e==="factory-info"&&c.jsxs(Ir,{children:[c.jsx(Gn,{children:c.jsxs(is,{className:"flex items-center gap-2",children:[c.jsx(od,{className:"h-5 w-5"}),"Factory Information"]})}),c.jsxs(Nn,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"factoryName",children:"Factory Name"}),c.jsx(Ge,{id:"factoryName",value:i,onChange:_e=>o(_e.target.value),placeholder:"Enter factory name"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"factoryLocation",children:"Location"}),c.jsx(Ge,{id:"factoryLocation",value:a,onChange:_e=>l(_e.target.value),placeholder:"Enter location"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"ownerName",children:"Owner Name"}),c.jsx(Ge,{id:"ownerName",value:u,onChange:_e=>d(_e.target.value),placeholder:"Enter owner name"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"contactNumber",children:"Contact Number"}),c.jsx(Ge,{id:"contactNumber",value:h,onChange:_e=>m(_e.target.value),placeholder:"Enter contact number",type:"tel"})]}),c.jsx(Be,{onClick:Ue,disabled:Q,children:Q?"Saving...":"Save Factory Info"})]})]}),e==="brick-types"&&c.jsxs(Ir,{children:[c.jsxs(Gn,{className:"flex flex-row items-center justify-between",children:[c.jsxs(is,{className:"flex items-center gap-2",children:[c.jsx(co,{className:"h-5 w-5"}),"Manage Brick Types"]}),c.jsxs(Be,{onClick:()=>R(),className:"bg-primary hover:bg-primary/90",children:[c.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Add New"]})]}),c.jsx(Nn,{className:"space-y-3",children:f.length===0?c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No brick types defined. Add your first brick type."}):f.map(_e=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-foreground",children:_e.name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[_e.size_description&&`${_e.size_description}  `,_e.items_per_punch," per punch"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Be,{variant:"outline",size:"icon",onClick:()=>R(_e),children:c.jsx(J_,{className:"h-4 w-4"})}),c.jsx(Be,{variant:"destructive",size:"icon",onClick:()=>K({type:"product",id:_e.id}),children:c.jsx(fo,{className:"h-4 w-4"})})]})]},_e.id))})]}),e==="raw-materials"&&c.jsxs(Ir,{children:[c.jsxs(Gn,{className:"flex flex-row items-center justify-between",children:[c.jsxs(is,{className:"flex items-center gap-2",children:[c.jsx(Y_,{className:"h-5 w-5"}),"Manage Raw Materials"]}),c.jsxs(Be,{onClick:()=>oe(),className:"bg-primary hover:bg-primary/90",children:[c.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Add New"]})]}),c.jsx(Nn,{className:"space-y-3",children:L.length===0?c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No materials defined. Add your first material."}):L.map(_e=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-foreground",children:_e.material_name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Unit: ",_e.unit]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Be,{variant:"outline",size:"icon",onClick:()=>oe(_e),children:c.jsx(J_,{className:"h-4 w-4"})}),c.jsx(Be,{variant:"destructive",size:"icon",onClick:()=>K({type:"material",id:_e.id}),children:c.jsx(fo,{className:"h-4 w-4"})})]})]},_e.id))})]}),e==="wages-rates"&&c.jsxs(Ir,{children:[c.jsx(Gn,{children:c.jsxs(is,{className:"flex items-center gap-2",children:[c.jsx(Qo,{className:"h-5 w-5"}),"Piece-Rate Wages"]})}),c.jsxs(Nn,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"productionRate",children:"Production Rate (per punch)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm",children:""}),c.jsx(Ge,{id:"productionRate",type:"number",step:"0.01",value:q,onChange:_e=>V(parseFloat(_e.target.value)||0),className:"max-w-xs"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Amount paid per punch to production workers"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"loadingRate",children:"Loading Rate (per brick)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm",children:""}),c.jsx(Ge,{id:"loadingRate",type:"number",step:"0.01",value:Y,onChange:_e=>se(parseFloat(_e.target.value)||0),className:"max-w-xs"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Amount paid per brick to loading workers"})]}),c.jsx(Be,{onClick:Ee,disabled:Q,children:Q?"Saving...":"Save Rates"})]})]}),c.jsx(dn,{open:y,onOpenChange:b,children:c.jsxs(tn,{children:[c.jsx(rn,{children:c.jsx(nn,{children:v?"Edit Brick Type":"Add New Brick Type"})}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"pName",children:"Brick Name"}),c.jsx(Ge,{id:"pName",value:_,onChange:_e=>E(_e.target.value),placeholder:"e.g., Solid Block 4 Inch"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"pSize",children:"Size Description"}),c.jsx(Ge,{id:"pSize",value:T,onChange:_e=>F(_e.target.value),placeholder:"e.g., 4 inch"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"pPerPunch",children:"Bricks Per Punch"}),c.jsx(Ge,{id:"pPerPunch",type:"number",value:D,onChange:_e=>U(parseInt(_e.target.value)||0)})]})]}),c.jsxs(Y2,{children:[c.jsx(Be,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),c.jsx(Be,{onClick:Te,disabled:Q,children:Q?"Saving...":"Save"})]})]})}),c.jsx(dn,{open:W,onOpenChange:P,children:c.jsxs(tn,{children:[c.jsx(rn,{children:c.jsx(nn,{children:Z?"Edit Material":"Add New Material"})}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"matName",children:"Material Name"}),c.jsx(Ge,{id:"matName",value:ie,onChange:_e=>M(_e.target.value),placeholder:"e.g., Cement"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"matUnit",children:"Unit"}),c.jsx(Ge,{id:"matUnit",value:H,onChange:_e=>ae(_e.target.value),placeholder:"e.g., bags, tons, liters"})]})]}),c.jsxs(Y2,{children:[c.jsx(Be,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),c.jsx(Be,{onClick:X,disabled:Q,children:Q?"Saving...":"Save"})]})]})}),c.jsx(Td,{open:B!==null,onOpenChange:()=>K(null),children:c.jsxs(Cc,{children:[c.jsxs(kc,{children:[c.jsx(Tc,{children:"Confirm Delete"}),c.jsxs(Rc,{children:["Are you sure you want to delete this ",(B==null?void 0:B.type)==="product"?"brick type":"material","? This action cannot be undone."]})]}),c.jsxs(Pc,{children:[c.jsx(Oc,{children:"Cancel"}),c.jsx(Lc,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>{(B==null?void 0:B.type)==="product"?He(B.id):(B==null?void 0:B.type)==="material"&&ye(B.id)},children:"Delete"})]})]})})]})},oX=()=>{const{isTrialExpired:e,isActive:t,setShowUpgradeModal:r,daysRemaining:n,subscriptionStatus:s}=qh();return!t&&!e&&n<=7&&n>0?c.jsx("div",{className:"bg-amber-500/20 border-b border-amber-500/30 px-4 py-2",children:c.jsxs("div",{className:"flex items-center justify-center gap-2 text-amber-200 text-sm",children:[c.jsx(Fg,{className:"h-4 w-4"}),c.jsxs("span",{children:["Trial ends in ",n," day",n!==1?"s":"","."]}),c.jsx("button",{onClick:()=>r(!0),className:"underline font-medium hover:text-amber-100 transition-colors",children:"Upgrade now"})]})}):e&&!t?c.jsx("div",{className:"bg-destructive/20 border-b border-destructive/30 px-4 py-3",children:c.jsxs("div",{className:"flex items-center justify-center gap-2 text-destructive-foreground text-sm",children:[c.jsx(Fg,{className:"h-4 w-4"}),c.jsx("span",{className:"font-medium",children:"Trial Expired. Read-only mode active."}),c.jsx("button",{onClick:()=>r(!0),className:"bg-primary text-primary-foreground px-3 py-1 rounded-md font-medium hover:bg-primary/90 transition-colors",children:"Upgrade to Resume"})]})}):null},aX=L0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function f0({className:e,variant:t,...r}){return c.jsx("div",{className:Qe(aX({variant:t}),e),...r})}const lX=[{type:"monthly",originalPrice:599,discountedPrice:299,label:"Monthly",badge:"Save 50%",buttonText:"Pay 299 & Activate",duration:30},{type:"yearly",originalPrice:7188,discountedPrice:2999,label:"Yearly Pro",badge:"Super Saver Deal",buttonText:"Pay 2,999 & Save Big",duration:365}],cX=["Unlimited Production Entries","Unlimited Sales & Invoices","Supplier Ledger & Debt Tracking","Cloud Backup & Data Security","Priority Support"];async function uX(e,t,r){console.log("handleRazorpayPayment called:",e,t),Jn.success("Mock payment successful! Activating subscription...");try{await Uh.completePayment({razorpay_payment_id:"mock_payment_"+Date.now(),razorpay_order_id:"mock_order_"+Date.now(),razorpay_signature:"mock_signature",plan_id:t}),Jn.success("Subscription activated successfully!"),r()}catch(n){console.error("Payment completion error:",n),Jn.error("Failed to activate subscription")}}const dX=()=>{const{showUpgradeModal:e,setShowUpgradeModal:t,refreshSubscription:r}=qh(),[n,s]=x.useState(!1),[i,o]=x.useState(null),a=async d=>{s(!0),o(d.type);try{await uX(d.discountedPrice*100,d.type,async()=>{await r(),t(!1),s(!1)})}catch(h){console.error("Payment error:",h),Jn.error("Failed to initiate payment")}finally{s(!1),o(null)}},l=async()=>{try{Jn.info("Restoring subscription..."),await Uh.restore(),await r(),Jn.success("Subscription restored!"),t(!1)}catch(d){console.error("Restore error:",d),Jn.error("Failed to restore subscription")}},u=()=>{t(!1),window.dispatchEvent(new CustomEvent("changeTab",{detail:"subscription"}))};return c.jsx(dn,{open:e,onOpenChange:t,children:c.jsxs(tn,{className:"sm:max-w-[700px] bg-card border-border max-h-[90vh] overflow-y-auto",children:[c.jsxs(rn,{className:"text-center pb-2",children:[c.jsx("div",{className:"flex justify-center mb-3",children:c.jsxs(f0,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white border-0 px-4 py-1.5 text-sm font-semibold",children:[c.jsx(Xj,{className:"h-4 w-4 mr-1"}),"Limited Time Launch Offer"]})}),c.jsx(nn,{className:"text-2xl font-bold text-foreground",children:"Upgrade to BrickWorks Premium"}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"Your free trial has ended. Continue managing your factory with unlimited access."})]}),c.jsx("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:lX.map(d=>c.jsxs("div",{className:`relative rounded-xl border-2 p-5 transition-all ${d.type==="yearly"?"border-amber-500 bg-amber-500/5 shadow-lg":"border-border hover:border-primary/50"}`,children:[d.badge&&c.jsxs(f0,{className:`absolute -top-3 left-1/2 -translate-x-1/2 border-0 ${d.type==="yearly"?"bg-amber-500 text-white":"bg-green-500 text-white"}`,children:[d.type==="yearly"&&c.jsx(Ix,{className:"h-3 w-3 mr-1"}),d.badge]}),c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:d.label}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("span",{className:"text-muted-foreground line-through text-sm",children:["",d.originalPrice.toLocaleString()]}),c.jsx("div",{className:"flex items-baseline justify-center gap-1 mt-1",children:c.jsxs("span",{className:`text-3xl font-bold ${d.type==="yearly"?"text-amber-500":"text-green-500"}`,children:["",d.discountedPrice.toLocaleString()]})}),d.type==="monthly"&&c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Billed every month."}),d.type==="yearly"&&c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Billed once a year. Less than 250/month!"})]}),c.jsx(Be,{className:`w-full font-semibold ${d.type==="yearly"?"bg-amber-500 hover:bg-amber-600 text-white":"bg-green-600 hover:bg-green-700"}`,size:"lg",onClick:()=>a(d),disabled:n,"aria-label":d.buttonText,children:n&&i===d.type?c.jsx(c.Fragment,{children:"Processing..."}):c.jsxs(c.Fragment,{children:[c.jsx(eA,{className:"h-4 w-4 mr-2"}),d.buttonText]})})]})]},d.type))}),c.jsxs("div",{className:"mt-6 pt-4 border-t border-border",children:[c.jsx("h4",{className:"text-sm font-semibold text-foreground mb-3 text-center",children:"Everything included:"}),c.jsx("div",{className:"grid grid-cols-1 gap-2",children:cX.map(d=>c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(Oh,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),c.jsx("span",{children:d})]},d))})]}),c.jsxs("div",{className:"text-center mt-4 space-y-2",children:[c.jsx("button",{onClick:u,className:"text-sm text-primary hover:underline font-medium",children:"View Full Pricing Page"}),c.jsx("br",{}),c.jsx("button",{onClick:l,className:"text-sm text-muted-foreground hover:underline",children:"Restore Purchase"})]}),c.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"Secure payment powered by Razorpay."})]})})},fX=[{type:"monthly",originalPrice:599,discountedPrice:299,label:"Monthly",badge:"Save 50%",buttonText:"Pay 299 & Activate",duration:30},{type:"yearly",originalPrice:7188,discountedPrice:2999,label:"Yearly Pro",badge:"Super Saver Deal",buttonText:"Pay 2,999 & Save Big",duration:365}],hX=["Unlimited Production Entries","Unlimited Sales & Invoices","Supplier Ledger & Debt Tracking","Cloud Backup & Data Security","Priority Support"];async function pX(e,t,r){console.log("handleRazorpayPayment called:",e,t),Jn.success("Mock payment successful! Activating subscription...");try{await Uh.completePayment({razorpay_payment_id:"mock_payment_"+Date.now(),razorpay_order_id:"mock_order_"+Date.now(),razorpay_signature:"mock_signature",plan_id:t}),Jn.success("Subscription activated successfully!"),r()}catch(n){console.error("Payment completion error:",n),Jn.error("Failed to activate subscription")}}const mX=()=>{const e=ZB(),{refreshSubscription:t,isActive:r,subscriptionStatus:n,daysRemaining:s}=qh(),[i,o]=x.useState(!1),[a,l]=x.useState(null),u=async h=>{o(!0),l(h.type);try{await pX(h.discountedPrice*100,h.type,async()=>{await t(),o(!1),Jn.success("Redirecting to dashboard..."),setTimeout(()=>e("/"),1e3)})}catch(m){console.error("Payment error:",m),Jn.error("Failed to initiate payment")}finally{o(!1),l(null)}},d=async()=>{try{Jn.info("Restoring subscription..."),await Uh.restore(),await t(),Jn.success("Subscription restored!")}catch(h){console.error("Restore error:",h),Jn.error("Failed to restore subscription")}};return c.jsx("div",{className:"min-h-screen bg-background p-6",children:c.jsxs("div",{className:"max-w-5xl mx-auto",children:[c.jsxs(Be,{variant:"ghost",onClick:()=>e("/"),className:"mb-6",children:[c.jsx(k7,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),r&&c.jsx("div",{className:"mb-6 p-4 bg-green-500/20 border border-green-500/30 rounded-lg",children:c.jsxs("p",{className:"text-green-400 font-medium",children:[" Active Subscription (",n==="lifetime"?"Lifetime":n,")",n!=="lifetime"&&` - ${s} days remaining`]})}),c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs(f0,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white border-0 px-4 py-1.5 text-sm font-semibold mb-4",children:[c.jsx(Xj,{className:"h-4 w-4 mr-1"}),"Limited Time Launch Offer"]}),c.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Upgrade to BrickWorks Premium"}),c.jsx("p",{className:"text-muted-foreground text-lg",children:"Your free trial has ended. Continue managing your factory with unlimited access."})]}),c.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:fX.map(h=>c.jsxs("div",{className:`relative rounded-xl border-2 p-6 transition-all ${h.type==="yearly"?"border-amber-500 bg-amber-500/5 shadow-lg":"border-border hover:border-primary/50"}`,children:[h.badge&&c.jsxs(f0,{className:`absolute -top-3 left-1/2 -translate-x-1/2 border-0 ${h.type==="yearly"?"bg-amber-500 text-white":"bg-green-500 text-white"}`,children:[h.type==="yearly"&&c.jsx(Ix,{className:"h-3 w-3 mr-1"}),h.badge]}),c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:h.label}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("span",{className:"text-muted-foreground line-through text-sm",children:["",h.originalPrice.toLocaleString()]}),c.jsx("div",{className:"flex items-baseline justify-center gap-1 mt-1",children:c.jsxs("span",{className:`text-4xl font-bold ${h.type==="yearly"?"text-amber-500":"text-green-500"}`,children:["",h.discountedPrice.toLocaleString()]})}),h.type==="monthly"&&c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Billed every month."}),h.type==="yearly"&&c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Billed once a year. Less than 250/month!"})]}),c.jsx(Be,{className:`w-full font-semibold h-12 text-base ${h.type==="yearly"?"bg-amber-500 hover:bg-amber-600 text-white":"bg-green-600 hover:bg-green-700"}`,size:"lg",onClick:()=>u(h),disabled:i,"aria-label":h.buttonText,children:i&&a===h.type?c.jsx(c.Fragment,{children:"Processing..."}):c.jsxs(c.Fragment,{children:[c.jsx(eA,{className:"h-5 w-5 mr-2"}),h.buttonText]})})]})]},h.type))}),c.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 mb-6",children:[c.jsx("h4",{className:"text-lg font-semibold text-foreground mb-4 text-center",children:"Everything included:"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:hX.map(h=>c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(Oh,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),c.jsx("span",{children:h})]},h))})]}),c.jsx("div",{className:"text-center mb-4",children:c.jsx("button",{onClick:d,className:"text-sm text-primary hover:underline",children:"Restore Purchase"})}),c.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Secure payment powered by Razorpay."})]})})},gX=()=>{const{isTrialExpired:e,isActive:t,isLoading:r}=qh(),[n,s]=x.useState("dashboard"),[i,o]=x.useState({});x.useEffect(()=>{!r&&e&&!t&&s("subscription")},[e,t,r]),x.useEffect(()=>{const l=u=>{typeof u.detail=="object"&&u.detail.tab?(s(u.detail.tab),u.detail.showDuesOnly!==void 0&&o({showDuesOnly:u.detail.showDuesOnly})):(s(u.detail),o({}))};return window.addEventListener("changeTab",l),()=>window.removeEventListener("changeTab",l)},[]);const a=l=>{s(l),o({})};return c.jsxs("div",{className:"min-h-screen bg-background overflow-x-hidden",children:[c.jsx(oX,{}),c.jsx(Az,{activeTab:n,onTabChange:a}),c.jsxs("div",{className:"transition-all duration-300 ease-in-out",children:[n==="dashboard"&&c.jsx(DW,{}),n==="production"&&c.jsx(XW,{}),n==="materials"&&c.jsx(eH,{}),n==="sales"&&c.jsx(DJ,{initialShowDuesOnly:i.showDuesOnly}),n==="payments"&&c.jsx(MJ,{}),n==="expenses"&&c.jsx(sX,{}),n==="weekly"&&c.jsx(tX,{}),n==="subscription"&&c.jsx(mX,{}),n==="settings"&&c.jsx(iX,{})]}),c.jsx(dX,{})]})},yX="/assets/hero-factory-QdGIpJDP.jpg",vX=()=>{const{login:e,register:t}=kd(),[r,n]=x.useState(!0),[s,i]=x.useState(""),[o,a]=x.useState(""),[l,u]=x.useState(!1),[d,h]=x.useState(!1),{toast:m}=gs(),f=async w=>{var y;if(w.preventDefault(),!s.trim()||!o.trim()){m({title:"Please fill all fields",variant:"destructive"});return}h(!0);try{r?(await e(s,o),m({title:"Welcome back!"})):(await t(s,o),m({title:"Account created!",description:"Welcome to BrickWorks Manager!"}))}catch(b){console.error("Auth error:",b);let v=b.message||"An error occurred";b.code==="ERR_NETWORK"||v.includes("Network")?v="Cannot connect to server. Please check your internet connection.":v.includes("Invalid")||v.includes("Incorrect")?v="Invalid email or password":v.includes("already")?v="This email is already registered. Please login instead.":b.response&&(v=((y=b.response.data)==null?void 0:y.detail)||b.response.statusText||v),m({title:"Error",description:v,variant:"destructive"})}finally{h(!1)}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundImage:`url(${yX})`,backgroundSize:"cover",backgroundPosition:"center"},children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),c.jsxs(Ir,{className:"relative w-full max-w-md bg-card/95 backdrop-blur border-primary/30 border-2",children:[c.jsxs(Gn,{className:"text-center pb-2",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[c.jsx("div",{className:"bg-primary p-2 rounded-lg",children:c.jsx(co,{className:"h-8 w-8 text-primary-foreground"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-primary",children:"BrickWorks"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Manager"})]})]}),c.jsx("h2",{className:"text-xl font-semibold text-foreground",children:r?"Welcome Back":"Create Account"})]}),c.jsxs(Nn,{children:[c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"email",children:"Username / Email"}),c.jsx(Ge,{id:"email",type:"email",placeholder:"Enter your email",value:s,onChange:w=>i(w.target.value),className:"bg-muted border-border"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ge,{id:"password",type:l?"text":"password",placeholder:"Enter your password",value:o,onChange:w=>a(w.target.value),className:"bg-muted border-border pr-10"}),c.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:l?c.jsx(D7,{className:"h-4 w-4"}):c.jsx(M7,{className:"h-4 w-4"})})]})]}),c.jsx(Be,{type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground font-semibold py-6",disabled:d,children:d?"Please wait...":r?"LOG IN":"SIGN UP"})]}),c.jsxs("div",{className:"flex justify-between mt-4 text-sm",children:[c.jsx("button",{type:"button",className:"text-muted-foreground hover:text-foreground",onClick:()=>m({title:"Coming soon",description:"Password reset feature"}),children:"Forgot Password?"}),c.jsx("button",{type:"button",className:"text-primary hover:text-primary/80",onClick:()=>n(!r),children:r?"Create Account":"Login"})]})]})]})]})},wX=({userId:e,onComplete:t})=>{const[r,n]=x.useState(1),[s,i]=x.useState(!1),{toast:o}=gs(),[a,l]=x.useState(""),[u,d]=x.useState(""),[h,m]=x.useState(""),[f,w]=x.useState(""),[y,b]=x.useState([{name:"Solid Block 4 Inch",size:"4 inch",bricksPerPunch:4},{name:"Solid Block 6 Inch",size:"6 inch",bricksPerPunch:5}]),[v,S]=x.useState([{name:"Cement",unit:"Bags"},{name:"Dust",unit:"Tons"},{name:"M-Sand",unit:"Tons"}]),_=()=>{b([...y,{name:"",size:"",bricksPerPunch:4}])},E=k=>{y.length>1&&b(y.filter((W,P)=>P!==k))},T=(k,W,P)=>{const Z=[...y];Z[k]={...Z[k],[W]:P},b(Z)},F=()=>{S([...v,{name:"",unit:""}])},D=k=>{v.length>1&&S(v.filter((W,P)=>P!==k))},U=(k,W,P)=>{const Z=[...v];Z[k]={...Z[k],[W]:P},S(Z)},B=()=>{if(r===1){if(!a.trim()){o({title:"Please enter factory name",variant:"destructive"});return}n(2)}else if(r===2){if(!y.every(W=>W.name.trim()&&W.bricksPerPunch>0)){o({title:"Please fill all brick type details",variant:"destructive"});return}n(3)}},K=()=>{n(r-1)},L=async()=>{var W,P,Z,ne,ie,M,H,ae,de,C,q;const k=v.filter(V=>V.name.trim()&&V.unit.trim());if(k.length===0){o({title:"Please add at least one material",variant:"destructive"});return}i(!0);try{console.log("Starting onboarding process...");const{factoryApi:V}=await Sn(async()=>{const{factoryApi:ve}=await Promise.resolve().then(()=>q2);return{factoryApi:ve}},void 0),{productApi:Y}=await Sn(async()=>{const{productApi:ve}=await Promise.resolve().then(()=>Qm);return{productApi:ve}},void 0),{materialApi:se}=await Sn(async()=>{const{materialApi:ve}=await Promise.resolve().then(()=>Xm);return{materialApi:ve}},void 0),{expenseApi:Q}=await Sn(async()=>{const{expenseApi:ve}=await Promise.resolve().then(()=>z2);return{expenseApi:ve}},void 0);console.log("Step 1: Creating factory...",{name:a,location:u,ownerName:h,contactNumber:f});let ce;try{ce=await V.create({name:a,location:u||void 0,owner_name:h||void 0,contact_number:f||void 0}),console.log("Factory created successfully:",ce)}catch(ve){throw console.error("Factory creation failed:",ve),new Error(`Failed to create factory: ${((P=(W=ve.response)==null?void 0:W.data)==null?void 0:P.detail)||ve.message}`)}if(!ce||!ce.id)throw new Error("Factory was created but no ID was returned");const ue=ce.id;console.log("Factory ID:",ue),console.log("Step 2: Creating product definitions...");const me=y.filter(ve=>ve.name.trim());for(let ve=0;ve<me.length;ve++){const be=me[ve];try{console.log(`Creating product ${ve+1}/${me.length}:`,be.name),await Y.create({factory_id:ue,name:be.name,size_description:be.size||void 0,items_per_punch:be.bricksPerPunch,unit:"Pieces"})}catch(Ne){throw console.error(`Failed to create product "${be.name}":`,Ne),new Error(`Failed to create brick type "${be.name}": ${((ne=(Z=Ne.response)==null?void 0:Z.data)==null?void 0:ne.detail)||Ne.message}`)}}console.log("Products created successfully"),console.log("Step 3: Creating materials...");for(let ve=0;ve<k.length;ve++){const be=k[ve];try{console.log(`Creating material ${ve+1}/${k.length}:`,be.name),await se.create({factory_id:ue,material_name:be.name,unit:be.unit,current_stock_qty:0,average_cost_per_unit:0})}catch(Ne){throw console.error(`Failed to create material "${be.name}":`,Ne),new Error(`Failed to create material "${be.name}": ${((M=(ie=Ne.response)==null?void 0:ie.data)==null?void 0:M.detail)||Ne.message}`)}}console.log("Materials created successfully"),console.log("Step 4: Creating factory rates...");try{await Q.createRate({factory_id:ue,rate_type:"production_per_punch",rate_amount:15,is_active:!0}),await Q.createRate({factory_id:ue,rate_type:"loading_per_brick",rate_amount:2,is_active:!0}),console.log("Factory rates created successfully")}catch(ve){console.error("Failed to create factory rates:",ve),console.warn("Rates creation failed but continuing...")}console.log("Onboarding completed successfully!"),o({title:"Setup complete!",description:"Your factory is ready to use."}),t()}catch(V){console.error("=== ONBOARDING ERROR ==="),console.error("Error object:",V),console.error("Error message:",V.message),console.error("Error response:",V.response),console.error("Error response data:",(H=V.response)==null?void 0:H.data),console.error("Error response detail:",(de=(ae=V.response)==null?void 0:ae.data)==null?void 0:de.detail),console.error("========================");let Y="Setup failed";V.code==="ERR_NETWORK"||V.message.includes("Network")?Y="Network Error: Cannot connect to server. Please check your internet connection and try again.":(q=(C=V.response)==null?void 0:C.data)!=null&&q.detail?Y=V.response.data.detail:V.message&&(Y=V.message),o({title:"Setup failed",description:Y,variant:"destructive"})}finally{i(!1)}};return c.jsx("div",{className:"min-h-screen bg-background p-4 flex items-center justify-center",children:c.jsx(Ir,{className:"w-full max-w-lg",children:c.jsxs(Nn,{className:"pt-6",children:[r===1&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Step 1: Factory Details"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"factoryName",children:"Factory Name"}),c.jsx(Ge,{id:"factoryName",placeholder:"My Brick Factory",value:a,onChange:k=>l(k.target.value),className:"bg-muted"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"location",children:"Village / Location"}),c.jsx(Ge,{id:"location",placeholder:"Village Name",value:u,onChange:k=>d(k.target.value),className:"bg-muted"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"ownerName",children:"Owner Name"}),c.jsx(Ge,{id:"ownerName",placeholder:"Owner's full name",value:h,onChange:k=>m(k.target.value),className:"bg-muted"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ze,{htmlFor:"contactNumber",children:"Contact Number"}),c.jsx(Ge,{id:"contactNumber",placeholder:"Phone number",value:f,onChange:k=>w(k.target.value),className:"bg-muted",type:"tel"})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx(Be,{onClick:B,className:"bg-primary",children:"Next"})})]}),r===2&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Step 2: Brick Types"}),c.jsx("p",{className:"text-muted-foreground",children:"What bricks do you manufacture?"})]}),c.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto",children:y.map((k,W)=>c.jsxs("div",{className:"p-4 border border-border rounded-lg space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["Brick Type #",W+1]}),y.length>1&&c.jsx(Be,{variant:"ghost",size:"icon",onClick:()=>E(W),className:"text-muted-foreground hover:text-destructive",children:c.jsx(fo,{className:"h-4 w-4"})})]}),c.jsx(Ge,{placeholder:"Brick Name (e.g., Solid Block 4 Inch)",value:k.name,onChange:P=>T(W,"name",P.target.value),className:"bg-muted"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx(Ge,{placeholder:"Size (e.g., 4 inch)",value:k.size,onChange:P=>T(W,"size",P.target.value),className:"bg-muted"}),c.jsx(Ge,{type:"number",placeholder:"Per Punch",value:k.bricksPerPunch,onChange:P=>T(W,"bricksPerPunch",parseInt(P.target.value)||0),className:"bg-muted"})]})]},W))}),c.jsxs(Be,{variant:"outline",onClick:_,className:"w-full",children:[c.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Add Another Brick Type"]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx(Be,{variant:"ghost",onClick:K,children:"Back"}),c.jsx(Be,{onClick:B,className:"bg-primary",children:"Next"})]})]}),r===3&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Step 3: Raw Materials"}),c.jsx("p",{className:"text-muted-foreground",children:"What raw materials do you buy?"})]}),c.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:v.map((k,W)=>c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx(Ge,{placeholder:"Material Name",value:k.name,onChange:P=>U(W,"name",P.target.value),className:"bg-muted flex-1"}),c.jsx(Ge,{placeholder:"Unit",value:k.unit,onChange:P=>U(W,"unit",P.target.value),className:"bg-muted w-24"}),v.length>1&&c.jsx(Be,{variant:"ghost",size:"icon",onClick:()=>D(W),className:"text-muted-foreground hover:text-destructive",children:c.jsx(fo,{className:"h-4 w-4"})})]},W))}),c.jsxs(Be,{variant:"outline",onClick:F,className:"w-full",children:[c.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Add Material"]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx(Be,{variant:"ghost",onClick:K,children:"Back"}),c.jsx(Be,{onClick:L,disabled:s,children:s?"Setting up...":"Finish Setup"})]})]})]})})})},xX=()=>{const e=Zx();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},bX=new xB,_X=()=>{const{user:e,loading:t}=kd(),[r,n]=x.useState(null),[s,i]=x.useState(!0);x.useEffect(()=>{t||(async()=>{if(e)try{const l=await ph.getAll();n(l.length>0)}catch(l){console.error("Error checking factory:",l),n(!1)}finally{i(!1)}else n(null),i(!1)})()},[e,t]);const o=()=>{n(!0)};return t||s?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),c.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading..."})]})}):c.jsx(w9,{children:c.jsxs(g9,{children:[c.jsx(D2,{path:"/",element:e?r?c.jsx(gX,{}):c.jsx(wX,{userId:e.id,onComplete:o}):c.jsx(vX,{})}),c.jsx(D2,{path:"*",element:c.jsx(xX,{})})]})})},SX=()=>c.jsx(_B,{client:bX,children:c.jsx(J$,{children:c.jsx(Y$,{children:c.jsxs(GF,{children:[c.jsx(CD,{}),c.jsx(oM,{}),c.jsx(_X,{})]})})})});vj(document.getElementById("root")).render(c.jsx(SX,{}));export{Xt as _,Yc as c,Dw as g};
